import{j as x,K as h,F as K,y as le,C as oe,G as S,l as r,D as it,x as u,W as ne,X as dt,r as O,w as Z,f as se,J as ct,a as ut,i as pt,u as mt,k as _,m as xt,p as ft,q as e,s as t,A as q,v as V,M as Y,z as Ie,I as G,H as bt,L as _t,T as Ce,V as gt}from"./vendor-COAloQYc.js";import{_ as vt}from"./Layout-D6L3EU_m.js";import{P as Re,a as re,y as ce,ab as Oe,ac as $e,ad as qe,X as ue,N as Ee,D as Le,a3 as ht,A as yt,t as E,l as Ne}from"./ui-D5A2uRRy.js";/* empty css               */import{_ as wt}from"./CurrencyInput-DdFd4TZx.js";import{_ as kt}from"./CategoryCombobox-BN1pfC5G.js";import{_ as Tt}from"./SearchableSelect-D3ANEZx8.js";import{_ as St}from"./PremiumUpsellModal-DINlnrjr.js";import"./app-BlDNi2YG.js";/* empty css            */const jt={key:0,class:"flex items-center gap-1.5"},Dt=["innerHTML"],It={__name:"Pagination",props:{links:Array},setup(c){const i=m=>m.includes("Previous")?"Prev":m.includes("Next")?"Next":m;return(m,d)=>c.links.length>3?(u(),x("div",jt,[(u(!0),x(K,null,le(c.links,(f,y)=>(u(),x(K,{key:y},[f.url===null?(u(),x("div",{key:0,class:"px-3 py-2 text-xs font-bold text-slate-300 select-none",innerHTML:i(f.label)},null,8,Dt)):(u(),oe(r(it),{key:1,href:f.url,innerHTML:i(f.label),"preserve-scroll":"",class:S(["min-w-[38px] h-[38px] flex items-center justify-center px-3 py-2 text-xs font-bold rounded-xl border transition-all duration-300",[f.active?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100 ring-2 ring-indigo-600/10":"bg-white text-slate-500 border-slate-200 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100 hover:shadow-sm"]])},null,8,["href","innerHTML","class"]))],64))),128))])):h("",!0)}};var pe,Fe;function Ke(){if(Fe)return pe;Fe=1;function c(i){var m=typeof i;return i!=null&&(m=="object"||m=="function")}return pe=c,pe}var me,Me;function Ct(){if(Me)return me;Me=1;var c=typeof ne=="object"&&ne&&ne.Object===Object&&ne;return me=c,me}var xe,Ue;function Qe(){if(Ue)return xe;Ue=1;var c=Ct(),i=typeof self=="object"&&self&&self.Object===Object&&self,m=c||i||Function("return this")();return xe=m,xe}var fe,Ae;function Rt(){if(Ae)return fe;Ae=1;var c=Qe(),i=function(){return c.Date.now()};return fe=i,fe}var be,Be;function Ot(){if(Be)return be;Be=1;var c=/\s/;function i(m){for(var d=m.length;d--&&c.test(m.charAt(d)););return d}return be=i,be}var _e,Ve;function $t(){if(Ve)return _e;Ve=1;var c=Ot(),i=/^\s+/;function m(d){return d&&d.slice(0,c(d)+1).replace(i,"")}return _e=m,_e}var ge,Pe;function et(){if(Pe)return ge;Pe=1;var c=Qe(),i=c.Symbol;return ge=i,ge}var ve,ze;function qt(){if(ze)return ve;ze=1;var c=et(),i=Object.prototype,m=i.hasOwnProperty,d=i.toString,f=c?c.toStringTag:void 0;function y(w){var T=m.call(w,f),k=w[f];try{w[f]=void 0;var p=!0}catch{}var b=d.call(w);return p&&(T?w[f]=k:delete w[f]),b}return ve=y,ve}var he,Ge;function Et(){if(Ge)return he;Ge=1;var c=Object.prototype,i=c.toString;function m(d){return i.call(d)}return he=m,he}var ye,He;function Lt(){if(He)return ye;He=1;var c=et(),i=qt(),m=Et(),d="[object Null]",f="[object Undefined]",y=c?c.toStringTag:void 0;function w(T){return T==null?T===void 0?f:d:y&&y in Object(T)?i(T):m(T)}return ye=w,ye}var we,We;function Nt(){if(We)return we;We=1;function c(i){return i!=null&&typeof i=="object"}return we=c,we}var ke,Je;function Ft(){if(Je)return ke;Je=1;var c=Lt(),i=Nt(),m="[object Symbol]";function d(f){return typeof f=="symbol"||i(f)&&c(f)==m}return ke=d,ke}var Te,Xe;function Mt(){if(Xe)return Te;Xe=1;var c=$t(),i=Ke(),m=Ft(),d=NaN,f=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,w=/^0o[0-7]+$/i,T=parseInt;function k(p){if(typeof p=="number")return p;if(m(p))return d;if(i(p)){var b=typeof p.valueOf=="function"?p.valueOf():p;p=i(b)?b+"":b}if(typeof p!="string")return p===0?p:+p;p=c(p);var L=y.test(p);return L||w.test(p)?T(p.slice(2),L?2:8):f.test(p)?d:+p}return Te=k,Te}var Se,Ze;function Ut(){if(Ze)return Se;Ze=1;var c=Ke(),i=Rt(),m=Mt(),d="Expected a function",f=Math.max,y=Math.min;function w(T,k,p){var b,L,M,U,I,F,j=0,A=!1,C=!1,Q=!0;if(typeof T!="function")throw new TypeError(d);k=m(k)||0,c(p)&&(A=!!p.leading,C="maxWait"in p,M=C?f(m(p.maxWait)||0,k):M,Q="trailing"in p?!!p.trailing:Q);function s(v){var R=b,B=L;return b=L=void 0,j=v,U=T.apply(B,R),U}function H(v){return j=v,I=setTimeout(W,k),A?s(v):U}function g(v){var R=v-F,B=v-j,te=k-R;return C?y(te,M-B):te}function P(v){var R=v-F,B=v-j;return F===void 0||R>=k||R<0||C&&B>=M}function W(){var v=i();if(P(v))return ee(v);I=setTimeout(W,g(v))}function ee(v){return I=void 0,Q&&b?s(v):(b=L=void 0,U)}function l(){I!==void 0&&clearTimeout(I),j=0,b=F=L=I=void 0}function ae(){return I===void 0?U:ee(i())}function J(){var v=i(),R=P(v);if(b=arguments,L=this,F=v,R){if(I===void 0)return H(F);if(C)return clearTimeout(I),I=setTimeout(W,k),s(F)}return I===void 0&&(I=setTimeout(W,k)),U}return J.cancel=l,J.flush=ae,J}return Se=w,Se}var At=Ut();const Ye=dt(At),Bt={class:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-6 relative z-30"},Vt={class:"space-y-1"},Pt={class:"text-2xl md:text-3xl font-bold text-slate-900 tracking-tight"},zt={class:"text-sm md:text-base text-slate-500 font-medium"},Gt={class:"overflow-x-auto lg:overflow-visible no-scrollbar -mx-4 px-4 lg:mx-0 lg:px-0 flex lg:grid lg:grid-cols-3 flex-nowrap gap-6 mb-8 lg:mb-10 scroll-smooth py-4 lg:py-0 -my-4 lg:my-0"},Ht={class:"min-w-[85vw] lg:min-w-0 relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-200"},Wt={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Jt={class:"relative z-10"},Xt={class:"flex items-center gap-3 mb-6"},Zt={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},Yt={class:"font-bold text-lg text-white/90 tracking-tight"},Kt={class:"space-y-1"},Qt={class:"text-3xl font-bold tracking-tight tabular-nums"},es={class:"flex items-center gap-2 text-emerald-100 font-medium text-sm"},ts={class:"bg-white/20 px-2 py-0.5 rounded-lg text-white text-xs font-bold backdrop-blur-sm border border-white/10"},ss={class:"min-w-[85vw] lg:min-w-0 relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-rose-500 to-pink-600 text-white shadow-lg shadow-rose-200"},os={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},as={class:"relative z-10"},ns={class:"flex items-center gap-3 mb-6"},rs={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},ls={class:"font-bold text-lg text-white/90 tracking-tight"},is={class:"space-y-1"},ds={class:"text-3xl font-bold tracking-tight tabular-nums"},cs={class:"flex items-center gap-2 text-rose-100 font-medium text-sm"},us={class:"bg-white/20 px-2 py-0.5 rounded-lg text-white text-xs font-bold backdrop-blur-sm border border-white/10"},ps={class:"min-w-[85vw] lg:min-w-0 relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-200"},ms={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},xs={class:"relative z-10"},fs={class:"flex items-center gap-3 mb-6"},bs={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},_s={class:"font-bold text-lg text-white/90 tracking-tight"},gs={class:"space-y-1"},vs={class:"text-3xl font-bold tracking-tight tabular-nums"},hs={class:"flex items-center gap-2 text-indigo-100 font-medium text-sm"},ys={class:"bg-white/20 px-2 py-0.5 rounded-lg text-white text-xs font-bold backdrop-blur-sm border border-white/10"},ws={class:"mb-8 lg:mb-8 flex items-center justify-between gap-6"},ks={class:"relative flex-1 max-w-xl group"},Ts=["placeholder"],Ss={key:0,class:"glass-card mb-8 lg:mb-8 p-8 bg-white border border-slate-200 rounded-3xl shadow-xl shadow-slate-200/40 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 animate-in slide-in-from-top-4 duration-300"},js={class:"space-y-2"},Ds={class:"block text-xs font-bold text-slate-500 ml-1"},Is={class:"relative group"},Cs={value:""},Rs=["value"],Os={class:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400 group-hover:text-slate-600 transition-colors"},$s={class:"space-y-2"},qs={class:"block text-xs font-bold text-slate-500 ml-1"},Es={class:"flex p-1.5 bg-slate-50 rounded-xl border border-slate-200 h-[50px]"},Ls={class:"space-y-2"},Ns={class:"block text-xs font-bold text-slate-500 ml-1"},Fs={class:"space-y-2"},Ms={class:"block text-xs font-bold text-slate-500 ml-1"},Us={class:"sm:col-span-2 lg:col-span-4 flex justify-end pt-2"},As={id:"tour-transaction-list",class:""},Bs={key:0},Vs={class:"hidden md:block bg-white border border-slate-100 rounded-3xl shadow-sm mb-12 overflow-hidden"},Ps={class:"overflow-x-auto"},zs={class:"w-full text-left"},Gs={class:"bg-slate-50/50 border-b border-slate-100"},Hs={class:"text-xs font-bold text-slate-500 tracking-tight"},Ws={class:"px-6 py-4"},Js={class:"px-6 py-4"},Xs={class:"px-6 py-4"},Zs={class:"px-6 py-4"},Ys={class:"px-6 py-4 text-right px-8"},Ks={class:"px-6 py-4 text-right"},Qs={class:"divide-y divide-slate-50"},eo={class:"px-6 py-4"},to={class:"text-sm font-semibold text-slate-700 whitespace-nowrap"},so={class:"px-6 py-4"},oo={class:"text-sm font-normal text-slate-900 group-hover:text-indigo-900 transition-colors"},ao={class:"px-6 py-4"},no={class:"flex items-center gap-2"},ro={class:"text-sm font-semibold text-slate-600"},lo={class:"px-6 py-4"},io={class:"px-6 py-4 text-right px-8"},co={class:"space-y-1"},uo={key:0,class:"text-[10px] text-slate-400 font-bold block"},po={class:"px-6 py-4 text-right"},mo={class:"flex items-center justify-end gap-2"},xo=["onClick"],fo=["onClick"],bo={class:"px-8 py-5 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between"},_o={class:"flex items-center gap-4"},go={class:"flex items-center gap-2"},vo={class:"text-xs font-bold text-slate-500"},ho={value:10},yo={value:25},wo={value:50},ko={value:100},To={class:"text-xs font-semibold text-slate-400"},So={class:"md:hidden space-y-4 mb-4"},jo=["onClick"],Do={class:"flex justify-between items-start"},Io={class:"flex flex-col gap-1"},Co={class:"text-[10px] font-bold text-slate-400 tracking-wider"},Ro={class:"text-[14px] font-bold text-slate-900 line-clamp-1 leading-tight mb-1.5"},Oo={class:"flex items-center gap-2"},$o={class:"text-[10px] font-semibold text-slate-400 flex items-center gap-1.5 whitespace-nowrap"},qo={class:"text-right ml-4"},Eo={key:0,class:"text-[9px] text-slate-400 font-bold block mt-0.5"},Lo={class:"pb-24 flex items-center justify-center"},No={class:"md:hidden w-full px-4"},Fo=["disabled"],Mo={class:"flex items-center gap-3"},Uo={key:0,class:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"},Ao={key:1,class:"text-xs font-bold text-slate-400 py-2"},Bo={key:1,class:"bg-white border border-slate-100 rounded-[2rem] shadow-sm flex flex-col items-center justify-center py-20 text-center mb-32 md:mb-0"},Vo={class:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-100"},Po={class:"text-slate-900 font-bold text-base mb-1"},zo={class:"text-slate-500 text-sm mb-4"},Go={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},Ho={class:"relative z-10 w-full max-w-2xl max-h-[92vh] flex flex-col bg-white rounded-t-[2rem] sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-300"},Wo={class:"p-6 md:p-8 border-b border-slate-200 flex items-center justify-between shrink-0"},Jo={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},Xo={class:"text-xs md:text-sm text-slate-500 font-medium"},Zo={class:"p-6 md:p-8 overflow-y-auto flex-1"},Yo={class:"flex p-1.5 bg-slate-100 rounded-2xl border border-slate-200"},Ko={key:0,class:"mt-1 text-[11px] font-bold text-rose-500 ml-1"},Qo={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ea={class:"block text-xs font-bold text-slate-700 mb-2"},ta={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},sa={class:"block text-xs font-bold text-slate-700 mb-2"},oa={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},aa={class:"block text-xs font-bold text-slate-700 mb-2"},na={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},ra={key:1,class:"p-5 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl border border-indigo-200 space-y-3"},la={class:"flex items-center justify-between"},ia={class:"block text-xs font-bold text-indigo-900"},da={class:"flex items-center gap-1.5 px-3 py-1 bg-indigo-500 text-xs font-bold text-white rounded-full shadow-sm"},ca=["placeholder"],ua={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},pa={key:1,class:"flex items-center gap-2 text-sm font-bold text-indigo-700"},ma={class:"block text-xs font-bold text-slate-700 mb-2"},xa={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},fa={class:"block text-xs font-bold text-slate-700 mb-2"},ba={class:"text-slate-400 font-medium"},_a=["placeholder"],ga={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},va={class:"flex gap-3 pt-2"},ha=["disabled"],ya={key:0,class:"fixed inset-0 z-[100] flex items-end justify-center sm:items-center p-0 sm:p-6"},wa={class:"relative z-10 w-full max-w-full sm:max-w-sm bg-white rounded-t-[2.5rem] sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300"},ka={key:0,class:"p-6 space-y-6"},Ta={class:"flex items-start justify-between"},Sa={class:"space-y-1"},ja={class:"text-xs font-bold text-slate-400"},Da={class:"text-xs font-semibold text-slate-500"},Ia={class:"text-center py-4"},Ca={key:0,class:"text-xs text-slate-400 font-bold mt-1 block"},Ra={class:"grid grid-cols-2 gap-4"},Oa={class:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1"},$a={class:"text-[10px] font-bold text-slate-400"},qa={class:"flex items-center gap-2"},Ea={class:"text-sm font-bold text-slate-700 truncate"},La={class:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1"},Na={class:"text-[10px] font-bold text-slate-400"},Fa={class:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-2"},Ma={class:"text-[10px] font-bold text-slate-400"},Ua={class:"text-sm font-medium text-slate-700 leading-relaxed break-words"},Aa={class:"grid grid-cols-2 gap-3 pt-2"},je=`<div class="mt-4 flex justify-start">
    <button onclick="window.dispatchEvent(new CustomEvent('skip-tour'))" class="text-[11px] font-semibold text-slate-400 hover:text-rose-500 transition-colors">Skip Tutorial</button>
</div>`,Qa={__name:"Index",props:{transactions:Object,categories:Array,wallets:Array,filters:Object,currentExchangeRate:Number,summary:Object},setup(c){const i=O(null),m=mt(),d=c,f=q(()=>d.summary||{total_income:0,total_expense:0,total_income_count:0,total_expense_count:0,net_balance:0}),y=O(!1),w=O(!1),T=O(null),k=O(d.filters.search||""),p=O(!1),b=O(null),L=a=>{b.value=a,p.value=!0},M=O(!1),U=q(()=>!!m.props.auth.user.is_premium),I=q(()=>d.categories.filter(a=>a.user_id!==null).length),F=q(()=>U.value||I.value<3),j=O(d.transactions.data),A=O(d.transactions.next_page_url),C=O(!1),Q=async()=>{if(!(!A.value||C.value)){C.value=!0;try{const a=await gt.get(A.value,{headers:{"X-Inertia":"true","X-Inertia-Version":m.version,Accept:"application/json"}});let n=[],o=null;if(a.data.props&&a.data.props.transactions)n=a.data.props.transactions.data,o=a.data.props.transactions.next_page_url;else if(a.data.transactions)n=a.data.transactions.data,o=a.data.transactions.next_page_url;else if(a.data.data)n=a.data.data,o=a.data.next_page_url;else if(typeof a.data=="string")try{const D=a.data.match(/data-page="([^"]+)"/);if(D&&D[1]){const $=D[1].replace(/&quot;/g,'"').replace(/&amp;/g,"&"),N=JSON.parse($);N.props&&N.props.transactions&&(n=N.props.transactions.data,o=N.props.transactions.next_page_url)}}catch(D){console.error("Failed to parse Inertia HTML response",D)}else n=Array.isArray(a.data)?a.data:[];if(Array.isArray(n)&&n.length>0){const D=new Set(j.value.map(N=>N.id)),$=n.filter(N=>!D.has(N.id));$.length>0&&(j.value=[...j.value,...$]),A.value=o}else console.warn("Load More: No valid transaction array found in response",a.data),o||(A.value=null)}catch(a){console.error("Failed to load more transactions",a),E.fire({toast:!0,position:"top-end",icon:"error",title:"Failed to load more transactions",showConfirmButton:!1,timer:3e3})}finally{C.value=!1}}},s=a=>m.props.translations?.[a]||a;Z(k,Ye(a=>{se.get("/transactions",{search:a,wallet_id:g.value.wallet_id,type:g.value.type,start_date:g.value.start_date,end_date:g.value.end_date},{preserveState:!0,replace:!0,preserveScroll:!0})},300));const H=O(!1),g=O({wallet_id:d.filters.wallet_id||"",type:d.filters.type||"",start_date:d.filters.start_date||"",end_date:d.filters.end_date||"",per_page:d.filters.per_page||10}),P=q(()=>!!(k.value||g.value.wallet_id||g.value.type||g.value.start_date||g.value.end_date));Z(g,Ye(a=>{se.get("/transactions",{search:k.value,...a},{preserveState:!0,replace:!0,preserveScroll:!0})},300),{deep:!0});const W=()=>{g.value={wallet_id:"",type:"",start_date:"",end_date:"",per_page:10}},ee=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Jakarta",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),l=ct({amount:"",category:"",type:"expense",date:ee(),description:"",wallet_id:"",exchange_rate:""}),ae=()=>{w.value=!1,T.value=null,l.reset(),l.clearErrors(),l.date=ee(),l.type="expense",y.value=!0},J=a=>{w.value=!0,T.value=a.id,l.clearErrors(),l.amount=a.amount,l.category=a.category&&typeof a.category=="object"?a.category.name:a.category,l.type=a.type,l.date=a.date,l.description=a.description||"",l.wallet_id=a.wallet_id,y.value=!0},v=q(()=>d.wallets.map(a=>({value:a.id,label:a.name}))),R=q(()=>{if(!l.wallet_id)return"IDR";const a=d.wallets.find(n=>n.id===l.wallet_id);return a?a.currency:"IDR"}),B=q(()=>R.value!=="IDR"),te=q(()=>{if(!B.value||!l.amount)return"";const a=l.exchange_rate||d.currentExchangeRate||0,n=l.amount*a;return`≈ ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n)}`});Z(()=>l.wallet_id,a=>{if(a){const n=d.wallets.find(o=>o.id===a);n&&n.currency!=="IDR"?l.exchange_rate=d.currentExchangeRate||"":l.exchange_rate=""}});const ie=a=>{switch(a){case"cash":return"bg-emerald-500";case"ewallet":return"bg-purple-500";case"bank":return"bg-orange-500";default:return"bg-indigo-500"}},tt=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Jakarta",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),[,Ba,Va]=tt.split("-");new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",month:"long",year:"numeric"}).format(new Date);const st=q(()=>{if(!f.value.total_income||f.value.total_income<=0)return 0;const a=(f.value.total_income-f.value.total_expense)/f.value.total_income*100;return Math.max(0,a)}),ot=q(()=>f.value.total_income_count||0),at=q(()=>f.value.total_expense_count||0),z=O(d.transactions.data);Z(()=>d.transactions,a=>{z.value=a.data,C.value||(j.value=a.data)},{deep:!0});const De=a=>{E.fire({title:s("delete_transaction_title")||"Delete Transaction?",text:s("delete_transaction_confirm")||"Are you sure you want to delete this transaction?",icon:"warning",showCancelButton:!0,confirmButtonText:s("yes_delete")||"Yes, delete it",cancelButtonText:s("cancel")||"Cancel",customClass:{popup:"!rounded-[2rem] !p-10 !bg-white !shadow-2xl !border !border-slate-100 !font-sans !antialiased",title:"!text-xl !font-bold !text-slate-900 !pt-4 !pb-2 !px-0 !m-0 !leading-tight",htmlContainer:"!text-sm !font-semibold !text-slate-500 !leading-relaxed !pb-6 !px-0 !m-0",actions:"!flex !items-center !justify-center !gap-3 !mt-4 !w-full !px-0",confirmButton:"!inline-flex !items-center !justify-center !bg-rose-600 !text-white !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm hover:!shadow-rose-600/20 hover:!bg-rose-700 active:!scale-95 !border-none !outline-none !m-0 !cursor-pointer",cancelButton:"!inline-flex !items-center !justify-center !bg-slate-100 !text-slate-700 hover:!bg-slate-200 !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm !border-none !outline-none !m-0 !cursor-pointer active:!scale-95",icon:"!border-4 !border-rose-100 !text-rose-600 !scale-110 !mb-6 !mt-2"},buttonsStyling:!1,backdrop:"rgba(15, 23, 42, 0.4)"}).then(n=>{if(n.isConfirmed){const o=[...z.value],D=[...j.value];z.value=z.value.filter($=>$.id!==a.id),j.value=j.value.filter($=>$.id!==a.id),se.delete(`/transactions/${a.id}`,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{E.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:N=>{N.addEventListener("mouseenter",E.stopTimer),N.addEventListener("mouseleave",E.resumeTimer)}}).fire({icon:"success",title:s("deleted_title"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},onError:()=>{z.value=o,j.value=D,E.fire({toast:!0,position:"top-end",icon:"error",title:s("error_deleting"),showConfirmButton:!1,timer:3e3})}})}})},X=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),nt=()=>{w.value?l.put(`/transactions/${T.value}`,{onSuccess:()=>{l.reset(),y.value=!1,E.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:n=>{n.addEventListener("mouseenter",E.stopTimer),n.addEventListener("mouseleave",E.resumeTimer)}}).fire({icon:"success",title:s("successfully_updated"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}}):l.post("/transactions",{onSuccess:()=>{l.reset(),y.value=!1,E.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:n=>{n.addEventListener("mouseenter",E.stopTimer),n.addEventListener("mouseleave",E.resumeTimer)}}).fire({icon:"success",title:s("successfully_saved"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}})},de=()=>{const a=localStorage.getItem("tour_state"),n=m.props.auth.user.has_completed_tour,o=["welcome","wallet_setup","transaction_setup"];if(!(i.value&&document.querySelector(".driver-popover"))&&(!a||a&&o.includes(a))){if(!a||a!=="transaction_setup"){if(!a&&n)return;localStorage.setItem("tour_state","transaction_setup")}const D=document.querySelector(".driver-popover"),$=document.querySelector(".driver-overlay");D&&D.remove(),$&&$.remove(),d.transactions.total===0?setTimeout(()=>{rt()},800):setTimeout(()=>{lt()},800)}};ut(()=>{de(),window.addEventListener("skip-tour",()=>{localStorage.removeItem("tour_state"),i.value&&i.value.destroy(),se.post("/user/complete-tour",{},{preserveScroll:!0,preserveState:!0})})}),pt(()=>{i.value&&i.value.destroy()}),Z(()=>m.url,()=>{de()}),Z(()=>d.transactions.total,(a,n)=>{localStorage.getItem("tour_state")==="transaction_setup"&&a>0&&(n===0||!n)&&de()});const rt=()=>{i.value=Ne({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,steps:[{element:"#tour-transaction-add",popover:{title:s("tour_tx_add_title"),description:s("tour_tx_add_desc")+je,position:"bottom"}}]}),i.value.drive()},lt=()=>{const a=window.innerWidth<768;i.value=Ne({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,onNextClick:()=>{i.value.isLastStep()?(localStorage.setItem("tour_state","dashboard_explanation"),se.visit("/dashboard"),i.value.destroy()):i.value.moveNext()},steps:[{element:"#tour-transaction-list",popover:{title:s("tour_tx_list_title"),description:s("tour_tx_list_desc")+je,position:a?"top":"bottom"}},{element:a?"#mobile-nav-home":"#nav-dashboard",popover:{title:s("tour_tx_full_picture_title"),description:s("tour_tx_full_picture_desc")+je,position:a?"top":"bottom"}}]}),i.value.drive()};return(a,n)=>(u(),x(K,null,[_(r(xt),{title:s("transactions")},null,8,["title"]),_(vt,null,{default:ft(()=>[e("header",Bt,[e("div",Vt,[e("h1",Pt,t(s("transactions")),1),e("p",zt,t(s("manage_and_monitor")),1)]),e("button",{id:"tour-transaction-add",onClick:ae,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2"},[_(r(Re),{class:"w-4 h-4"}),e("span",null,t(s("add_transaction")),1)])]),e("div",Gt,[e("div",Ht,[e("div",Wt,[_(r(re),{class:"w-32 h-32 text-white"})]),e("div",Jt,[e("div",Xt,[e("div",Zt,[_(r(re),{class:"w-6 h-6 text-white"})]),e("h3",Yt,t(s("total_income")),1)]),e("div",Kt,[e("h2",Qt,t(X(f.value.total_income)),1),e("div",es,[e("span",null,t(s("income_records")),1),e("span",ts,t(ot.value)+" "+t(s("items")),1)])])])]),e("div",ss,[e("div",os,[_(r(ce),{class:"w-32 h-32 text-white"})]),e("div",as,[e("div",ns,[e("div",rs,[_(r(ce),{class:"w-6 h-6 text-white"})]),e("h3",ls,t(s("total_expense")),1)]),e("div",is,[e("h2",ds,t(X(f.value.total_expense)),1),e("div",cs,[e("span",null,t(s("expense_records")),1),e("span",us,t(at.value)+" "+t(s("items")),1)])])])]),e("div",ps,[e("div",ms,[_(r(Oe),{class:"w-32 h-32 text-white"})]),e("div",xs,[e("div",fs,[e("div",bs,[_(r(Oe),{class:"w-6 h-6 text-white"})]),e("h3",_s,t(s("net_balance")),1)]),e("div",gs,[e("h2",vs,t(X(f.value.net_balance)),1),e("div",hs,[e("span",null,t(s("savings_efficiency")),1),e("span",ys,t(st.value.toFixed(1))+"%",1)])])])])]),e("div",ws,[e("div",ks,[_(r($e),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),V(e("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>k.value=o),type:"text",placeholder:s("search_transactions"),class:"w-full bg-white border-none rounded-2xl pl-12 pr-10 py-4 text-slate-900 placeholder-slate-400 shadow-sm focus:ring-2 focus:ring-indigo-600/10 transition-all font-semibold"},null,8,Ts),[[Y,k.value]])]),e("button",{onClick:n[1]||(n[1]=o=>H.value=!H.value),class:S(["hidden md:flex items-center gap-3 px-6 py-4 bg-white border border-slate-100 rounded-2xl text-slate-600 hover:bg-slate-50 transition-all font-bold text-sm shadow-sm",{"bg-slate-50 ring-2 ring-indigo-600/10":H.value}])},[_(r(qe),{class:"w-5 h-5 text-slate-400"}),e("span",null,t(s("filter")),1)],2)]),H.value?(u(),x("div",Ss,[e("div",js,[e("label",Ds,t(s("wallet_source")),1),e("div",Is,[V(e("select",{"onUpdate:modelValue":n[2]||(n[2]=o=>g.value.wallet_id=o),class:"w-full bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm py-3.5 px-4 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 appearance-none font-semibold transition-all"},[e("option",Cs,t(s("all_wallets")),1),(u(!0),x(K,null,le(c.wallets,o=>(u(),x("option",{key:o.id,value:o.id},t(o.name),9,Rs))),128))],512),[[Ie,g.value.wallet_id]]),e("div",Os,[_(r(qe),{class:"w-4 h-4"})])])]),e("div",$s,[e("label",qs,t(s("transaction_type")),1),e("div",Es,[e("button",{onClick:n[3]||(n[3]=o=>g.value.type=""),class:S(["flex-1 text-xs rounded-lg font-bold transition-all",g.value.type===""?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200/50":"text-slate-500 hover:text-slate-900"])},t(s("all")),3),e("button",{onClick:n[4]||(n[4]=o=>g.value.type="income"),class:S(["flex-1 text-xs rounded-lg font-bold transition-all",g.value.type==="income"?"bg-emerald-500 text-white shadow-md":"text-slate-500 hover:text-slate-900"])},t(s("income")),3),e("button",{onClick:n[5]||(n[5]=o=>g.value.type="expense"),class:S(["flex-1 text-xs rounded-lg font-bold transition-all",g.value.type==="expense"?"bg-rose-500 text-white shadow-md":"text-slate-500 hover:text-slate-900"])},t(s("expense")),3)])]),e("div",Ls,[e("label",Ns,t(s("from_date")),1),V(e("input",{"onUpdate:modelValue":n[6]||(n[6]=o=>g.value.start_date=o),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm py-3 px-4 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 font-semibold transition-all"},null,512),[[Y,g.value.start_date]])]),e("div",Fs,[e("label",Ms,t(s("to_date")),1),V(e("input",{"onUpdate:modelValue":n[7]||(n[7]=o=>g.value.end_date=o),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm py-3 px-4 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 font-semibold transition-all"},null,512),[[Y,g.value.end_date]])]),e("div",Us,[e("button",{onClick:W,class:"text-xs font-bold text-slate-400 hover:text-indigo-600 transition-all flex items-center gap-2 px-4 py-2 hover:bg-indigo-50 rounded-xl border border-transparent hover:border-indigo-100"},[_(r(ue),{class:"w-3.5 h-3.5"}),e("span",null,t(s("reset_all_filters")),1)])])])):h("",!0),e("div",As,[z.value.length>0?(u(),x("div",Bs,[e("div",Vs,[e("div",Ps,[e("table",zs,[e("thead",Gs,[e("tr",Hs,[e("th",Ws,t(s("date")),1),e("th",Js,t(s("description")),1),e("th",Xs,t(s("wallet")),1),e("th",Zs,t(s("category")),1),e("th",Ys,t(s("amount")),1),e("th",Ks,t(s("actions")),1)])]),e("tbody",Qs,[(u(!0),x(K,null,le(z.value,o=>(u(),x("tr",{key:o.id,class:"group hover:bg-slate-50/80 transition-colors"},[e("td",eo,[e("div",to,t(new Date(o.date).toLocaleDateString(a.$page.props.locale==="id"?"id-ID":"en-GB",{day:"numeric",month:"short",year:"numeric"})),1)]),e("td",so,[e("div",oo,t(o.description||(o.category?o.category.name:s("unknown"))),1)]),e("td",ao,[e("div",no,[e("div",{class:S(["w-2 h-2 rounded-full",ie(o.wallet?.type)])},null,2),e("span",ro,t(o.wallet?o.wallet.name:s("unknown")),1)])]),e("td",lo,[e("span",{class:S(["inline-flex items-center px-3 py-1 rounded-full text-xs font-bold text-white border border-white/20",o.category?.color||"bg-slate-500"])},t(o.category?o.category.name:"Uncategorized"),3)]),e("td",io,[e("div",co,[e("span",{class:S(["text-sm font-bold tabular-nums block",o.type==="expense"?"text-slate-900":"text-emerald-600"])},t(o.type==="expense"?"-":"+")+" "+t(new Intl.NumberFormat(o.currency==="USD"?"en-US":"id-ID",{style:"currency",currency:o.currency||"IDR",maximumFractionDigits:0}).format(o.amount)),3),o.currency!=="IDR"&&o.amount_in_base_currency?(u(),x("span",uo," ≈ "+t(X(o.amount_in_base_currency)),1)):h("",!0)])]),e("td",po,[e("div",mo,[e("button",{onClick:D=>J(o),class:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 border border-transparent hover:border-indigo-100 rounded-lg transition-all"},[_(r(Ee),{class:"w-4 h-4"})],8,xo),e("button",{onClick:D=>De(o),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 border border-transparent hover:border-rose-100 rounded-lg transition-all"},[_(r(Le),{class:"w-4 h-4"})],8,fo)])])]))),128))])])]),e("div",bo,[e("div",_o,[e("div",go,[e("span",vo,t(s("show")),1),V(e("select",{"onUpdate:modelValue":n[8]||(n[8]=o=>g.value.per_page=o),class:"appearance-none bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 py-2 px-4 pr-10 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 transition-all outline-none cursor-pointer shadow-sm"},[e("option",ho,"10 "+t(s("entries")),1),e("option",yo,"25 "+t(s("entries")),1),e("option",wo,"50 "+t(s("entries")),1),e("option",ko,"100 "+t(s("entries")),1)],512),[[Ie,g.value.per_page]])]),e("span",To,t(s("showing"))+" "+t(c.transactions.from||0)+" "+t(s("to"))+" "+t(c.transactions.to||0)+" "+t(s("of_paging"))+" "+t(c.transactions.total)+" "+t(s("entries")),1)]),_(It,{links:c.transactions.links},null,8,["links"])])]),e("div",So,[(u(!0),x(K,null,le(j.value,o=>(u(),x("div",{key:o.id,onClick:D=>L(o),class:"p-4 bg-white rounded-2xl border border-slate-100 shadow-sm transition-all animate-in fade-in slide-in-from-bottom-2 duration-300 cursor-pointer active:bg-slate-50"},[e("div",Do,[e("div",Io,[e("p",Co,t(new Date(o.date).getDate())+" "+t(new Date(o.date).toLocaleDateString(r(m).props.locale||"id-ID",{month:"short"}))+" "+t(new Date(o.date).getFullYear()),1),e("div",null,[e("h4",Ro,t(o.description||(o.category?o.category.name:s("unknown"))),1),e("div",Oo,[e("span",{class:S(["inline-flex px-2 py-0.5 rounded-full text-[9px] font-bold text-white border border-white/20 whitespace-nowrap",o.category?.color||"bg-slate-500"])},t(o.category?o.category.name:s("uncategorized")),3),e("span",$o,[e("div",{class:S(["w-1.5 h-1.5 rounded-full",ie(o.wallet?.type)])},null,2),G(" "+t(o.wallet?o.wallet.name:s("unknown")),1)])])])]),e("div",qo,[e("span",{class:S(["text-[14px] font-bold tabular-nums tracking-tight block",o.type==="expense"?"text-slate-900":"text-emerald-600"])},t(o.type==="expense"?"-":"+")+" "+t(new Intl.NumberFormat(o.currency==="USD"?"en-US":"id-ID",{style:"currency",currency:o.currency||"IDR",maximumFractionDigits:0}).format(o.amount)),3),o.currency!=="IDR"&&o.amount_in_base_currency?(u(),x("span",Eo," ≈ "+t(X(o.amount_in_base_currency)),1)):h("",!0)])])],8,jo))),128))]),e("div",Lo,[e("div",No,[A.value?(u(),x("button",{key:0,onClick:Q,disabled:C.value,class:"w-full bg-white border border-slate-200 text-slate-600 font-bold text-sm py-4 px-6 rounded-2xl shadow-sm active:scale-95 transition-all flex items-center justify-between"},[e("div",Mo,[C.value?(u(),x("span",Uo)):h("",!0),e("span",null,t(C.value?s("loading"):s("read_more")),1)]),C.value?h("",!0):(u(),oe(r(ht),{key:0,class:"w-5 h-5 text-slate-400"}))],8,Fo)):(u(),x("span",Ao,t(s("no_more_transactions")),1))])])])):(u(),x("div",Bo,[e("div",Vo,[(u(),oe(bt(P.value?r($e):r(re)),{class:"w-8 h-8 text-slate-300"}))]),e("h4",Po,t(P.value?s("no_results"):s("no_activity_detected")),1),e("p",zo,t(P.value?s("no_results_desc"):s("start_tracking_finances")),1),P.value?h("",!0):(u(),x("button",{key:0,onClick:ae,class:"inline-flex items-center gap-2 px-5 py-2.5 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 rounded-xl text-sm font-bold transition-all active:scale-95 mx-auto"},[_(r(Re),{class:"w-4 h-4"}),e("span",null,t(s("add_first_transaction")),1)]))]))])]),_:1}),(u(),oe(Ce,{to:"body"},[y.value?(u(),x("div",Go,[e("div",{onClick:n[9]||(n[9]=o=>y.value=!1),class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",Ho,[e("div",Wo,[e("div",null,[e("h2",Jo,t(w.value?s("edit_transaction"):s("add_transaction")),1),e("p",Xo,t(w.value?s("edit_transaction_details"):s("fill_transaction_info")),1)]),e("button",{onClick:n[10]||(n[10]=o=>y.value=!1),class:"p-2 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all"},[_(r(ue),{class:"w-6 h-6"})])]),e("div",Zo,[e("form",{onSubmit:_t(nt,["prevent"]),class:"space-y-6"},[e("div",Yo,[e("button",{type:"button",onClick:n[11]||(n[11]=o=>r(l).type="income"),class:S([r(l).type==="income"?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"text-slate-500 hover:text-slate-900","flex-1 py-3 rounded-xl transition-all font-bold text-sm flex items-center justify-center gap-2"])},[_(r(re),{class:"w-4 h-4"}),G(" "+t(s("income")),1)],2),e("button",{type:"button",onClick:n[12]||(n[12]=o=>r(l).type="expense"),class:S([r(l).type==="expense"?"bg-rose-500 text-white shadow-lg shadow-rose-200":"text-slate-500 hover:text-slate-900","flex-1 py-3 rounded-xl transition-all font-bold text-sm flex items-center justify-center gap-2"])},[_(r(ce),{class:"w-4 h-4"}),G(" "+t(s("expense")),1)],2)]),r(l).errors.type?(u(),x("div",Ko,t(r(l).errors.type),1)):h("",!0),e("div",Qo,[e("div",null,[e("label",ea,t(s("wallet")),1),_(Tt,{modelValue:r(l).wallet_id,"onUpdate:modelValue":n[13]||(n[13]=o=>r(l).wallet_id=o),options:v.value,placeholder:s("select_wallet")},null,8,["modelValue","options","placeholder"]),r(l).errors.wallet_id?(u(),x("div",ta,t(r(l).errors.wallet_id),1)):h("",!0)]),e("div",null,[e("label",sa,t(s("date")),1),V(e("input",{"onUpdate:modelValue":n[14]||(n[14]=o=>r(l).date=o),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[Y,r(l).date]]),r(l).errors.date?(u(),x("div",oa,t(r(l).errors.date),1)):h("",!0)])]),e("div",null,[e("label",aa,t(s("amount")),1),_(wt,{modelValue:r(l).amount,"onUpdate:modelValue":n[15]||(n[15]=o=>r(l).amount=o),currency:R.value,placeholder:R.value==="USD"?"$ 0":"Rp 0"},null,8,["modelValue","currency","placeholder"]),r(l).errors.amount?(u(),x("div",na,t(r(l).errors.amount),1)):h("",!0)]),B.value?(u(),x("div",ra,[e("div",la,[e("label",ia,t(s("exchange_rate"))+" ("+t(R.value)+" to IDR)",1),e("div",da,[_(r(yt),{class:"w-3 h-3"}),G(" "+t(s("auto")),1)])]),V(e("input",{"onUpdate:modelValue":n[16]||(n[16]=o=>r(l).exchange_rate=o),type:"number",step:"0.01",class:"w-full bg-white border border-indigo-200 rounded-xl px-4 py-3 font-mono text-indigo-900 focus:ring-2 focus:ring-indigo-500 transition-all font-semibold",placeholder:`1 ${R.value} = ... IDR`},null,8,ca),[[Y,r(l).exchange_rate]]),r(l).errors.exchange_rate?(u(),x("div",ua,t(r(l).errors.exchange_rate),1)):h("",!0),te.value?(u(),x("div",pa,[e("span",null,t(s("conversion"))+":",1),e("span",null,t(te.value),1)])):h("",!0)])):h("",!0),e("div",null,[e("label",ma,t(s("category")),1),_(kt,{modelValue:r(l).category,"onUpdate:modelValue":n[17]||(n[17]=o=>r(l).category=o),categories:c.categories,type:r(l).type,placeholder:s("select_or_type_category"),"can-create":F.value,onLimitReached:n[18]||(n[18]=o=>M.value=!0)},null,8,["modelValue","categories","type","placeholder","can-create"]),r(l).errors.category?(u(),x("div",xa,t(r(l).errors.category),1)):h("",!0)]),e("div",null,[e("label",fa,[G(t(s("description"))+" ",1),e("span",ba,"("+t(s("optional"))+")",1)]),V(e("textarea",{"onUpdate:modelValue":n[19]||(n[19]=o=>r(l).description=o),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 min-h-[100px] text-sm font-medium text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all resize-none",placeholder:s("details_placeholder")},null,8,_a),[[Y,r(l).description]]),r(l).errors.description?(u(),x("div",ga,t(r(l).errors.description),1)):h("",!0)]),e("div",va,[e("button",{type:"button",onClick:n[20]||(n[20]=o=>y.value=!1),class:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-700 px-6 py-4 rounded-xl font-bold text-sm transition-all"},t(s("cancel")),1),e("button",{type:"submit",disabled:r(l).processing,class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-4 rounded-xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"},t(w.value?s("update_transaction"):s("save_transaction")),9,ha)])],32)])])])):h("",!0)])),(u(),oe(Ce,{to:"body"},[p.value?(u(),x("div",ya,[e("div",{onClick:n[21]||(n[21]=o=>p.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",wa,[b.value?(u(),x("div",ka,[e("div",Ta,[e("div",Sa,[e("h3",ja,t(s("transaction_details")),1),e("p",Da,t(new Date(b.value.date).toLocaleDateString(a.$page.props.locale==="id"?"id-ID":"en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),1)]),e("button",{onClick:n[22]||(n[22]=o=>p.value=!1),class:"p-2 -mr-2 -mt-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors"},[_(r(ue),{class:"w-5 h-5"})])]),e("div",Ia,[e("span",{class:S(["text-2xl font-bold tracking-tight tabular-nums block",b.value.type==="expense"?"text-slate-900":"text-emerald-500"])},t(b.value.type==="expense"?"-":"+")+" "+t(new Intl.NumberFormat(b.value.currency==="USD"?"en-US":"id-ID",{style:"currency",currency:b.value.currency||"IDR",maximumFractionDigits:0}).format(b.value.amount)),3),b.value.currency!=="IDR"&&b.value.amount_in_base_currency?(u(),x("span",Ca," ≈ "+t(X(b.value.amount_in_base_currency)),1)):h("",!0)]),e("div",Ra,[e("div",Oa,[e("p",$a,t(s("wallet")),1),e("div",qa,[e("div",{class:S(["w-2 h-2 rounded-full",ie(b.value.wallet?.type)])},null,2),e("p",Ea,t(b.value.wallet?.name),1)])]),e("div",La,[e("p",Na,t(s("category")),1),e("span",{class:S(["inline-flex items-center px-2 py-0.5 rounded-md text-[10px] font-bold text-white mt-0.5",b.value.category?.color||"bg-slate-500"])},t(b.value.category?b.value.category.name:s("uncategorized")),3)])]),e("div",Fa,[e("p",Ma,t(s("description")),1),e("p",Ua,t(b.value.description||s("no_description_provided")),1)]),e("div",Aa,[e("button",{onClick:n[23]||(n[23]=o=>{J(b.value),p.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-xl font-bold text-sm transition-colors"},[_(r(Ee),{class:"w-4 h-4"}),G(" "+t(s("edit")),1)]),e("button",{onClick:n[24]||(n[24]=o=>{De(b.value),p.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 rounded-xl font-bold text-sm transition-colors"},[_(r(Le),{class:"w-4 h-4"}),G(" "+t(s("delete")),1)])])])):h("",!0)])])):h("",!0)])),_(St,{show:M.value,title:s("category_limit_reached"),description:s("unlock_unlimited_categories"),onClose:n[25]||(n[25]=o=>M.value=!1)},null,8,["show","title","description"])],64))}};export{Qa as default};
