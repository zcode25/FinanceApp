import{J as y,r as k,j as n,q as e,k as u,l as t,s,u as I,M as U,I as L,L as p,v as b,N as m,x as c}from"./vendor-fqKEAn5t.js";import{t as h,U as C,a7 as M,a8 as N,a9 as D,M as E,o as A}from"./ui-Dbn-GO4O.js";const J={class:"grid grid-cols-1 xl:grid-cols-2 gap-8"},O={class:"w-full bg-white rounded-3xl p-6 pb-12 md:p-8 border border-slate-100 shadow-sm relative overflow-hidden h-fit"},R={class:"flex items-center gap-6 mb-10"},q={class:"p-3.5 rounded-2xl bg-indigo-50 text-indigo-600 border border-indigo-100 shadow-sm"},$={class:"text-xl font-bold text-slate-900 leading-none mb-1.5"},z={class:"text-sm font-semibold text-slate-400"},G={class:"flex items-center gap-6 p-6 bg-slate-50/50 rounded-2xl border border-slate-100"},H={class:"w-20 h-20 rounded-full overflow-hidden bg-slate-100 ring-4 ring-white shadow-xl shadow-slate-200/50 group-hover:ring-indigo-600 transition-all duration-300"},K=["src"],Q={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-tr from-indigo-500 to-indigo-700 text-2xl font-bold text-white"},W={class:"absolute inset-0 bg-indigo-900/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-sm"},X={class:"text-[11px] text-slate-400 font-semibold mt-3 ml-1"},Y={class:"space-y-6"},Z={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},ee={class:"relative group"},te={key:0,class:"text-rose-500 text-[11px] font-bold mt-2 ml-1"},se={class:"flex items-center justify-between mb-2 ml-1"},oe={class:"block text-xs font-bold text-slate-700"},le={key:0,class:"flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-lg border border-emerald-100 shadow-sm shadow-emerald-50/50 transition-all hover:scale-105"},ae={class:"text-[10px] font-black tracking-wider"},re={class:"relative group"},de={key:0,class:"text-rose-500 text-[11px] font-bold mt-2 ml-1"},ie={class:"pt-8 border-t border-slate-50 flex justify-end"},ne=["disabled"],ce={class:"w-full bg-white rounded-3xl p-6 pb-12 md:p-8 border border-slate-100 shadow-sm relative overflow-hidden h-fit"},ue={class:"flex items-center gap-6 mb-10"},pe={class:"p-3.5 rounded-2xl bg-slate-50 text-slate-900 border border-slate-100 shadow-sm"},be={class:"text-xl font-bold text-slate-900 leading-none mb-1.5"},me={class:"text-sm font-semibold text-slate-400"},fe={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},xe={key:0,class:"text-rose-500 text-[11px] font-bold mt-2 ml-1"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},he={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},_e={key:0,class:"text-rose-400 text-[11px] font-bold mt-2 ml-1"},we={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},ve={class:"pt-8 border-t border-slate-50 flex justify-end"},ye=["disabled"],Ce={__name:"ProfileTab",props:{user:Object},setup(x){const j=I(),o=r=>j.props.translations?.[r]||r,V=h.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",h.stopTimer),r.addEventListener("mouseleave",h.resumeTimer)}}),_=(r,l="success")=>{V.fire({icon:l,title:r,background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},f=x,d=y({name:f.user.name,email:f.user.email,avatar:null}),a=y({current_password:"",password:"",password_confirmation:""}),w=k(null),g=k(f.user.avatar?`/media/${f.user.avatar}`:null),v=()=>{w.value.click()},S=r=>{const l=r.target.files[0];if(l){d.avatar=l;const i=new FileReader;i.onload=P=>{g.value=P.target.result},i.readAsDataURL(l)}},T=()=>{d.post("/settings/profile",{preserveScroll:!0,onSuccess:()=>{_(o("profile_updated"))}})},B=()=>{a.put("/settings/password",{preserveScroll:!0,onSuccess:()=>{a.reset(),_(o("password_updated"))}})},F=r=>r?r.charAt(0).toUpperCase():"U";return(r,l)=>(c(),n("div",J,[e("div",O,[e("div",R,[e("div",q,[u(t(C),{class:"w-6 h-6"})]),e("div",null,[e("h3",$,s(o("profile_security")),1),e("p",z,s(o("public_profile_desc")),1)])]),e("form",{onSubmit:U(T,["prevent"]),class:"space-y-8"},[e("div",G,[e("div",{class:"relative group cursor-pointer",onClick:v},[e("div",H,[g.value?(c(),n("img",{key:0,src:g.value,class:"w-full h-full object-cover"},null,8,K)):(c(),n("div",Q,s(F(x.user.name)),1))]),e("div",W,[u(t(M),{class:"w-6 h-6 text-white"})]),e("input",{type:"file",ref_key:"fileInput",ref:w,class:"hidden",accept:"image/*",onChange:S},null,544)]),e("div",null,[e("button",{type:"button",onClick:v,class:"px-5 py-2.5 bg-white hover:bg-indigo-600 hover:text-white rounded-xl text-slate-900 font-bold transition-all flex items-center gap-2.5 border border-slate-100 shadow-sm active:scale-95 text-sm"},[u(t(N),{class:"w-4 h-4"}),l[5]||(l[5]=L()),e("span",null,s(o("change_avatar")),1)]),e("p",X,s(o("avatar_help")),1)])]),e("div",Y,[e("div",null,[e("label",Z,s(o("full_name")),1),e("div",ee,[u(t(C),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-4.5 h-4.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),b(e("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>t(d).name=i),type:"text",class:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-12 pr-4 py-3 text-slate-900 placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm",placeholder:"John Doe"},null,512),[[m,t(d).name]])]),t(d).errors.name?(c(),n("div",te,s(t(d).errors.name),1)):p("",!0)]),e("div",null,[e("div",se,[e("label",oe,s(o("email_address")),1),x.user.email_verified_at?(c(),n("div",le,[u(t(D),{class:"w-3.5 h-3.5 fill-emerald-50"}),e("span",ae,s(o("verified")),1)])):p("",!0)]),e("div",re,[u(t(E),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-4.5 h-4.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),b(e("input",{"onUpdate:modelValue":l[1]||(l[1]=i=>t(d).email=i),type:"email",readonly:"",class:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-12 pr-4 py-3 text-slate-400 cursor-not-allowed font-semibold text-sm",placeholder:"john@example.com"},null,512),[[m,t(d).email]])]),t(d).errors.email?(c(),n("div",de,s(t(d).errors.email),1)):p("",!0)])]),e("div",ie,[e("button",{type:"submit",disabled:t(d).processing,class:"w-full md:w-auto px-8 py-3.5 bg-indigo-600 text-white rounded-xl font-bold transition-all shadow-lg shadow-indigo-100 hover:bg-indigo-700 active:scale-95 disabled:opacity-50"},s(t(d).processing?o("saving"):o("save_changes")),9,ne)])],32)]),e("div",ce,[e("div",ue,[e("div",pe,[u(t(A),{class:"w-6 h-6"})]),e("div",null,[e("h3",be,s(o("update_password")),1),e("p",me,s(o("security_desc")),1)])]),e("form",{onSubmit:U(B,["prevent"]),class:"space-y-8"},[e("div",null,[e("label",fe,s(o("current_password")),1),b(e("input",{"onUpdate:modelValue":l[2]||(l[2]=i=>t(a).current_password=i),type:"password",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[m,t(a).current_password]]),t(a).errors.current_password?(c(),n("div",xe,s(t(a).errors.current_password),1)):p("",!0)]),e("div",ge,[e("div",null,[e("label",he,s(o("new_password")),1),b(e("input",{"onUpdate:modelValue":l[3]||(l[3]=i=>t(a).password=i),type:"password",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[m,t(a).password]]),t(a).errors.password?(c(),n("div",_e,s(t(a).errors.password),1)):p("",!0)]),e("div",null,[e("label",we,s(o("confirm_password")),1),b(e("input",{"onUpdate:modelValue":l[4]||(l[4]=i=>t(a).password_confirmation=i),type:"password",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[m,t(a).password_confirmation]])])]),e("div",ve,[e("button",{type:"submit",disabled:t(a).processing,class:"w-full md:w-auto px-8 py-3.5 bg-slate-900 text-white rounded-xl font-bold transition-all shadow-lg shadow-slate-200 hover:bg-slate-800 active:scale-95 disabled:opacity-50"},s(t(a).processing?o("updating"):o("update_password")),9,ye)])],32)])]))}};export{Ce as default};
