import{w as Z,r as g,J as xe,A as w,a as Fe,f as N,u as Re,i as Oe,j as c,k as d,l as o,m as Ue,p as P,q as e,C as K,s as l,E as X,B as he,K as x,x as r,I as S,F as E,y as F,G as m,T as Q,L as We}from"./vendor-COAloQYc.js";import{_ as Xe}from"./Layout-D6L3EU_m.js";import{t as I,u as pe,v as ve,P as qe,B as fe,w as _e,x as we,y as ye,j as Je,k as Ge,z as ee,m as te,T as se,D as ke,G as q,X as le,Z as Ce,H as He,I as Ye,J as Ze,N as Ke,l as Qe}from"./ui-D5A2uRRy.js";/* empty css               */import{_ as et}from"./CategoryCombobox-BN1pfC5G.js";import{_ as je}from"./CurrencyInput-DdFd4TZx.js";import{_ as tt}from"./PremiumUpsellModal-DINlnrjr.js";import{_ as st}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-BlDNi2YG.js";/* empty css            */const lt={class:"mb-8 flex flex-col xl:flex-row xl:items-center justify-between gap-6 relative z-30"},ot={class:"space-y-1"},at={class:"text-2xl md:text-3xl font-bold text-slate-900 tracking-tight"},it={class:"text-sm md:text-base text-slate-500 font-medium"},dt={class:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto"},nt={class:"flex items-center bg-white rounded-2xl p-1.5 border border-slate-200 shadow-sm w-full md:w-auto justify-between md:justify-start"},rt={class:"px-4 text-sm font-bold text-slate-700 min-w-[140px] text-center"},ct={class:"grid grid-cols-1 md:flex md:items-center gap-3 w-full md:w-auto"},ut={id:"step-auto-setup",class:"relative w-full md:w-auto"},mt={class:"truncate"},gt={id:"step-budget-summary",class:"flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-3 gap-4 md:gap-6 mb-10 -mx-4 px-4 py-4 -my-4 md:mx-0 md:px-0 md:py-0 md:mt-0 md:mb-10 no-scrollbar md:overflow-visible"},bt={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-200"},xt={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},ht={class:"relative z-10"},pt={class:"flex items-center gap-3 mb-6"},vt={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},ft={class:"font-bold text-base md:text-lg text-white/90 tracking-tight"},_t={class:"space-y-1"},wt={class:"text-2xl md:text-3xl font-bold tracking-tight tabular-nums"},yt={class:"flex items-center gap-2 text-rose-100 font-medium text-xs md:text-sm"},kt={class:"bg-white/20 px-2 py-0.5 rounded-lg text-white text-[10px] md:text-xs font-bold backdrop-blur-sm border border-white/10"},Ct={class:"mt-6 w-full h-2 bg-black/20 rounded-full overflow-hidden backdrop-blur-sm"},jt={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-200"},$t={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},St={class:"relative z-10"},Bt={class:"flex items-center gap-3 mb-6"},Tt={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},zt={class:"font-bold text-base md:text-lg text-white/90 tracking-tight"},It={class:"space-y-1"},Mt={class:"text-2xl md:text-3xl font-bold tracking-tight tabular-nums"},Dt={class:"text-emerald-100 font-medium text-xs md:text-sm"},Et={class:"w-[85vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2rem] p-6 md:p-8 bg-gradient-to-br from-slate-800 to-slate-900 text-white shadow-lg shadow-slate-200"},Vt={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Lt={class:"relative z-10"},At={class:"flex items-center gap-3 mb-6"},Nt={class:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/10 shadow-inner"},Pt={class:"font-bold text-base md:text-lg text-white/90 tracking-tight"},Ft={class:"space-y-1"},Rt={class:"text-2xl md:text-3xl font-bold tracking-tight tabular-nums"},Ot={class:"flex items-center gap-2 text-slate-400 font-medium text-xs md:text-sm"},Ut={class:"text-slate-300"},Wt={class:"mb-12 animate-pulse"},Xt={class:"flex gap-6 overflow-hidden"},qt={key:0,class:"mb-12"},Jt={class:"flex items-center justify-between mb-8"},Gt={class:"text-2xl font-bold text-slate-900 tracking-tight"},Ht={class:"text-sm text-slate-500 font-medium"},Yt={key:0,class:"hidden md:flex items-center gap-3"},Zt=["disabled"],Kt=["disabled"],Qt={key:0,class:"absolute inset-0 z-30 flex flex-col items-center justify-center text-center p-8 bg-white/40 backdrop-blur-[12px] rounded-[2rem] border-2 border-dashed border-indigo-200"},es={class:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-xl shadow-indigo-100 mb-5 border border-indigo-50 animate-bounce-subtle"},ts={class:"text-slate-900 font-black text-xl mb-2 tracking-tight"},ss={class:"text-sm text-slate-600 mb-8 max-w-[320px] font-medium leading-relaxed"},ls={class:"relative z-10"},os={class:"flex items-start justify-between mb-4 md:mb-6"},as={class:"inline-flex items-center px-3 py-1 rounded-full bg-indigo-50 border border-indigo-100 text-indigo-700 text-[10px] md:text-xs font-bold tracking-wider mb-2 md:mb-3 shadow-sm"},is={class:"text-lg md:text-xl font-bold text-slate-900"},ds={class:"p-2.5 md:p-3 rounded-2xl bg-indigo-600 text-white shadow-lg shadow-indigo-200 transition-all duration-300"},ns={class:"bg-slate-50/50 rounded-2xl p-4 border border-slate-100 mb-6 md:mb-8"},rs={class:"text-xs md:text-sm text-slate-600 leading-relaxed font-medium"},cs={class:"text-slate-900 font-black text-xs md:text-lg"},us=["onClick"],ms={class:"flex items-center gap-4 mt-auto"},gs={class:"w-12 h-12 rounded-xl bg-slate-200/50 border border-slate-100 flex items-center justify-center"},bs={class:"space-y-6"},xs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},hs={class:"pb-20"},ps={class:"flex items-center gap-4 mb-8"},vs={class:"text-2xl font-bold text-slate-900 tracking-tight"},fs={class:"text-sm text-slate-500 font-medium"},_s={key:0,class:"grid grid-cols-1 gap-4 mb-24 md:mb-0"},ws=["onClick"],ys={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 md:gap-6"},ks={class:"md:w-1/3 flex items-center gap-4 md:gap-5"},Cs={class:"space-y-0.5"},js={class:"text-base md:text-lg font-bold text-slate-900 leading-tight"},$s={class:"flex flex-col items-start gap-1"},Ss={class:"flex items-center gap-1.5"},Bs={class:"text-[10px] md:text-xs font-bold text-slate-500"},Ts={key:0,class:"hidden md:inline-flex items-center px-2 py-0.5 rounded-lg bg-indigo-50 text-indigo-700 text-[10px] font-bold tracking-wide"},zs={class:"flex-1 space-y-2 md:space-y-3"},Is={class:"flex items-end justify-between"},Ms={class:"flex flex-col"},Ds={class:"text-[10px] md:text-xs font-bold text-slate-400 tracking-wider mb-0.5 md:mb-1"},Es={class:"flex items-baseline gap-1.5"},Vs={class:"text-sm md:text-2xl font-bold text-slate-900 tracking-tight tabular-nums"},Ls={class:"text-xs md:text-sm font-bold text-slate-300"},As={class:"w-full h-1 md:h-1.5 bg-slate-100 rounded-full overflow-hidden shadow-inner"},Ns={class:"hidden md:flex items-center justify-end gap-2 md:gap-3 md:pl-6 md:border-l border-slate-100 pt-2 md:pt-0"},Ps=["onClick"],Fs=["onClick"],Rs={key:1,class:"glass-card p-12 flex flex-col items-center justify-center text-center space-y-6 border-slate-200 border-dashed border-2 bg-slate-50/50 rounded-[2rem]"},Os={class:"w-16 h-16 rounded-full bg-white flex items-center justify-center shadow-lg shadow-slate-200/50 border border-slate-100"},Us={class:"space-y-1"},Ws={class:"text-base font-bold text-slate-900"},Xs={class:"text-slate-500 max-w-sm mx-auto font-medium text-sm"},qs={class:"flex flex-col sm:flex-row gap-4 pt-2"},Js={class:"relative"},Gs={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4"},Hs={class:"relative z-10 w-full max-w-2xl bg-white rounded-t-[2.5rem] md:rounded-3xl shadow-2xl animate-in slide-in-from-bottom md:zoom-in-95 duration-300 overflow-hidden flex flex-col max-h-[92vh] md:max-h-[85vh] self-end md:self-center"},Ys={class:"p-6 md:p-8 border-b border-slate-100 flex items-center justify-between bg-white sticky top-0 z-20"},Zs={class:"text-xl md:text-2xl font-bold text-slate-900 mb-0.5 md:mb-1"},Ks={class:"text-xs md:text-sm text-slate-500 font-medium"},Qs={class:"p-8 overflow-y-auto custom-scrollbar"},el={key:0,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300"},tl={class:"text-lg font-bold text-slate-900 mb-2"},sl={class:"text-sm text-slate-500 leading-relaxed"},ll={class:"block text-xs font-bold text-slate-700 mb-2"},ol={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},al={class:"pt-2"},il=["disabled"],dl={key:1,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300"},nl={class:"text-lg font-bold text-slate-900 mb-2"},rl={class:"text-sm text-slate-500 leading-relaxed"},cl={class:"grid grid-cols-1 gap-4"},ul={class:"flex items-center gap-4"},ml={class:"flex items-center gap-4"},gl={class:"pt-4 flex gap-3 border-t border-slate-50"},bl={key:2,class:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300"},xl={class:"text-lg font-bold text-slate-900 mb-2"},hl={class:"text-sm text-slate-500 leading-relaxed"},pl={class:"space-y-3"},vl={class:"text-xs text-slate-500 font-medium leading-relaxed"},fl={class:"text-xs text-slate-500 font-medium leading-relaxed"},_l={class:"text-xs text-slate-500 font-medium leading-relaxed"},wl={class:"pt-4 flex gap-3 border-t border-slate-50"},yl=["disabled"],kl={key:0},Cl={key:1},jl={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-4"},$l={class:"relative z-10 w-full max-w-2xl bg-white rounded-t-[2.5rem] md:rounded-3xl shadow-2xl animate-in slide-in-from-bottom md:zoom-in-95 duration-300 overflow-hidden flex flex-col max-h-[92vh] md:max-h-[85vh] self-end md:self-center"},Sl={class:"p-6 md:p-8 border-b border-slate-100 flex items-center justify-between bg-white sticky top-0 z-20"},Bl={class:"text-xl md:text-2xl font-bold text-slate-900 mb-0.5 md:mb-1"},Tl={class:"text-xs md:text-sm text-slate-500 font-medium"},zl={class:"overflow-y-auto custom-scrollbar"},Il={class:"block text-xs font-bold text-slate-700 mb-2"},Ml={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},Dl={class:"block text-xs font-bold text-slate-700 mb-2"},El={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},Vl={class:"flex gap-3 pt-2"},Ll=["disabled"],Al={key:0,class:"fixed inset-0 z-[100] flex items-end justify-center sm:items-center p-0 sm:p-4"},Nl={class:"relative z-10 w-full max-w-lg bg-white rounded-t-[2.5rem] sm:rounded-3xl shadow-2xl animate-in slide-in-from-bottom duration-300 overflow-hidden"},Pl={key:0},Fl={class:"p-6 md:p-8 border-b border-slate-100 flex items-center justify-between bg-white"},Rl={class:"flex items-center gap-4"},Ol={class:"w-12 h-12 rounded-2xl bg-slate-50 border border-slate-100 flex items-center justify-center shrink-0"},Ul={class:"text-xl font-bold text-slate-900 leading-tight"},Wl={class:"text-sm text-slate-500 font-medium"},Xl={class:"p-6 md:p-8 space-y-6"},ql={class:"bg-slate-50 rounded-2xl p-5 border border-slate-100 relative overflow-hidden"},Jl={class:"relative z-10"},Gl={class:"flex justify-between items-start mb-4"},Hl={class:"text-xs font-bold text-slate-400 mb-1"},Yl={class:"flex items-center gap-2"},Zl={class:"text-base font-bold text-slate-900"},Kl={class:"text-lg font-bold text-slate-900 tabular-nums"},Ql={class:"w-full h-2 bg-slate-200 rounded-full overflow-hidden mb-4"},eo={class:"flex justify-between items-end"},to={class:"text-xs font-bold text-slate-400 mb-0.5"},so={class:"text-lg font-bold text-slate-900 tabular-nums"},lo={class:"text-right"},oo={class:"text-xs font-bold text-slate-400 mb-0.5"},ao={class:"text-base font-bold text-slate-600 tabular-nums"},io={key:0,class:"flex justify-start"},no={class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-50 text-indigo-700 border border-indigo-100"},ro={class:"text-sm font-semibold"},co={class:"grid grid-cols-2 gap-3 pt-2"},uo=24,mo={__name:"Index",props:{deferred_budgets:Object,deferred_recommendations:Object,summary:Object,categories:Array,filters:Object,is_premium:Boolean,auto_setup_usage:Number},setup(h){const R=Re(),t=i=>R.props.translations?.[i]||i,_=g(null),V=w(()=>`<div class="mt-4 flex justify-start">
    <button onclick="window.dispatchEvent(new CustomEvent('skip-tour'))" class="text-[11px] font-semibold text-slate-400 hover:text-rose-500 transition-colors">${t("skip_tour")}</button>
</div>`),$e=I.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",I.stopTimer),i.addEventListener("mouseleave",I.resumeTimer)}}),M=(i,s="success")=>{$e.fire({icon:s,title:i,background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},p=h,oe=w(()=>({recommendations:p.deferred_recommendations||[]})),v=g([]);Z(()=>p.deferred_budgets,i=>{v.value=i||[]},{immediate:!0,deep:!0});const y=g(!1),B=g(!1),k=g(null),u=xe({category_id:"",limit:"",month:p.filters.month}),n=xe({estimated_income:"",goal:"balanced_life",lifestyle:"standard",month:p.filters.month}),L=g(!1),J=g(!1),C=g(1),ae=g("Premium Feature"),ie=g("Unlock this feature with the Professional Plan."),O=(i,s)=>{ae.value=i,ie.value=s,J.value=!0},Se=w(()=>p.categories.filter(i=>i.user_id!==null).length),Be=w(()=>p.is_premium||Se.value<3),j=g(0),T=g(3),Te=()=>{typeof window<"u"&&(window.innerWidth<768?T.value=1:window.innerWidth<1024?T.value=2:T.value=3)},A=w(()=>{const i=(oe.value.budgets||[]).map(s=>s.category?s.category.id:s.category_id);return oe.value.recommendations.filter(s=>!i.includes(s.category_id))}),ze=()=>{j.value<G.value&&j.value++},G=w(()=>Math.max(0,A.value.length-T.value)),Ie=()=>{j.value>0&&j.value--};Z(A,()=>{j.value>G.value&&(j.value=0)});const H=g(null),U=g(0),Y=()=>{Te(),H.value&&(U.value=H.value.clientWidth)},Me=w(()=>{if(!U.value||T.value===0)return"translateX(0px)";const i=(U.value+uo)/T.value;return`translateX(-${j.value*i}px)`}),De=()=>{const i=window.innerWidth<768;_.value=Qe({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,stagePadding:10,onNextClick:()=>{_.value.isLastStep()?(i?(localStorage.setItem("tour_state","hub_to_goals"),N.visit("/dashboard")):(localStorage.setItem("tour_state","goals_setup"),N.visit("/goals")),_.value.destroy()):_.value.moveNext()},steps:[{element:"#step-budget-summary",popover:{title:`<span class="text-lg font-bold">${t("tour_budget_summary_title")}</span>`,description:t("tour_budget_summary_desc")+V.value,side:"bottom",align:"start"}},{element:"#step-add-budget",popover:{title:`<span class="text-lg font-bold">${t("tour_budget_manual_title")}</span>`,description:t("tour_budget_manual_desc")+V.value,side:"bottom",align:"start"}},{element:"#step-auto-setup",popover:{title:`<span class="text-lg font-bold">${t("tour_budget_auto_title")}</span>`,description:t("tour_budget_auto_desc")+V.value,side:"bottom",align:"start"}},{element:i?"#mobile-nav-home":"#nav-goals",popover:{title:i?`<span class="text-lg font-bold">${t("tour_budget_return_title")}</span>`:`<span class="text-lg font-bold">${t("tour_budget_goals_title")}</span>`,description:i?t("tour_budget_return_desc")+V.value:t("tour_budget_goals_desc")+V.value,side:"bottom",align:"start"}}]}),_.value.drive()},de=()=>{const i=localStorage.getItem("tour_state"),s=R.props.auth.user.has_completed_tour,a=["welcome","wallet_setup","transaction_setup","dashboard_explanation","analysis_intro","hub_to_budget","budget_setup"];if(!(_.value&&document.querySelector(".driver-popover"))&&(!i||i&&a.includes(i))){if(!i||i!=="budget_setup"){if(!i&&s)return;localStorage.setItem("tour_state","budget_setup")}const f=document.querySelector(".driver-popover"),z=document.querySelector(".driver-overlay");f&&f.remove(),z&&z.remove(),setTimeout(De,800)}};Fe(()=>{setTimeout(()=>{Y()},100),window.addEventListener("resize",Y),de(),window.addEventListener("skip-tour",()=>{localStorage.removeItem("tour_state"),_.value&&_.value.destroy(),N.post("/user/complete-tour",{},{preserveScroll:!0,preserveState:!0})})}),Z(()=>R.url,()=>{de()}),Oe(()=>{window.removeEventListener("resize",Y),_.value&&_.value.destroy()});const ne=w(()=>{const[i,s]=p.filters.month.split("-"),a=R.props.locale==="id"?"id-ID":"en-US";return new Intl.DateTimeFormat(a,{month:"long",year:"numeric"}).format(new Date(i,s-1))}),re=i=>{const[s,a]=(p.filters.month||"").split("-").map(Number),f=new Date(s,a-1+i,1),z=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}`;N.get("/budget",{month:z},{preserveState:!0,only:["deferred_budgets","deferred_recommendations","summary","filters"]})},ce=()=>{B.value=!1,k.value=null,u.reset(),u.clearErrors(),u.month=p.filters.month,y.value=!0},ue=i=>{B.value=!0,k.value=i.id,u.clearErrors(),u.category_id=i.category?i.category.id:i.category_id,u.limit=i.limit,u.month=p.filters.month,y.value=!0},me=i=>{I.fire({title:t("delete_budget_title")||"Delete Budget?",text:t("delete_budget_confirm")||"Are you sure you want to delete this budget?",icon:"warning",showCancelButton:!0,confirmButtonText:t("yes_delete")||"Yes, delete it",cancelButtonText:t("cancel")||"Cancel",customClass:{popup:"!rounded-[2rem] !p-10 !bg-white !shadow-2xl !border !border-slate-100 !font-sans !antialiased",title:"!text-xl !font-bold !text-slate-900 !pt-4 !pb-2 !px-0 !m-0 !leading-tight",htmlContainer:"!text-sm !font-semibold !text-slate-500 !leading-relaxed !pb-6 !px-0 !m-0",actions:"!flex !items-center !justify-center !gap-3 !mt-4 !w-full !px-0",confirmButton:"!inline-flex !items-center !justify-center !bg-rose-600 !text-white !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm hover:!shadow-rose-600/20 hover:!bg-rose-700 active:!scale-95 !border-none !outline-none !m-0 !cursor-pointer",cancelButton:"!inline-flex !items-center !justify-center !bg-slate-100 !text-slate-700 hover:!bg-slate-200 !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm !border-none !outline-none !m-0 !cursor-pointer active:!scale-95",icon:"!border-4 !border-rose-100 !text-rose-600 !scale-110 !mb-6 !mt-2"},buttonsStyling:!1,backdrop:"rgba(15, 23, 42, 0.4)"}).then(s=>{if(s.isConfirmed){const a=[...v.value];v.value=v.value.filter(f=>f.id!==i),N.delete(`/budget/${i}`,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{I.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:z=>{z.addEventListener("mouseenter",I.stopTimer),z.addEventListener("mouseleave",I.resumeTimer)}}).fire({icon:"success",title:t("deleted_title"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},onError:()=>{v.value=a,M(t("error_deleting"),"error")}})}})},Ee=()=>{if(B.value&&k.value){const i=JSON.parse(JSON.stringify(v.value)),s=v.value.findIndex(a=>a.id===k.value);s!==-1&&(v.value[s].limit=u.limit),u.put(`/budget/${k.value}`,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.value=!1,u.reset(),k.value=null,M(t("budget_updated")||"Budget updated successfully")},onError:()=>{v.value=i,M(t("error_updating"),"error")}})}else u.post("/budget",{onSuccess:()=>{y.value=!1,u.reset(),M(t("budget_created")||"Budget created successfully")}})},D=g(!1),b=g(null),Ve=i=>{window.innerWidth<768&&(b.value=i,D.value=!0)},Le=i=>{u.category_id=i.category_id,u.limit=i.recommended_limit,u.month=p.filters.month,B.value=!1,k.value=null,u.post("/budget",{onSuccess:()=>{y.value=!1,u.reset(),M(t("recommendation_adopted")||"Recommendation adopted successfully")}})},ge=()=>{n.clearErrors(),L.value=!0},Ae=()=>{n.month=p.filters.month,n.post("/budget/auto-setup",{onSuccess:()=>{L.value=!1,C.value=1,n.reset(),M(t("auto_setup_complete")||"Auto-setup completed successfully")}})},$=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(i),W=i=>{switch(i){case"danger":return"bg-rose-500";case"warning":return"bg-amber-500";default:return"bg-emerald-500"}},be=i=>{switch(i){case"danger":return t("status_danger");case"warning":return t("status_warning");default:return t("status_on_track")}},Ne=w(()=>v.value.filter(i=>!(B.value&&k.value&&i.id===k.value)).map(i=>i.category?i.category.id:i.category_id).filter(i=>i!==null)),Pe=w(()=>p.categories.filter(i=>!Ne.value.includes(i.id)));return(i,s)=>(r(),c(E,null,[d(o(Ue),{title:t("budget_planning")},null,8,["title"]),d(Xe,null,{default:P(()=>[e("header",lt,[e("div",ot,[e("h1",at,l(t("budget_planning")),1),e("p",it,l(t("manage_monthly_limits")),1)]),e("div",dt,[e("div",nt,[e("button",{onClick:s[0]||(s[0]=a=>re(-1)),class:"p-2 hover:bg-slate-50 text-slate-400 hover:text-indigo-600 rounded-xl transition-all"},[d(o(pe),{class:"w-5 h-5"})]),e("span",rt,l(ne.value),1),e("button",{onClick:s[1]||(s[1]=a=>re(1)),class:"p-2 hover:bg-slate-50 text-slate-400 hover:text-indigo-600 rounded-xl transition-all"},[d(o(ve),{class:"w-5 h-5"})])]),e("div",ct,[e("button",{id:"step-add-budget",onClick:ce,class:"w-full md:w-auto bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2"},[d(o(qe),{class:"w-4 h-4"}),e("span",null,l(t("add_budget")),1)]),e("div",ut,[e("button",{onClick:s[2]||(s[2]=a=>h.is_premium||h.auto_setup_usage==0?ge():O(t("upsell_auto_setup_title"),t("upsell_auto_setup_desc"))),class:"w-full md:w-auto px-6 py-3 rounded-2xl font-bold text-sm transition-all flex items-center justify-center gap-2 active:scale-95 bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-200 hover:shadow-xl hover:shadow-emerald-300"},[d(o(fe),{class:"w-4 h-4"}),e("span",mt,l(t("auto_setup")),1)])])])])]),e("section",gt,[e("div",bt,[e("div",xt,[d(o(_e),{class:"w-32 h-32 text-white"})]),e("div",ht,[e("div",pt,[e("div",vt,[d(o(_e),{class:"w-5 h-5 md:w-6 md:h-6 text-white"})]),e("h3",ft,l(t("total_spent")),1)]),e("div",_t,[e("h2",wt,l($(h.summary.total_spent)),1),e("div",yt,[e("span",null,l(t("used")),1),e("span",kt,l(Math.min(h.summary.percentage,100))+"%",1)])]),e("div",Ct,[e("div",{class:"h-full bg-white rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(255,255,255,0.5)]",style:X({width:Math.min(h.summary.percentage,100)+"%"})},null,4)])])]),e("div",jt,[e("div",$t,[d(o(we),{class:"w-32 h-32 text-white"})]),e("div",St,[e("div",Bt,[e("div",Tt,[d(o(we),{class:"w-5 h-5 md:w-6 md:h-6 text-white"})]),e("h3",zt,l(t("remaining_budget")),1)]),e("div",It,[e("h2",Mt,l($(h.summary.remaining)),1),e("p",Dt,l(t("safe_to_spend")),1)])])]),e("div",Et,[e("div",Vt,[d(o(ye),{class:"w-32 h-32 text-white"})]),e("div",Lt,[e("div",At,[e("div",Nt,[d(o(ye),{class:"w-5 h-5 md:w-6 md:h-6 text-white"})]),e("h3",Pt,l(t("daily_allowance")),1)]),e("div",Ft,[e("h2",Rt,l($(h.summary.daily_allowance)),1),e("div",Ot,[e("span",Ut,l(h.summary.days_remaining)+" "+l(t("days_left")),1)])])])]),s[28]||(s[28]=e("div",{class:"md:hidden shrink-0 w-4"},null,-1))]),d(o(he),{data:"deferred_recommendations"},{fallback:P(()=>[e("div",Wt,[s[30]||(s[30]=e("div",{class:"flex items-center justify-between mb-8"},[e("div",{class:"space-y-4"},[e("div",{class:"h-8 w-64 bg-slate-100 rounded-2xl"}),e("div",{class:"h-4 w-48 bg-slate-50 rounded-xl"})]),e("div",{class:"flex gap-3"},[e("div",{class:"w-10 h-10 bg-slate-50 rounded-xl"}),e("div",{class:"w-10 h-10 bg-slate-50 rounded-xl"})])],-1)),e("div",Xt,[(r(),c(E,null,F(3,a=>e("div",{key:a,class:"w-[85vw] md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)] shrink-0 h-72 bg-slate-50 rounded-[2rem] border border-slate-100 relative p-8 flex flex-col justify-between"},[...s[29]||(s[29]=[e("div",{class:"flex justify-between items-start"},[e("div",{class:"space-y-3"},[e("div",{class:"h-6 w-24 bg-slate-200 rounded-full opacity-50"}),e("div",{class:"h-8 w-40 bg-slate-200 rounded-xl"})]),e("div",{class:"w-12 h-12 bg-slate-200 rounded-2xl opacity-50"})],-1),e("div",{class:"space-y-3"},[e("div",{class:"h-4 w-full bg-slate-200 rounded-lg opacity-30"}),e("div",{class:"h-4 w-2/3 bg-slate-200 rounded-lg opacity-30"})],-1),e("div",{class:"h-12 w-full bg-slate-200 rounded-2xl opacity-20"},null,-1)])])),64))])])]),default:P(()=>[!h.is_premium||A.value.length>0?(r(),c("section",qt,[e("div",Jt,[e("div",null,[e("h2",Gt,l(t("smart_recommendations")),1),e("p",Ht,l(t("ai_powered_optimizations")),1)]),A.value.length>T.value?(r(),c("div",Yt,[e("button",{onClick:Ie,disabled:j.value===0,class:"p-3 rounded-xl bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 hover:border-indigo-100 disabled:opacity-30 transition-all shadow-sm hover:shadow-md"},[d(o(pe),{class:"w-5 h-5"})],8,Zt),e("button",{onClick:ze,disabled:j.value>=G.value,class:"p-3 rounded-xl bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 hover:border-indigo-100 disabled:opacity-30 transition-all shadow-sm hover:shadow-md"},[d(o(ve),{class:"w-5 h-5"})],8,Kt)])):x("",!0)]),e("div",{class:"relative -mx-4 px-4 md:mx-0 md:px-0 py-10 no-scrollbar overflow-x-auto md:overflow-hidden snap-x snap-mandatory md:snap-none",ref_key:"carouselContainer",ref:H},[h.is_premium?x("",!0):(r(),c("div",Qt,[e("div",es,[d(o(Je),{class:"w-8 h-8 text-amber-500"})]),e("h4",ts,l(t("unlock_ai_recommendations")),1),e("p",ss,l(t("unlock_ai_recommendations_desc")),1),e("button",{onClick:s[3]||(s[3]=a=>O(t("upsell_ai_recs_title"),t("upsell_ai_recs_desc"))),class:"px-8 py-4 bg-emerald-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 flex items-center gap-2 group"},[d(o(Ge),{class:"w-4 h-4 group-hover:rotate-12 transition-transform"}),S(" "+l(t("upgrade_to_professional")),1)])])),e("div",{class:"flex transition-transform duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)] gap-4 md:gap-6",style:X(U.value>=768?{transform:Me.value}:{})},[h.is_premium?(r(!0),c(E,{key:0},F(A.value,a=>(r(),c("div",{key:a.category,class:"w-[85vw] md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)] shrink-0 snap-center bg-white rounded-[2rem] p-6 md:p-8 border border-slate-200 relative overflow-hidden group shadow-lg shadow-slate-200/50 hover:shadow-xl hover:shadow-indigo-500/10 hover:-translate-y-1 transition-all duration-300"},[s[32]||(s[32]=e("div",{class:"absolute -right-10 -top-10 w-40 h-40 bg-indigo-50/80 rounded-full blur-3xl transition-all group-hover:bg-indigo-100/80"},null,-1)),e("div",ls,[e("div",os,[e("div",null,[e("span",as,l(t("recommended_budget")),1),e("h3",is,l(a.category),1)]),e("div",ds,[d(o(ee),{class:"w-5 h-5 md:w-6 md:h-6"})])]),e("div",ns,[e("p",rs,[S(l(a.reason)+" "+l(t("recommend_limit"))+" ",1),e("span",cs,l($(a.recommended_limit)),1),s[31]||(s[31]=S(". ",-1))])]),e("button",{onClick:f=>Le(a),class:"w-full flex items-center justify-center gap-2 md:gap-3 py-3.5 md:py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-2xl transition-all shadow-lg shadow-indigo-200 hover:shadow-indigo-300 group/btn text-sm"},[e("span",null,l(t("adopt_recommendation")),1),d(o(te),{class:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})],8,us)])]))),128)):(r(),c(E,{key:1},F(3,a=>e("div",{key:a,class:"w-[85vw] md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)] shrink-0 snap-center bg-slate-50/50 rounded-[2rem] p-6 md:p-8 border border-white relative overflow-hidden flex flex-col justify-between h-full min-h-[320px] shadow-sm"},[s[34]||(s[34]=e("div",null,[e("div",{class:"h-6 w-32 bg-slate-200 rounded-lg mb-6 shadow-sm opacity-50"}),e("div",{class:"space-y-3 mb-8"},[e("div",{class:"h-4 w-full bg-slate-100 rounded-lg opacity-40"}),e("div",{class:"h-4 w-2/3 bg-slate-100 rounded-lg opacity-40"})])],-1)),e("div",ms,[e("div",gs,[d(o(ee),{class:"w-6 h-6 text-slate-200"})]),s[33]||(s[33]=e("div",{class:"space-y-2 flex-1"},[e("div",{class:"h-3 w-20 bg-slate-200/50 rounded"})],-1))])])),64)),s[35]||(s[35]=e("div",{class:"md:hidden shrink-0 w-4"},null,-1))],4)],512)])):x("",!0)]),_:1}),d(o(he),{data:"deferred_budgets"},{fallback:P(()=>[e("div",bs,[s[37]||(s[37]=e("div",{class:"flex items-center justify-between"},[e("div",{class:"h-8 w-48 bg-slate-100 rounded-xl animate-pulse"}),e("div",{class:"h-10 w-32 bg-slate-100 rounded-xl animate-pulse"})],-1)),e("div",xs,[(r(),c(E,null,F(6,a=>e("div",{key:a,class:"bg-white rounded-[2rem] p-6 border border-slate-100 space-y-4 relative overflow-hidden"},[...s[36]||(s[36]=[e("div",{class:"flex justify-between items-start"},[e("div",{class:"flex items-center gap-4"},[e("div",{class:"w-12 h-12 rounded-2xl bg-slate-50 animate-pulse"}),e("div",{class:"space-y-2"},[e("div",{class:"h-5 w-32 bg-slate-50 rounded-lg animate-pulse"}),e("div",{class:"h-3 w-20 bg-slate-50 rounded-lg animate-pulse"})])]),e("div",{class:"w-8 h-8 rounded-lg bg-slate-50 animate-pulse"})],-1),e("div",{class:"space-y-2"},[e("div",{class:"flex justify-between"},[e("div",{class:"h-4 w-16 bg-slate-50 rounded animate-pulse"}),e("div",{class:"h-4 w-16 bg-slate-50 rounded animate-pulse"})]),e("div",{class:"h-3 w-full bg-slate-50 rounded-full animate-pulse"})],-1),e("div",{class:"h-12 w-full bg-slate-50 rounded-xl animate-pulse"},null,-1)])])),64))])])]),default:P(()=>[e("section",hs,[e("div",ps,[e("div",null,[e("h2",vs,l(t("monthly_allocation")),1),e("p",fs,l(t("track_spending_desc")),1)])]),v.value.length>0?(r(),c("div",_s,[(r(!0),c(E,null,F(v.value,a=>(r(),c("div",{key:a.id,onClick:f=>Ve(a),class:"bg-white rounded-[1.5rem] p-5 md:p-6 border border-slate-200 shadow-sm hover:shadow-xl hover:shadow-slate-200/50 hover:border-indigo-100 transition-all duration-300 group cursor-pointer md:cursor-default active:scale-[0.98] active:md:scale-100"},[e("div",ys,[e("div",ks,[e("div",{class:m(["w-12 h-12 md:w-14 md:h-14 rounded-2xl flex items-center justify-center shrink-0 shadow-sm transition-all duration-300",a.category?a.category.color:"bg-slate-50"])},[d(o(se),{class:"w-6 h-6 md:w-7 md:h-7 text-white"})],2),e("div",Cs,[e("h3",js,l(a.category?a.category.name:t("unknown_category")),1),e("div",$s,[e("div",Ss,[e("span",{class:m(["w-2 h-2 rounded-full",W(a.status)])},null,2),e("span",Bs,l(be(a.status)),1)]),a.reason?(r(),c("div",Ts,l(t(a.reason)),1)):x("",!0)])])]),e("div",zs,[e("div",Is,[e("div",Ms,[e("span",Ds,l(t("current_balance")),1),e("div",Es,[e("span",Vs,l($(a.spent).split(",")[0]),1),e("span",Ls,"/ "+l($(a.limit).split(",")[0]),1)])]),e("span",{class:m(["text-sm md:text-base font-bold tabular-nums",a.percentage>100?"text-rose-600":"text-slate-900"])},l(a.percentage)+"% ",3)]),e("div",As,[e("div",{class:m(["h-full transition-all duration-1000 ease-out rounded-full shadow-sm relative overflow-hidden",W(a.status)]),style:X({width:Math.min(a.percentage,100)+"%"})},[...s[38]||(s[38]=[e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent w-full -translate-x-full animate-[shimmer_2s_infinite]"},null,-1)])],6)])]),e("div",Ns,[e("button",{onClick:f=>ue(a),class:"p-2.5 md:p-3 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-indigo-600 group/edit"},[d(o(ee),{class:"w-5 h-5 transition-transform group-hover/edit:scale-110"})],8,Ps),e("button",{onClick:f=>me(a.id),class:"p-2.5 md:p-3 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-rose-600 group/del"},[d(o(ke),{class:"w-5 h-5 transition-transform group-hover/del:scale-110"})],8,Fs)])])],8,ws))),128))])):(r(),c("div",Rs,[e("div",Os,[d(o(q),{class:"w-8 h-8 text-slate-300"})]),e("div",Us,[e("h2",Ws,l(t("no_budgets_title")),1),e("p",Xs,l(t("no_budgets_desc")),1)]),e("div",qs,[e("div",Js,[e("button",{onClick:s[4]||(s[4]=a=>h.is_premium||h.auto_setup_usage==0?ge():O(t("upsell_auto_setup_title"),t("upsell_auto_setup_desc"))),class:"px-8 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl font-bold text-sm transition-all shadow-xl shadow-emerald-600/20 flex items-center gap-2 active:scale-95"},[d(o(fe),{class:"w-5 h-5"}),e("span",null,l(t("start_auto_setup")),1)])]),e("button",{onClick:ce,class:"px-8 py-3 bg-white hover:bg-slate-50 text-slate-600 rounded-2xl font-bold text-sm transition-all border border-slate-200 shadow-sm"},l(t("add_manual_budget")),1)])]))])]),_:1}),(r(),K(Q,{to:"body"},[L.value?(r(),c("div",Gs,[e("div",{onClick:s[5]||(s[5]=a=>L.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",Hs,[e("div",Ys,[e("div",null,[e("h2",Zs,l(t("auto_setup_wizard")),1),e("p",Ks,l(t("step_of").replace(":step",C.value).replace(":total",3)),1)]),e("button",{onClick:s[6]||(s[6]=a=>L.value=!1),class:"p-2.5 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all border border-slate-100"},[d(o(le),{class:"w-5 h-5 md:w-6 md:h-6"})])]),e("div",Qs,[C.value===1?(r(),c("div",el,[e("div",null,[e("h3",tl,l(t("estimated_income_label")),1),e("p",sl,l(t("estimated_income_description")),1)]),e("div",null,[e("label",ll,l(t("enter_monthly_income"))+" (IDR)",1),d(je,{modelValue:o(n).estimated_income,"onUpdate:modelValue":s[7]||(s[7]=a=>o(n).estimated_income=a),placeholder:t("amount")},null,8,["modelValue","placeholder"]),o(n).errors.estimated_income?(r(),c("p",ol,[d(o(q),{class:"w-3.5 h-3.5"}),S(" "+l(o(n).errors.estimated_income),1)])):x("",!0)]),e("div",al,[e("button",{onClick:s[8]||(s[8]=a=>C.value=2),disabled:!o(n).estimated_income,class:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-3 shadow-lg shadow-indigo-200 disabled:opacity-50 disabled:shadow-none"},[e("span",null,l(t("next_step")),1),d(o(te),{class:"w-4 h-4"})],8,il)])])):x("",!0),C.value===2?(r(),c("div",dl,[e("div",null,[e("h3",nl,l(t("financial_goal")),1),e("p",rl,l(t("financial_goal_description")),1)]),e("div",cl,[e("button",{onClick:s[9]||(s[9]=a=>o(n).goal="aggressive_saving"),class:m(["p-6 rounded-2xl border-2 text-left transition-all group relative overflow-hidden",o(n).goal==="aggressive_saving"?"bg-indigo-50 border-indigo-600 ring-4 ring-indigo-500/10":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200 hover:bg-slate-50"])},[e("div",ul,[e("div",{class:m(["p-3 rounded-xl border shrink-0",o(n).goal==="aggressive_saving"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-50 text-slate-400 border-slate-100"])},[d(o(se),{class:"w-6 h-6"})],2),e("div",null,[e("span",{class:m(["text-base font-bold block mb-1",o(n).goal==="aggressive_saving"?"text-indigo-900":"text-slate-700"])},l(t("goal_aggressive_title")),3),e("p",{class:m(["text-sm font-medium leading-relaxed transition-colors",o(n).goal==="aggressive_saving"?"text-indigo-700":"text-slate-500 opacity-80"])},l(t("goal_aggressive_desc")),3)])])],2),e("button",{onClick:s[10]||(s[10]=a=>o(n).goal="balanced_life"),class:m(["p-6 rounded-2xl border-2 text-left transition-all group relative overflow-hidden",o(n).goal==="balanced_life"?"bg-indigo-50 border-indigo-600 ring-4 ring-indigo-500/10":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200 hover:bg-slate-50"])},[e("div",ml,[e("div",{class:m(["p-3 rounded-xl border shrink-0",o(n).goal==="balanced_life"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-50 text-slate-400 border-slate-100"])},[d(o(Ce),{class:"w-6 h-6"})],2),e("div",null,[e("span",{class:m(["text-base font-bold block mb-1",o(n).goal==="balanced_life"?"text-indigo-900":"text-slate-700"])},l(t("goal_balanced_title")),3),e("p",{class:m(["text-sm font-medium leading-relaxed transition-colors",o(n).goal==="balanced_life"?"text-indigo-700":"text-slate-500 opacity-80"])},l(t("goal_balanced_desc")),3)])])],2)]),e("div",gl,[e("button",{onClick:s[11]||(s[11]=a=>C.value=1),class:"flex-1 py-4 bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold rounded-xl transition-all"},l(t("back")),1),e("button",{onClick:s[12]||(s[12]=a=>C.value=3),class:"flex-1 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-3 shadow-lg shadow-indigo-200"},[e("span",null,l(t("continue")),1),d(o(te),{class:"w-4 h-4"})])])])):x("",!0),C.value===3?(r(),c("div",bl,[e("div",null,[e("h3",xl,l(t("daily_activity")),1),e("p",hl,l(t("activity_description")),1)]),e("div",pl,[e("button",{onClick:s[13]||(s[13]=a=>o(n).lifestyle="commuter"),class:m(["p-5 rounded-xl border-2 text-left transition-all w-full flex items-center gap-4 group",o(n).lifestyle==="commuter"?"bg-indigo-50 border-indigo-600 ring-2 ring-indigo-500/10":"bg-white border-slate-100 hover:border-indigo-200 hover:bg-slate-50"])},[e("div",{class:m(["p-3 rounded-xl border shrink-0",o(n).lifestyle==="commuter"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-50 text-slate-400 border-slate-100"])},[d(o(He),{class:"w-5 h-5"})],2),e("div",null,[e("span",{class:m(["block text-sm font-bold mb-1",o(n).lifestyle==="commuter"?"text-indigo-900":"text-slate-700"])},l(t("lifestyle_commuter_title")),3),e("p",vl,l(t("lifestyle_commuter_desc")),1)])],2),e("button",{onClick:s[14]||(s[14]=a=>o(n).lifestyle="homebody"),class:m(["p-5 rounded-xl border-2 text-left transition-all w-full flex items-center gap-4 group",o(n).lifestyle==="homebody"?"bg-indigo-50 border-indigo-600 ring-2 ring-indigo-500/10":"bg-white border-slate-100 hover:border-indigo-200 hover:bg-slate-50"])},[e("div",{class:m(["p-3 rounded-xl border shrink-0",o(n).lifestyle==="homebody"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-50 text-slate-400 border-slate-100"])},[d(o(Ye),{class:"w-5 h-5"})],2),e("div",null,[e("span",{class:m(["block text-sm font-bold mb-1",o(n).lifestyle==="homebody"?"text-indigo-900":"text-slate-700"])},l(t("lifestyle_homebody_title")),3),e("p",fl,l(t("lifestyle_homebody_desc")),1)])],2),e("button",{onClick:s[15]||(s[15]=a=>o(n).lifestyle="standard"),class:m(["p-5 rounded-xl border-2 text-left transition-all w-full flex items-center gap-4 group",o(n).lifestyle==="standard"?"bg-indigo-50 border-indigo-600 ring-2 ring-indigo-500/10":"bg-white border-slate-100 hover:border-indigo-200 hover:bg-slate-50"])},[e("div",{class:m(["p-3 rounded-xl border shrink-0",o(n).lifestyle==="standard"?"bg-indigo-600 text-white border-indigo-500":"bg-slate-50 text-slate-400 border-slate-100"])},[d(o(Ce),{class:"w-5 h-5"})],2),e("div",null,[e("span",{class:m(["block text-sm font-bold mb-1",o(n).lifestyle==="standard"?"text-indigo-900":"text-slate-700"])},l(t("lifestyle_standard_title")),3),e("p",_l,l(t("lifestyle_standard_desc")),1)])],2)]),e("div",wl,[e("button",{onClick:s[16]||(s[16]=a=>C.value=2),class:"flex-1 py-4 bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold rounded-xl transition-all"},l(t("back")),1),e("button",{onClick:Ae,disabled:o(n).processing,class:"flex-1 py-4 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-emerald-200"},[o(n).processing?(r(),c("span",kl,l(t("creating_plan")),1)):(r(),c("span",Cl,l(t("generate_plan")),1)),d(o(Ze),{class:"w-4 h-4"})],8,yl)])])):x("",!0)])])])):x("",!0)])),(r(),K(Q,{to:"body"},[y.value?(r(),c("div",jl,[e("div",{onClick:s[17]||(s[17]=a=>y.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",$l,[e("div",Sl,[e("div",null,[e("h2",Bl,l(B.value?t("update_budget"):t("set_new_budget")),1),e("p",Tl,l(t("for_month"))+" "+l(ne.value),1)]),e("button",{onClick:s[18]||(s[18]=a=>y.value=!1),class:"p-2.5 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all border border-slate-100"},[d(o(le),{class:"w-5 h-5 md:w-6 md:h-6"})])]),e("div",zl,[e("form",{onSubmit:We(Ee,["prevent"]),class:"p-8 space-y-6"},[e("div",null,[e("label",Il,l(t("category")),1),d(et,{modelValue:o(u).category_id,"onUpdate:modelValue":s[19]||(s[19]=a=>o(u).category_id=a),categories:Pe.value,type:"expense","item-value":"id","item-label":"name",placeholder:t("select_or_type_category"),"can-create":Be.value,onLimitReached:s[20]||(s[20]=a=>O(t("upsell_category_limit_title"),t("upsell_category_limit_desc")))},null,8,["modelValue","categories","placeholder","can-create"]),o(u).errors.category_id?(r(),c("p",Ml,[d(o(q),{class:"w-3.5 h-3.5"}),S(" "+l(o(u).errors.category_id),1)])):x("",!0)]),e("div",null,[e("label",Dl,l(t("monthly_limit")),1),d(je,{modelValue:o(u).limit,"onUpdate:modelValue":s[21]||(s[21]=a=>o(u).limit=a),placeholder:t("set_budget_amount")},null,8,["modelValue","placeholder"]),o(u).errors.limit?(r(),c("p",El,[d(o(q),{class:"w-3.5 h-3.5"}),S(" "+l(o(u).errors.limit),1)])):x("",!0)]),e("div",Vl,[e("button",{type:"button",onClick:s[22]||(s[22]=a=>y.value=!1),class:"flex-1 py-4 bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold rounded-xl transition-all text-sm"},l(t("cancel")),1),e("button",{type:"submit",disabled:o(u).processing,class:"flex-1 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-200 hover:shadow-xl text-sm disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed"},l(B.value?t("update_limit"):t("confirm_budget")),9,Ll)])],32)])])])):x("",!0)])),(r(),K(Q,{to:"body"},[D.value?(r(),c("div",Al,[e("div",{onClick:s[23]||(s[23]=a=>D.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",Nl,[b.value?(r(),c("div",Pl,[e("div",Fl,[e("div",Rl,[e("div",Ol,[d(o(se),{class:"w-6 h-6 text-indigo-600"})]),e("div",null,[e("h2",Ul,l(b.value.category?b.value.category.name:t("unknown_category")),1),e("p",Wl,l(t("budget_details")),1)])]),e("button",{onClick:s[24]||(s[24]=a=>D.value=!1),class:"p-2 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all border border-slate-100"},[d(o(le),{class:"w-6 h-6"})])]),e("div",Xl,[e("div",ql,[e("div",Jl,[e("div",Gl,[e("div",null,[e("p",Hl,l(t("current_status")),1),e("div",Yl,[e("span",{class:m(["w-2.5 h-2.5 rounded-full",W(b.value.status)])},null,2),e("span",Zl,l(be(b.value.status)),1)])]),e("span",Kl,l(b.value.percentage)+"%",1)]),e("div",Ql,[e("div",{class:m(["h-full rounded-full transition-all duration-500",W(b.value.status)]),style:X({width:Math.min(b.value.percentage,100)+"%"})},null,6)]),e("div",eo,[e("div",null,[e("p",to,l(t("spent")),1),e("p",so,l($(b.value.spent)),1)]),e("div",lo,[e("p",oo,l(t("limit")),1),e("p",ao,l($(b.value.limit)),1)])])])]),b.value.reason?(r(),c("div",io,[e("div",no,[s[39]||(s[39]=e("div",{class:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"},null,-1)),e("span",ro,l(t(b.value.reason)),1)])])):x("",!0),e("div",co,[e("button",{onClick:s[25]||(s[25]=a=>{ue(b.value),D.value=!1}),class:"flex items-center justify-center gap-2 py-3.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-xl font-bold text-sm transition-colors border border-indigo-100"},[d(o(Ke),{class:"w-4 h-4"}),S(" "+l(t("edit")),1)]),e("button",{onClick:s[26]||(s[26]=a=>{me(b.value.id),D.value=!1}),class:"flex items-center justify-center gap-2 py-3.5 bg-rose-50 hover:bg-rose-100 text-rose-600 rounded-xl font-bold text-sm transition-colors border border-rose-100"},[d(o(ke),{class:"w-4 h-4"}),S(" "+l(t("delete")),1)])])])])):x("",!0)])])):x("",!0)])),d(tt,{show:J.value,title:ae.value,description:ie.value,onClose:s[27]||(s[27]=a=>J.value=!1)},null,8,["show","title","description"])]),_:1})],64))}},ko=st(mo,[["__scopeId","data-v-24058eb9"]]);export{ko as default};
