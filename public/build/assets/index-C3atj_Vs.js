import{r as v,w as re,J as we,a as ye,f as F,i as ke,u as Ce,j as u,k as i,l as a,m as Se,p as De,q as e,C as I,s as r,A as R,x as d,F as z,y as V,G as C,H as ne,K as x,I as _,L as G,E as je,T as ie,v as $,M as J,z as Ee,O as Me}from"./vendor-COAloQYc.js";import{_ as Te}from"./Layout-C8IGggX3.js";import{t as A,P as de,T as L,W,Z as N,C as ce,O as ue,D as me,ai as Ie,J as pe,X as xe,G as j,a as ze,q as $e,l as Ue}from"./ui--a78tfA0.js";/* empty css               */import{f as b}from"./formatCurrency-CRcwQRlL.js";import{_ as Be}from"./CurrencyInput-DdFd4TZx.js";import{s as H}from"./app-BPhUsr0D.js";import{U as Fe}from"./UpgradeModal-BRVfqU2T.js";import{_ as Re}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const Ve={class:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-6 relative z-30"},Ge={class:"space-y-1"},Ae={class:"text-2xl md:text-3xl font-bold text-slate-900 tracking-tight"},Le={class:"text-sm md:text-base text-slate-500 font-medium"},Ne={id:"step-goal-summary",class:"flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-3 gap-4 md:gap-6 mb-8 -mx-4 px-4 md:mx-0 md:px-0 no-scrollbar md:overflow-visible"},Pe={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-slate-800 to-slate-900 text-white shadow-lg shadow-slate-200"},Oe={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},qe={class:"relative z-10"},Je={class:"flex items-center gap-3 mb-6"},We={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},He={class:"font-bold text-lg text-white/90 tracking-tight"},Ze={class:"space-y-1"},Ye={class:"text-3xl font-bold tracking-tight tabular-nums"},Ke={class:"text-slate-400 font-medium text-sm"},Xe={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-200"},Qe={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},et={class:"relative z-10"},tt={class:"flex items-center gap-3 mb-6"},st={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},ot={class:"font-bold text-lg text-white/90 tracking-tight"},at={class:"space-y-1"},lt={class:"text-3xl font-bold tracking-tight tabular-nums"},rt={class:"text-indigo-100 font-medium text-sm"},nt={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-200"},it={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},dt={class:"relative z-10"},ct={class:"flex items-center gap-3 mb-6"},ut={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},mt={class:"font-bold text-lg text-white/90 tracking-tight"},pt={class:"space-y-1"},xt={class:"text-3xl font-bold tracking-tight tabular-nums"},_t={class:"text-emerald-100 font-medium text-sm"},ht={id:"tour-goals-section"},gt={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-24"},bt=["onClick"],ft={class:"flex items-start justify-between relative z-10"},vt={class:"flex gap-4 md:gap-6"},wt={class:"space-y-1 md:space-y-2"},yt={class:"text-lg md:text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors line-clamp-1"},kt={class:"flex items-center gap-2 md:gap-3 flex-wrap"},Ct={class:"px-2 md:px-3 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-bold capitalize tracking-wider"},St={key:0,class:"text-xs md:text-sm text-slate-400 flex items-center gap-1 font-medium"},Dt={class:"hidden md:flex items-center gap-2"},jt=["onClick","title"],Et=["onClick","title"],Mt=["onClick","title"],Tt={class:"mt-8 md:mt-10 space-y-4 md:space-y-6 relative z-10"},It={class:"flex justify-between items-end"},zt={class:"space-y-1"},$t={class:"text-xs md:text-sm font-bold text-slate-400"},Ut={class:"flex items-baseline gap-1 md:gap-1.5"},Bt={class:"text-xl md:text-2xl font-bold text-slate-800 tracking-tight leading-none"},Ft={class:"text-xs md:text-sm font-bold text-slate-400"},Rt={class:"text-right"},Vt={class:"text-sm md:text-base font-bold text-slate-900 leading-none"},Gt={class:"h-3 md:h-4 bg-slate-100 rounded-full overflow-hidden shadow-inner border border-slate-200/50"},At={class:"pt-4 md:pt-6 border-t border-slate-100 grid md:grid-cols-2 gap-4 md:gap-6"},Lt={class:"flex items-center justify-between"},Nt={class:"flex -space-x-2 md:-space-x-3"},Pt=["title"],Ot={key:0,class:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-[8px] md:text-[10px] font-bold text-slate-500 ring-2 ring-slate-50"},qt={class:"text-[10px] md:text-xs font-bold text-slate-400"},Jt={key:0,class:"w-full px-4 py-3 md:py-4 bg-indigo-50/50 text-indigo-700 rounded-2xl text-[10px] md:text-[11px] font-bold flex items-center justify-center gap-2 border border-indigo-100/50"},Wt={key:1,class:"w-full px-4 py-3 md:py-4 bg-emerald-50 text-emerald-700 rounded-2xl text-[10px] md:text-[11px] font-bold flex items-center justify-center gap-2 border border-emerald-100"},Ht={key:1,class:"bg-white border border-slate-100 rounded-[2rem] p-12 text-center space-y-6 shadow-sm"},Zt={class:"relative w-32 h-32 mx-auto"},Yt={class:"relative bg-indigo-50 rounded-full w-32 h-32 flex items-center justify-center"},Kt={class:"space-y-1"},Xt={class:"text-base font-bold text-slate-900"},Qt={class:"text-slate-500 max-w-xs mx-auto font-medium text-sm"},es={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},ts={class:"relative z-10 w-full max-w-4xl bg-white rounded-t-[2rem] sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-200 flex flex-col max-h-[90vh]"},ss={class:"p-6 md:p-8 border-b border-slate-200 flex items-center justify-between shrink-0"},os={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},as={class:"text-xs md:text-sm text-slate-500 font-medium"},ls={class:"p-6 md:p-8 overflow-y-auto custom-scrollbar"},rs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ns={class:"block text-xs font-bold text-slate-700 mb-2"},is=["placeholder"],ds={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},cs={class:"block text-xs font-bold text-slate-700 mb-2"},us={value:"emergency"},ms={value:"retirement"},ps={value:"saving"},xs={value:"custom"},_s={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},hs={class:"block text-xs font-bold text-slate-700 mb-2"},gs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},bs={class:"block text-xs font-bold text-slate-700 mb-2"},fs=["min"],vs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},ws={class:"flex justify-between items-center mb-2"},ys={class:"text-xs font-bold text-slate-700"},ks={class:"text-[10px] text-indigo-600 font-bold"},Cs={class:"max-h-[180px] overflow-y-auto pr-2 custom-scrollbar"},Ss={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},Ds=["value"],js={class:"flex flex-col min-w-0"},Es={class:"text-xs font-bold text-slate-900 truncate"},Ms={class:"text-[9px] font-semibold text-slate-400"},Ts={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},Is={class:"block text-xs font-bold text-slate-700 mb-2"},zs=["placeholder"],$s={class:"flex gap-3 pt-2"},Us=["disabled"],Bs={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},Fs={class:"relative z-10 w-full max-w-4xl bg-white rounded-t-[2rem] sm:rounded-[2.5rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-200 flex flex-col max-h-[90vh]"},Rs={class:"p-8 md:p-10 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 shrink-0"},Vs={class:"flex items-center gap-4 md:gap-5"},Gs={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},As={class:"flex flex-col items-start gap-1 md:flex-row md:items-center md:gap-3"},Ls={class:"px-3 py-1 bg-white text-slate-500 rounded-lg text-[10px] font-bold capitalize tracking-wider border border-slate-100"},Ns={key:0,class:"text-xs md:text-sm text-slate-400 flex items-center gap-1.5 font-medium"},Ps={class:"p-8 md:p-10 space-y-8 md:space-y-10 overflow-y-auto custom-scrollbar"},Os={class:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8"},qs={class:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-2"},Js={class:"text-xs font-bold text-slate-400"},Ws={class:"text-xl font-bold text-emerald-600 tabular-nums"},Hs={class:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-2"},Zs={class:"text-xs font-bold text-slate-400"},Ys={class:"text-xl font-bold tabular-nums"},Ks={class:"space-y-4"},Xs={class:"text-sm font-bold text-slate-900 flex items-center gap-2"},Qs={class:"max-h-[180px] overflow-y-auto pr-2 custom-scrollbar"},eo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},to={class:"flex flex-col min-w-0"},so={class:"text-xs font-bold text-slate-900 truncate"},oo={class:"text-[10px] font-semibold text-slate-400 tabular-nums"},ao={key:0,class:"p-6 bg-amber-50/50 rounded-3xl border border-amber-100/50 space-y-2"},lo={class:"text-xs font-bold text-amber-600 flex items-center gap-2"},ro={class:"text-sm text-amber-900 font-medium leading-relaxed italic"},no={class:"grid grid-cols-2 gap-3 pt-2"},io={__name:"index",props:{goals:Array,wallets:Array,currentExchangeRate:Number},setup(Z){const U=Ce(),s=o=>U.props.translations?.[o]||o,h=v(null),B=R(()=>`<div class="mt-4 flex justify-start">
    <button onclick="window.dispatchEvent(new CustomEvent('skip-tour'))" class="text-[11px] font-semibold text-slate-400 hover:text-rose-500 transition-colors">${s("skip_tutorial")}</button>
</div>`),g=Z,p=v([...g.goals]);re(()=>g.goals,o=>{p.value=[...o]},{deep:!0});const S=v(!1),P=v(!1),w=v(!1),y=v(!1),D=v(null),m=v(null),E=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Jakarta",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),l=we({name:"",target_amount:"",type:"saving",target_date:"",start_date:E(),notes:"",currency:"IDR",wallet_ids:[]}),M=A.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",A.stopTimer),o.addEventListener("mouseleave",A.resumeTimer)}}),Y=()=>{if(!U.props.auth.user.is_premium&&g.goals.length>=1){P.value=!0;return}y.value=!1,D.value=null,l.clearErrors(),l.name="",l.target_amount="",l.type="saving",l.target_date="",l.start_date=E(),l.notes="",l.currency="IDR",l.wallet_ids=[],S.value=!0},K=o=>{y.value=!0,D.value=o,l.name=o.name,l.target_amount=o.target_amount,l.type=o.type,l.target_date=o.target_date?o.target_date.substring(0,10):"",l.start_date=o.start_date?o.start_date.substring(0,10):E(),l.notes=o.notes,l.currency=o.currency,l.wallet_ids=o.wallets.map(n=>n.id),l.clearErrors(),S.value=!0},T=()=>{S.value=!1,y.value=!1,D.value=null,l.clearErrors(),l.name="",l.target_amount="",l.type="saving",l.target_date="",l.start_date=E(),l.notes="",l.currency="IDR",l.wallet_ids=[]},_e=o=>{m.value=o,w.value=!0},he=()=>{if(y.value&&D.value){const o=JSON.parse(JSON.stringify(p.value)),n=p.value.findIndex(c=>c?.id===D.value?.id);n!==-1&&(p.value[n]={...p.value[n],name:l.name,target_amount:l.target_amount,type:l.type,target_date:l.target_date,start_date:l.start_date,notes:l.notes,currency:l.currency,wallets:g.wallets.filter(c=>l.wallet_ids.includes(c.id))});const t=D.value.id;S.value=!1,l.put(H("goals.update",t),{onSuccess:()=>{T(),M.fire({icon:"success",title:s("goal_updated"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},onError:()=>{p.value=o,S.value=!0,M.fire({icon:"error",title:"Failed to update goal"})}})}else l.post(H("goals.store"),{onSuccess:()=>{T(),M.fire({icon:"success",title:s("goal_created"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}})},X=o=>{A.fire({title:s("delete_goal_title"),text:s("delete_goal_text"),icon:"warning",showCancelButton:!0,confirmButtonText:s("yes_delete"),cancelButtonText:s("cancel"),customClass:{popup:"!rounded-[2rem] !p-10 !bg-white !shadow-2xl !border !border-slate-100 !font-sans !antialiased",title:"!text-xl !font-bold !text-slate-900 !pt-4 !pb-2 !px-0 !m-0 !leading-tight",htmlContainer:"!text-sm !font-semibold !text-slate-500 !leading-relaxed !pb-6 !px-0 !m-0",actions:"!flex !items-center !justify-center !gap-3 !mt-4 !w-full !px-0",confirmButton:"!inline-flex !items-center !justify-center !bg-rose-600 !text-white !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm hover:!shadow-rose-600/20 hover:!bg-rose-700 active:!scale-95 !border-none !outline-none !m-0 !cursor-pointer",cancelButton:"!inline-flex !items-center !justify-center !bg-slate-100 !text-slate-700 hover:!bg-slate-200 !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm !border-none !outline-none !m-0 !cursor-pointer active:!scale-95",icon:"!border-4 !border-rose-100 !text-rose-600 !scale-110 !mb-6 !mt-2"},buttonsStyling:!1,backdrop:"rgba(15, 23, 42, 0.4)"}).then(n=>{if(n.isConfirmed){const t=[...p.value];p.value=p.value.filter(c=>c.id!==o.id),F.delete(H("goals.destroy",o.id),{onSuccess:()=>{M.fire({icon:"success",title:s("goal_deleted"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},onError:()=>{p.value=t,M.fire({icon:"error",title:"Failed to delete goal"})}})}})},O=R(()=>p.value.reduce((o,n)=>{let t=parseFloat(n.target_amount);return n.currency==="USD"&&g.currentExchangeRate&&(t=t*g.currentExchangeRate),o+t},0)),Q=R(()=>p.value.reduce((o,n)=>{const t=n.wallets.reduce((c,f)=>{let le=parseFloat(f.balance);return f.currency==="USD"&&g.currentExchangeRate?c+le*g.currentExchangeRate:c+le},0);return o+t},0)),ge=R(()=>O.value>0?Q.value/O.value*100:0),ee=o=>{switch(o){case"emergency":return $e;case"retirement":return N;case"saving":return ze;default:return L}},te=o=>({emergency:"emergency_fund",retirement:"retirement",saving:"general_saving",custom:"custom"})[o]||o,se=o=>{switch(o){case"emergency":return"from-rose-500 to-pink-600 shadow-rose-200";case"retirement":return"from-purple-500 to-violet-600 shadow-purple-200";case"saving":return"from-emerald-500 to-teal-600 shadow-emerald-200";default:return"from-indigo-500 to-indigo-600 shadow-indigo-200"}},be=o=>o>=100?"bg-emerald-500":o>=50?"bg-indigo-500":"bg-amber-500",q=o=>{switch(o){case"cash":return"bg-emerald-500";case"ewallet":return"bg-violet-500";case"bank":return"bg-orange-500";default:return"bg-slate-500"}},oe=o=>{if(!o.target_date)return null;const n=new Date,t=new Date(o.target_date),c=(t.getFullYear()-n.getFullYear())*12+(t.getMonth()-n.getMonth());if(c<=0)return null;const f=o.target_amount-k(o);return f>0?f/c:0},k=o=>o.wallets.reduce((n,t)=>{let c=parseFloat(t.balance);return t.currency==="USD"&&g.currentExchangeRate?n+c*g.currentExchangeRate:n+c},0),fe=o=>{window.innerWidth<768&&(m.value=o,w.value=!0)},ve=()=>{const o=window.innerWidth<768;h.value=Ue({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,stagePadding:10,onNextClick:()=>{h.value.isLastStep()?(o?(localStorage.setItem("tour_state","hub_to_categories"),F.visit("/dashboard")):(localStorage.setItem("tour_state","categories_setup"),F.visit("/categories")),h.value.destroy()):h.value.moveNext()},steps:[{element:"#step-goal-summary",popover:{title:`<span class="text-xl font-bold">${s("tour_goal_summary_title")}</span>`,description:s("tour_goal_summary_desc")+B.value,side:"bottom",align:"start"}},{element:"#step-add-goal",popover:{title:`<span class="text-xl font-bold">${s("tour_add_goal_title")}</span>`,description:s("tour_add_goal_desc")+B.value,side:"bottom",align:"start"}},{element:"#tour-goals-section",popover:{title:`<span class="text-xl font-bold">${s("tour_goals_section_title")}</span>`,description:s("tour_goals_section_desc")+B.value,side:"bottom",align:"start"}},{element:o?"#mobile-nav-home":"#nav-categories",popover:{title:o?s("tour_return_hub"):`<span class="text-xl font-bold">${s("tour_return_categories_title")}</span>`,description:s(o?"tour_return_hub_desc":"tour_return_categories_desc")+B.value,side:"bottom",align:"start"},onHighlighted:()=>{o&&localStorage.setItem("tour_state","hub_to_categories")}}]}),h.value.drive()},ae=()=>{const o=localStorage.getItem("tour_state"),n=U.props.auth.user.has_completed_tour,t=["welcome","wallet_setup","transaction_setup","dashboard_explanation","analysis_intro","budget_setup","hub_to_goals","goals_setup"];if(!(h.value&&document.querySelector(".driver-popover"))&&(!o||o&&t.includes(o))){if(!o||o!=="goals_setup"){if(!o&&n)return;localStorage.setItem("tour_state","goals_setup")}const c=document.querySelector(".driver-popover"),f=document.querySelector(".driver-overlay");c&&c.remove(),f&&f.remove(),setTimeout(ve,800)}};return ye(()=>{ae(),window.addEventListener("skip-tour",()=>{localStorage.removeItem("tour_state"),h.value&&h.value.destroy(),F.post("/user/complete-tour",{},{preserveScroll:!0,preserveState:!0})})}),ke(()=>{h.value&&h.value.destroy()}),re(()=>U.url,()=>{ae()}),(o,n)=>(d(),u(z,null,[i(a(Se),{title:s("goals_title")},null,8,["title"]),i(Te,null,{default:De(()=>[e("header",Ve,[e("div",Ge,[e("h1",Ae,r(s("goals_title")),1),e("p",Le,r(s("goals_desc")),1)]),e("button",{id:"step-add-goal",onClick:Y,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2 group"},[i(a(de),{class:"w-4 h-4 group-hover:rotate-90 transition-transform duration-300"}),e("span",null,r(s("add_goal")),1)])]),e("div",Ne,[e("div",Pe,[e("div",Oe,[i(a(L),{class:"w-32 h-32 text-white"})]),e("div",qe,[e("div",Je,[e("div",We,[i(a(L),{class:"w-6 h-6 text-white"})]),e("h3",He,r(s("total_targets")),1)]),e("div",Ze,[e("h2",Ye,r(a(b)(O.value,"IDR").split(",")[0]),1),e("p",Ke,r(s("combined_goals")),1)])])]),e("div",Xe,[e("div",Qe,[i(a(W),{class:"w-32 h-32 text-white"})]),e("div",et,[e("div",tt,[e("div",st,[i(a(W),{class:"w-6 h-6 text-white"})]),e("h3",ot,r(s("total_saved")),1)]),e("div",at,[e("h2",lt,r(a(b)(Q.value,"IDR").split(",")[0]),1),e("p",rt,r(s("allocated_goals")),1)])])]),e("div",nt,[e("div",it,[i(a(N),{class:"w-32 h-32 text-white"})]),e("div",dt,[e("div",ct,[e("div",ut,[i(a(N),{class:"w-6 h-6 text-white"})]),e("h3",mt,r(s("overall_health")),1)]),e("div",pt,[e("h2",xt,r(Math.round(ge.value))+"%",1),e("p",_t,r(s("avg_completion")),1)])])])]),e("div",ht,[p.value.length>0?(d(),u("div",gt,[(d(!0),u(z,null,V(p.value,t=>(d(),u("div",{key:t.id,onClick:c=>fe(t),class:"group bg-white border border-slate-100 rounded-[1.5rem] md:rounded-[2.5rem] p-6 md:p-8 hover:shadow-xl hover:shadow-slate-100 transition-all duration-500 relative overflow-hidden cursor-pointer md:cursor-default active:scale-[0.98] active:md:scale-100"},[e("div",ft,[e("div",vt,[e("div",{class:C(["w-14 h-14 md:w-16 md:h-16 rounded-2xl md:rounded-3xl flex items-center justify-center bg-gradient-to-br text-white shadow-lg shrink-0",se(t.type)])},[(d(),I(ne(ee(t.type)),{class:"w-6 h-6 md:w-8 md:h-8"}))],2),e("div",wt,[e("h3",yt,r(t.name),1),e("div",kt,[e("span",Ct,r(s(te(t.type))),1),t.target_date?(d(),u("span",St,[i(a(ce),{class:"w-3.5 h-3.5"}),_(" "+r(new Date(t.target_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),1)])):x("",!0)])])]),e("div",Dt,[e("button",{onClick:G(c=>K(t),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-indigo-600",title:s("edit")},[i(a(ue),{class:"w-4 h-4"})],8,jt),e("button",{onClick:G(c=>X(t),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-rose-600",title:s("delete")},[i(a(me),{class:"w-4 h-4"})],8,Et),e("button",{onClick:G(c=>_e(t),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-indigo-600",title:s("view_details")},[i(a(Ie),{class:"w-4 h-4"})],8,Mt)])]),e("div",Tt,[e("div",It,[e("div",zt,[e("p",$t,r(s("progress")),1),e("div",Ut,[e("span",Bt,r(a(b)(k(t),t.currency).split(",")[0]),1),e("span",Ft,"/ "+r(a(b)(t.target_amount,t.currency).split(",")[0]),1)])]),e("div",Rt,[e("span",Vt,r(Math.round(k(t)/t.target_amount*100))+"%",1)])]),e("div",Gt,[e("div",{class:C(["h-full rounded-full transition-all duration-1000 ease-out relative overflow-hidden",be(k(t)/t.target_amount*100)]),style:je({width:`${Math.min(k(t)/t.target_amount*100,100)}%`})},[...n[11]||(n[11]=[e("div",{class:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite] skew-x-12"},null,-1)])],6)]),e("div",At,[e("div",Lt,[e("div",Nt,[(d(!0),u(z,null,V(t.wallets.slice(0,3),c=>(d(),u("div",{key:c.id,class:C(["w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-white flex items-center justify-center text-[8px] md:text-[10px] font-bold text-white ring-2 ring-slate-50 transition-transform hover:scale-110 hover:z-10",q(c.type)]),title:c.name},r(c.name.charAt(0)),11,Pt))),128)),t.wallets.length>3?(d(),u("div",Ot," +"+r(t.wallets.length-3),1)):x("",!0)]),e("span",qt,r(s("linked_wallets")),1)]),oe(t)&&t.current_amount<t.target_amount?(d(),u("div",Jt,[i(a(N),{class:"w-4 h-4"}),_(" "+r(s("requires_monthly").replace(":amount",a(b)(oe(t),t.currency).split(",")[0])),1)])):t.current_amount>=t.target_amount?(d(),u("div",Wt,[i(a(pe),{class:"w-4 h-4"}),_(" "+r(s("goal_accomplished")),1)])):x("",!0)])])],8,bt))),128))])):(d(),u("div",Ht,[e("div",Zt,[n[12]||(n[12]=e("div",{class:"absolute inset-0 bg-indigo-100 rounded-full animate-ping opacity-20"},null,-1)),e("div",Yt,[i(a(L),{class:"w-12 h-12 text-indigo-400"})])]),e("div",Kt,[e("h2",Xt,r(s("no_goals")),1),e("p",Qt,r(s("start_planning")),1)]),e("button",{onClick:Y,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3.5 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2 mx-auto"},[i(a(de),{class:"w-4 h-4"}),e("span",null,r(s("create_first_goal")),1)])]))]),(d(),I(ie,{to:"body"},[S.value?(d(),u("div",es,[e("div",{onClick:T,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",ts,[e("div",ss,[e("div",null,[e("h2",os,r(y.value?s("update_goal"):s("new_goal")),1),e("p",as,r(y.value?s("update_goal_desc"):s("new_goal_desc")),1)]),e("button",{onClick:T,class:"p-2 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all"},[i(a(xe),{class:"w-6 h-6"})])]),e("div",ls,[e("form",{onSubmit:G(he,["prevent"]),class:"space-y-6"},[e("div",rs,[e("div",null,[e("label",ns,r(s("goal_name")),1),$(e("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>a(l).name=t),type:"text",placeholder:s("goal_name_placeholder"),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,8,is),[[J,a(l).name]]),a(l).errors.name?(d(),u("p",ds,[i(a(j),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.name),1)])):x("",!0)]),e("div",null,[e("label",cs,r(s("goal_type")),1),$(e("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>a(l).type=t),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm h-[46px]"},[e("option",us,r(s("emergency_fund")),1),e("option",ms,r(s("retirement")),1),e("option",ps,r(s("general_saving")),1),e("option",xs,r(s("custom")),1)],512),[[Ee,a(l).type]]),a(l).errors.type?(d(),u("p",_s,[i(a(j),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.type),1)])):x("",!0)]),e("div",null,[e("label",hs,r(s("target_amount")),1),i(Be,{modelValue:a(l).target_amount,"onUpdate:modelValue":n[2]||(n[2]=t=>a(l).target_amount=t),currency:a(l).currency,placeholder:"0.00"},null,8,["modelValue","currency"]),a(l).errors.target_amount?(d(),u("p",gs,[i(a(j),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.target_amount),1)])):x("",!0)]),e("div",null,[e("label",bs,r(s("target_deadline")),1),$(e("input",{"onUpdate:modelValue":n[3]||(n[3]=t=>a(l).target_date=t),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm",min:E()},null,8,fs),[[J,a(l).target_date]]),a(l).errors.target_date?(d(),u("p",vs,[i(a(j),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.target_date),1)])):x("",!0)])]),e("div",null,[e("div",ws,[e("label",ys,r(s("allocate_wallets")),1),e("span",ks,r(s("select_wallets_hint")),1)]),e("div",Cs,[e("div",Ss,[(d(!0),u(z,null,V(Z.wallets,t=>(d(),u("label",{key:t.id,class:C(["relative flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group hover:bg-slate-50",a(l).wallet_ids.includes(t.id)?"border-indigo-500 bg-indigo-50":"border-slate-100 bg-slate-50/30"])},[$(e("input",{type:"checkbox",value:t.id,"onUpdate:modelValue":n[4]||(n[4]=c=>a(l).wallet_ids=c),class:"hidden"},null,8,Ds),[[Me,a(l).wallet_ids]]),e("div",{class:C(["w-2 h-2 rounded-full flex-shrink-0",q(t.type)])},null,2),e("div",js,[e("span",Es,r(t.name),1),e("span",Ms,r(a(b)(t.balance,t.currency).split(",")[0]),1)]),a(l).wallet_ids.includes(t.id)?(d(),I(a(pe),{key:0,class:"absolute top-1 right-1 w-3 h-3 text-indigo-600"})):x("",!0)],2))),128))])]),a(l).errors.wallet_ids?(d(),u("p",Ts,[i(a(j),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.wallet_ids),1)])):x("",!0)]),e("div",null,[e("label",Is,r(s("notes_optional")),1),$(e("textarea",{"onUpdate:modelValue":n[5]||(n[5]=t=>a(l).notes=t),rows:"2",placeholder:s("notes_placeholder"),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-medium text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all resize-none"},null,8,zs),[[J,a(l).notes]])]),e("div",$s,[e("button",{type:"button",onClick:T,class:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-700 px-6 py-4 rounded-xl font-bold text-sm transition-all"},r(s("cancel")),1),e("button",{type:"submit",disabled:a(l).processing,class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-4 rounded-xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"},r(y.value?s("update_goal"):s("create_goal_btn")),9,Us)])],32)])])])):x("",!0)])),(d(),I(ie,{to:"body"},[w.value&&m.value?(d(),u("div",Bs,[e("div",{onClick:n[6]||(n[6]=t=>w.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",Fs,[e("div",Rs,[e("div",Vs,[e("div",{class:C(["w-14 h-14 md:w-16 md:h-16 rounded-2xl md:rounded-3xl flex items-center justify-center bg-gradient-to-br text-white shadow-lg shrink-0",se(m.value.type)])},[(d(),I(ne(ee(m.value.type)),{class:"w-7 h-7 md:w-8 md:h-8"}))],2),e("div",null,[e("h2",Gs,r(m.value.name),1),e("div",As,[e("span",Ls,r(s(te(m.value.type))),1),m.value.target_date?(d(),u("span",Ns,[i(a(ce),{class:"w-3.5 h-3.5"}),_(" "+r(new Date(m.value.target_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),1)])):x("",!0)])])]),e("button",{onClick:n[7]||(n[7]=t=>w.value=!1),class:"p-3 hover:bg-white rounded-2xl text-slate-400 hover:text-slate-900 transition-all border border-transparent hover:border-slate-100 shadow-sm hover:shadow-md"},[i(a(xe),{class:"w-6 h-6"})])]),e("div",Ps,[e("div",Os,[e("div",qs,[e("span",Js,r(s("total_saved")),1),e("h3",Ws,r(a(b)(k(m.value),m.value.currency).split(",")[0]),1)]),e("div",Hs,[e("span",Zs,r(s("target_remaining")),1),e("h3",Ys,r(a(b)(m.value.target_amount-k(m.value),m.value.currency).split(",")[0]),1)])]),e("div",Ks,[e("h3",Xs,[i(a(W),{class:"w-4 h-4 text-slate-400"}),_(" "+r(s("wallet_allocations")),1)]),e("div",Qs,[e("div",eo,[(d(!0),u(z,null,V(m.value.wallets,t=>(d(),u("div",{key:t.id,class:"flex items-center gap-3 p-3 bg-slate-50 rounded-2xl border border-slate-100 transition-all hover:bg-white hover:shadow-sm"},[e("div",{class:C(["w-2 h-2 rounded-full flex-shrink-0",q(t.type)])},null,2),e("div",to,[e("span",so,r(t.name),1),e("span",oo,r(a(b)(t.balance,t.currency).split(",")[0]),1)])]))),128))])])]),m.value.notes?(d(),u("div",ao,[e("span",lo,[i(a(j),{class:"w-4 h-4"}),_(" "+r(s("notes")),1)]),e("p",ro,'"'+r(m.value.notes)+'"',1)])):x("",!0),e("div",no,[e("button",{onClick:n[8]||(n[8]=t=>{K(m.value),w.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-xl font-bold text-sm transition-colors"},[i(a(ue),{class:"w-4 h-4"}),_(" "+r(s("edit")),1)]),e("button",{onClick:n[9]||(n[9]=t=>{X(m.value),w.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 rounded-xl font-bold text-sm transition-colors"},[i(a(me),{class:"w-4 h-4"}),_(" "+r(s("delete")),1)])])])])])):x("",!0)])),i(Fe,{show:P.value,onClose:n[10]||(n[10]=t=>P.value=!1),title:s("upsell_goals_title"),description:s("upsell_goals_desc")},null,8,["show","title","description"])]),_:1})],64))}},vo=Re(io,[["__scopeId","data-v-eec41c21"]]);export{vo as default};
