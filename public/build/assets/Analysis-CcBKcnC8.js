import{r as b,w as _,c as i,a as r,u as d,h as w,b as F,d as t,e as g,v as f,f as A,o as c,F as y,g as C,t as l,n as S,i as v,j as D}from"./app-aa3v-XVd.js";import{_ as j}from"./Layout-Is_FaQT2.js";import"./vue3-apexcharts-wRPEybMP.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as N}from"./funnel-D0o0CpRo.js";import{A as T}from"./arrow-right-DfPh8vxW.js";import{C as V}from"./wallet--qZt9krU.js";/* empty css            */import"./badge-check-CrNdBgu7.js";import"./createLucideIcon-Dr50qJAF.js";import"./chevron-down-CDeS_W2K.js";import"./zap-B2Yra1kU.js";import"./log-out-P_Zk0Qrl.js";const B={class:"space-y-8"},I={class:"flex flex-col md:flex-row md:items-center justify-between gap-6"},R={class:"flex items-center gap-3 bg-gray-900/50 p-2 rounded-2xl border border-white/10 backdrop-blur-md"},z={class:"flex items-center gap-2 px-3"},O={class:"flex items-center gap-2"},U={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},$={class:"lg:col-span-2 glass-card p-6 md:p-8 border-white/5"},E={class:"flex items-center gap-4 mb-8"},L={class:"p-3 rounded-2xl bg-rose-500/10 text-rose-400"},M={class:"space-y-4"},P={class:"flex items-center justify-between mb-2 relative z-10"},W={class:"text-sm font-bold text-gray-300"},q={class:"text-sm font-bold text-white"},G={class:"h-2 w-full bg-gray-800 rounded-full overflow-hidden"},H={key:0,class:"py-12 text-center text-gray-500"},J={class:"glass-card p-6 md:p-8 border-emerald-500/10 flex flex-col justify-center gap-6"},K={class:"text-2xl md:text-3xl font-bold text-emerald-400"},Q={class:"text-2xl md:text-3xl font-bold text-rose-400"},X={class:"pt-6 border-t border-white/10"},Y={class:"flex items-center gap-2"},Z={__name:"Analysis",props:{summary:Object,categorySpending:Array,cashFlowTrend:Object,walletAllocation:Array,filters:Object},setup(s){const u=s,a=b({start_date:u.filters.start_date,end_date:u.filters.end_date}),m=()=>{D.get("/analysis",{start_date:a.value.start_date,end_date:a.value.end_date},{preserveState:!0,preserveScroll:!0,replace:!0})};let x;_(()=>a.value,()=>{clearTimeout(x),x=setTimeout(()=>{m()},800)},{deep:!0});const n=p=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(p);return(p,e)=>(c(),i(y,null,[r(d(w),{title:"Financial Analysis"}),r(j,null,{default:F(()=>[t("div",B,[t("div",I,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl md:text-3xl font-bold text-white"},"Financial Analysis"),t("p",{class:"text-gray-400"},"Deep dive into your cash flow and spending habits.")],-1)),t("div",R,[t("div",z,[r(d(N),{class:"w-4 h-4 text-indigo-400"}),e[2]||(e[2]=t("span",{class:"text-xs font-semibold text-gray-500"},"Date Range",-1))]),e[3]||(e[3]=t("div",{class:"h-8 w-px bg-white/10"},null,-1)),t("div",O,[g(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=o=>a.value.start_date=o),onChange:m,class:"bg-transparent text-white text-sm font-bold focus:outline-none focus:ring-0 border-none p-0 w-[130px] cursor-pointer"},null,544),[[f,a.value.start_date]]),r(d(T),{class:"w-4 h-4 text-gray-600"}),g(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=o=>a.value.end_date=o),onChange:m,class:"bg-transparent text-white text-sm font-bold focus:outline-none focus:ring-0 border-none p-0 w-[130px] cursor-pointer"},null,544),[[f,a.value.end_date]])])])]),t("div",U,[t("div",$,[t("div",E,[t("div",L,[r(d(V),{class:"w-6 h-6"})]),e[5]||(e[5]=t("div",null,[t("h3",{class:"text-lg font-bold text-white"},"Category Breakdown"),t("p",{class:"text-xs text-gray-400"},"Where your money went")],-1))]),t("div",M,[(c(!0),i(y,null,C(s.categorySpending,(o,h)=>(c(),i("div",{key:h,class:"relative group"},[t("div",P,[t("span",W,l(o.category),1),t("span",q,l(n(o.total)),1)]),t("div",G,[t("div",{class:"h-full bg-rose-500 rounded-full transition-all duration-1000 ease-out",style:S({width:`${o.total/s.summary.total_expense*100}%`})},null,4)])]))),128)),s.categorySpending.length===0?(c(),i("div",H," No expense data for this period. ")):A("",!0)])]),t("div",J,[t("div",null,[t("h4",K,l(n(s.summary.total_income)),1)]),t("div",null,[t("h4",Q,l(n(s.summary.total_expense)),1)]),t("div",X,[e[6]||(e[6]=t("p",{class:"text-xs font-semibold text-gray-500 mb-1"},"Net Savings",-1)),t("div",Y,[t("h4",{class:v(["text-3xl md:text-4xl font-bold",s.summary.net_savings>=0?"text-white":"text-rose-500"])},l(n(s.summary.net_savings)),3)]),t("span",{class:v(["text-xs font-bold px-2 py-1 rounded inline-block mt-2",s.summary.net_savings>=0?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"])},l(s.summary.savings_rate)+"% Savings Rate ",3)])])])])]),_:1})],64))}},xt=k(Z,[["__scopeId","data-v-492f7a40"]]);export{xt as default};
