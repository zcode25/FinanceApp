import{A as bt,l as ft,r as y,j as U,m as vt,w as wt,k as yt,c,a as i,u as o,h as kt,b as Ct,d as t,s as T,t as a,q as B,o as d,F as j,g as R,i as k,y as at,f as p,z as x,C as V,n as St,T as lt,e as I,v as q,p as Dt,E as Tt,D as W}from"./app-z-5N8Bmv.js";import{_ as jt}from"./Layout-OwRbRFab.js";import{A as It}from"./driver-B4w0q6_T.js";import{f as g}from"./formatCurrency-CRcwQRlL.js";import{_ as Mt}from"./CurrencyInput-CJxDXyEZ.js";import{S as F}from"./sweetalert2.esm.all-BQxta0Da.js";import{U as Et}from"./UpgradeModal-BoVo5tL-.js";import{_ as zt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as rt}from"./plus-Clkuow8M.js";import{T as L,W as Y,a as $t}from"./wallet-ChqkXQDO.js";import{Z as O}from"./zap-DO75pTLS.js";import{C as nt}from"./calendar-EhyAQRoz.js";import{P as it}from"./pen-BsZSXH7O.js";import{T as dt}from"./trash-2-DWrZ0ZBv.js";import{c as Ut}from"./createLucideIcon-DnEbPiDu.js";import{C as ct}from"./circle-check-moysHSi3.js";import{X as ut}from"./x-bSxxunJc.js";import{C}from"./circle-alert-VlzhY1Nq.js";import{S as Bt}from"./shield-check-Dr9JvVFm.js";/* empty css            */import"./badge-check-W2exgrox.js";import"./chevron-down-Bwexu4QU.js";import"./log-out-CQHF-4ZJ.js";import"./check-C82AtN_H.js";const Rt=Ut("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Vt={class:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-6 relative z-30"},Ft={class:"space-y-1"},Lt={class:"text-2xl md:text-3xl font-bold text-slate-900 tracking-tight"},Ot={class:"text-sm md:text-base text-slate-500 font-medium"},Pt={id:"step-goal-summary",class:"flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-3 gap-4 md:gap-6 mb-8 -mx-4 px-4 md:mx-0 md:px-0 no-scrollbar md:overflow-visible"},At={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-slate-800 to-slate-900 text-white shadow-lg shadow-slate-200"},Gt={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Nt={class:"relative z-10"},qt={class:"flex items-center gap-3 mb-6"},Wt={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},Yt={class:"font-bold text-lg text-white/90 tracking-tight"},Zt={class:"space-y-1"},Ht={class:"text-3xl font-bold tracking-tight tabular-nums"},Xt={class:"text-slate-400 font-medium text-sm"},Jt={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-200"},Kt={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Qt={class:"relative z-10"},te={class:"flex items-center gap-3 mb-6"},ee={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},se={class:"font-bold text-lg text-white/90 tracking-tight"},oe={class:"space-y-1"},ae={class:"text-3xl font-bold tracking-tight tabular-nums"},le={class:"text-indigo-100 font-medium text-sm"},re={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-200"},ne={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},ie={class:"relative z-10"},de={class:"flex items-center gap-3 mb-6"},ce={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},ue={class:"font-bold text-lg text-white/90 tracking-tight"},me={class:"space-y-1"},pe={class:"text-3xl font-bold tracking-tight tabular-nums"},xe={class:"text-emerald-100 font-medium text-sm"},_e={id:"tour-goals-section"},he={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-24"},ge=["onClick"],be={class:"flex items-start justify-between relative z-10"},fe={class:"flex gap-4 md:gap-6"},ve={class:"space-y-1 md:space-y-2"},we={class:"text-lg md:text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors line-clamp-1"},ye={class:"flex items-center gap-2 md:gap-3 flex-wrap"},ke={class:"px-2 md:px-3 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-bold capitalize tracking-wider"},Ce={key:0,class:"text-xs md:text-sm text-slate-400 flex items-center gap-1 font-medium"},Se={class:"hidden md:flex items-center gap-2"},De=["onClick","title"],Te=["onClick","title"],je=["onClick","title"],Ie={class:"mt-8 md:mt-10 space-y-4 md:space-y-6 relative z-10"},Me={class:"flex justify-between items-end"},Ee={class:"space-y-1"},ze={class:"text-xs md:text-sm font-bold text-slate-400"},$e={class:"flex items-baseline gap-1 md:gap-1.5"},Ue={class:"text-xl md:text-2xl font-bold text-slate-800 tracking-tight leading-none"},Be={class:"text-xs md:text-sm font-bold text-slate-400"},Re={class:"text-right"},Ve={class:"text-sm md:text-base font-bold text-slate-900 leading-none"},Fe={class:"h-3 md:h-4 bg-slate-100 rounded-full overflow-hidden shadow-inner border border-slate-200/50"},Le={class:"pt-4 md:pt-6 border-t border-slate-100 grid md:grid-cols-2 gap-4 md:gap-6"},Oe={class:"flex items-center justify-between"},Pe={class:"flex -space-x-2 md:-space-x-3"},Ae=["title"],Ge={key:0,class:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-[8px] md:text-[10px] font-bold text-slate-500 ring-2 ring-slate-50"},Ne={class:"text-[10px] md:text-xs font-bold text-slate-400"},qe={key:0,class:"w-full px-4 py-3 md:py-4 bg-indigo-50/50 text-indigo-700 rounded-2xl text-[10px] md:text-[11px] font-bold flex items-center justify-center gap-2 border border-indigo-100/50"},We={key:1,class:"w-full px-4 py-3 md:py-4 bg-emerald-50 text-emerald-700 rounded-2xl text-[10px] md:text-[11px] font-bold flex items-center justify-center gap-2 border border-emerald-100"},Ye={key:1,class:"bg-white border border-slate-100 rounded-[2rem] p-12 text-center space-y-6 shadow-sm"},Ze={class:"relative w-32 h-32 mx-auto"},He={class:"relative bg-indigo-50 rounded-full w-32 h-32 flex items-center justify-center"},Xe={class:"space-y-1"},Je={class:"text-base font-bold text-slate-900"},Ke={class:"text-slate-500 max-w-xs mx-auto font-medium text-sm"},Qe={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},ts={class:"relative z-10 w-full max-w-4xl bg-white rounded-t-[2rem] sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-200 flex flex-col max-h-[90vh]"},es={class:"p-6 md:p-8 border-b border-slate-200 flex items-center justify-between shrink-0"},ss={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},os={class:"text-xs md:text-sm text-slate-500 font-medium"},as={class:"p-6 md:p-8 overflow-y-auto custom-scrollbar"},ls={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rs={class:"block text-xs font-bold text-slate-700 mb-2"},ns=["placeholder"],is={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},ds={class:"block text-xs font-bold text-slate-700 mb-2"},cs={value:"emergency"},us={value:"retirement"},ms={value:"saving"},ps={value:"custom"},xs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},_s={class:"block text-xs font-bold text-slate-700 mb-2"},hs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},gs={class:"block text-xs font-bold text-slate-700 mb-2"},bs=["min"],fs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},vs={class:"flex justify-between items-center mb-2"},ws={class:"text-xs font-bold text-slate-700"},ys={class:"text-[10px] text-indigo-600 font-bold"},ks={class:"max-h-[180px] overflow-y-auto pr-2 custom-scrollbar"},Cs={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},Ss=["value"],Ds={class:"flex flex-col min-w-0"},Ts={class:"text-xs font-bold text-slate-900 truncate"},js={class:"text-[9px] font-semibold text-slate-400"},Is={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},Ms={class:"block text-xs font-bold text-slate-700 mb-2"},Es=["placeholder"],zs={class:"flex gap-3 pt-2"},$s=["disabled"],Us={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},Bs={class:"relative z-10 w-full max-w-4xl bg-white rounded-t-[2rem] sm:rounded-[2.5rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-200 flex flex-col max-h-[90vh]"},Rs={class:"p-8 md:p-10 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 shrink-0"},Vs={class:"flex items-center gap-4 md:gap-5"},Fs={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},Ls={class:"flex flex-col items-start gap-1 md:flex-row md:items-center md:gap-3"},Os={class:"px-3 py-1 bg-white text-slate-500 rounded-lg text-[10px] font-bold capitalize tracking-wider border border-slate-100"},Ps={key:0,class:"text-xs md:text-sm text-slate-400 flex items-center gap-1.5 font-medium"},As={class:"p-8 md:p-10 space-y-8 md:space-y-10 overflow-y-auto custom-scrollbar"},Gs={class:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8"},Ns={class:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-2"},qs={class:"text-xs font-bold text-slate-400"},Ws={class:"text-xl font-bold text-emerald-600 tabular-nums"},Ys={class:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-2"},Zs={class:"text-xs font-bold text-slate-400"},Hs={class:"text-xl font-bold tabular-nums"},Xs={class:"space-y-4"},Js={class:"text-sm font-bold text-slate-900 flex items-center gap-2"},Ks={class:"max-h-[180px] overflow-y-auto pr-2 custom-scrollbar"},Qs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},to={class:"flex flex-col min-w-0"},eo={class:"text-xs font-bold text-slate-900 truncate"},so={class:"text-[10px] font-semibold text-slate-400 tabular-nums"},oo={key:0,class:"p-6 bg-amber-50/50 rounded-3xl border border-amber-100/50 space-y-2"},ao={class:"text-xs font-bold text-amber-600 flex items-center gap-2"},lo={class:"text-sm text-amber-900 font-medium leading-relaxed italic"},ro={class:"grid grid-cols-2 gap-3 pt-2"},no={__name:"index",props:{goals:Array,wallets:Array,currentExchangeRate:Number},setup(M){const E=yt(),s=l=>E.props.translations?.[l]||l,_=y(null),z=B(()=>`<div class="mt-4 flex justify-start">
    <button onclick="window.dispatchEvent(new CustomEvent('skip-tour'))" class="text-[11px] font-semibold text-slate-400 hover:text-rose-500 transition-colors">${s("skip_tutorial")}</button>
</div>`),h=M,$=y(!1),P=y(!1),f=y(!1),v=y(!1),S=y(null),m=y(null),r=bt({name:"",target_amount:"",type:"saving",target_date:"",start_date:new Date().toISOString().split("T")[0],notes:"",currency:"IDR",wallet_ids:[]}),A=F.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:l=>{l.addEventListener("mouseenter",F.stopTimer),l.addEventListener("mouseleave",F.resumeTimer)}}),Z=()=>{if(!E.props.auth.user.is_premium&&h.goals.length>=1){P.value=!0;return}v.value=!1,S.value=null,r.clearErrors(),r.name="",r.target_amount="",r.type="saving",r.target_date="",r.start_date=new Date().toISOString().split("T")[0],r.notes="",r.currency="IDR",r.wallet_ids=[],$.value=!0},H=l=>{v.value=!0,S.value=l,r.name=l.name,r.target_amount=l.target_amount,r.type=l.type,r.target_date=l.target_date?new Date(l.target_date).toISOString().split("T")[0]:"",r.start_date=l.start_date?new Date(l.start_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],r.notes=l.notes,r.currency=l.currency,r.wallet_ids=l.wallets.map(n=>n.id),r.clearErrors(),$.value=!0},D=()=>{$.value=!1,v.value=!1,S.value=null,r.clearErrors(),r.name="",r.target_amount="",r.type="saving",r.target_date="",r.start_date=new Date().toISOString().split("T")[0],r.notes="",r.currency="IDR",r.wallet_ids=[]},mt=l=>{m.value=l,f.value=!0},pt=()=>{v.value&&S.value?r.put(W("goals.update",S.value.id),{onSuccess:()=>{D(),A.fire({icon:"success",title:s("goal_updated"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}}):r.post(W("goals.store"),{onSuccess:()=>{D(),A.fire({icon:"success",title:s("goal_created"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}})},X=l=>{F.fire({title:s("delete_goal_title"),text:s("delete_goal_text"),icon:"warning",showCancelButton:!0,confirmButtonText:s("yes_delete"),cancelButtonText:s("cancel"),customClass:{popup:"!rounded-[2rem] !p-10 !bg-white !shadow-2xl !border !border-slate-100 !font-sans !antialiased",title:"!text-xl !font-bold !text-slate-900 !pt-4 !pb-2 !px-0 !m-0 !leading-tight",htmlContainer:"!text-sm !font-semibold !text-slate-500 !leading-relaxed !pb-6 !px-0 !m-0",actions:"!flex !items-center !justify-center !gap-3 !mt-4 !w-full !px-0",confirmButton:"!inline-flex !items-center !justify-center !bg-rose-600 !text-white !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm hover:!shadow-rose-600/20 hover:!bg-rose-700 active:!scale-95 !border-none !outline-none !m-0 !cursor-pointer",cancelButton:"!inline-flex !items-center !justify-center !bg-slate-100 !text-slate-700 hover:!bg-slate-200 !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm !border-none !outline-none !m-0 !cursor-pointer active:!scale-95",icon:"!border-4 !border-rose-100 !text-rose-600 !scale-110 !mb-6 !mt-2"},buttonsStyling:!1,backdrop:"rgba(15, 23, 42, 0.4)"}).then(n=>{n.isConfirmed&&U.delete(W("goals.destroy",l.id),{onSuccess:()=>{A.fire({icon:"success",title:s("goal_deleted"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}})})},G=B(()=>h.goals.reduce((l,n)=>{let e=parseFloat(n.target_amount);return n.currency==="USD"&&h.currentExchangeRate&&(e=e*h.currentExchangeRate),l+e},0)),J=B(()=>h.goals.reduce((l,n)=>{const e=n.wallets.reduce((u,b)=>{let ot=parseFloat(b.balance);return b.currency==="USD"&&h.currentExchangeRate?u+ot*h.currentExchangeRate:u+ot},0);return l+e},0)),xt=B(()=>G.value>0?J.value/G.value*100:0),K=l=>{switch(l){case"emergency":return Bt;case"retirement":return O;case"saving":return $t;default:return L}},Q=l=>({emergency:"emergency_fund",retirement:"retirement",saving:"general_saving",custom:"custom"})[l]||l,tt=l=>{switch(l){case"emergency":return"from-rose-500 to-pink-600 shadow-rose-200";case"retirement":return"from-purple-500 to-violet-600 shadow-purple-200";case"saving":return"from-emerald-500 to-teal-600 shadow-emerald-200";default:return"from-indigo-500 to-indigo-600 shadow-indigo-200"}},_t=l=>l>=100?"bg-emerald-500":l>=50?"bg-indigo-500":"bg-amber-500",N=l=>{switch(l){case"cash":return"bg-emerald-500";case"ewallet":return"bg-violet-500";case"bank":return"bg-orange-500";default:return"bg-slate-500"}},et=l=>{if(!l.target_date)return null;const n=new Date,e=new Date(l.target_date),u=(e.getFullYear()-n.getFullYear())*12+(e.getMonth()-n.getMonth());if(u<=0)return null;const b=l.target_amount-w(l);return b>0?b/u:0},w=l=>l.wallets.reduce((n,e)=>{let u=parseFloat(e.balance);return e.currency==="USD"&&h.currentExchangeRate?n+u*h.currentExchangeRate:n+u},0),ht=l=>{window.innerWidth<768&&(m.value=l,f.value=!0)},gt=()=>{const l=window.innerWidth<768;_.value=It({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,stagePadding:10,onNextClick:()=>{_.value.isLastStep()?(l?(localStorage.setItem("tour_state","hub_to_categories"),U.visit("/dashboard")):(localStorage.setItem("tour_state","categories_setup"),U.visit("/categories")),_.value.destroy()):_.value.moveNext()},steps:[{element:"#step-goal-summary",popover:{title:`<span class="text-xl font-bold">${s("tour_goal_summary_title")}</span>`,description:s("tour_goal_summary_desc")+z.value,side:"bottom",align:"start"}},{element:"#step-add-goal",popover:{title:`<span class="text-xl font-bold">${s("tour_add_goal_title")}</span>`,description:s("tour_add_goal_desc")+z.value,side:"bottom",align:"start"}},{element:"#tour-goals-section",popover:{title:`<span class="text-xl font-bold">${s("tour_goals_section_title")}</span>`,description:s("tour_goals_section_desc")+z.value,side:"bottom",align:"start"}},{element:l?"#mobile-nav-home":"#nav-categories",popover:{title:l?s("tour_return_hub"):`<span class="text-xl font-bold">${s("tour_return_categories_title")}</span>`,description:s(l?"tour_return_hub_desc":"tour_return_categories_desc")+z.value,side:"bottom",align:"start"}}]}),_.value.drive()},st=()=>{const l=localStorage.getItem("tour_state"),n=E.props.auth.user.has_completed_tour,e=["welcome","wallet_setup","transaction_setup","dashboard_explanation","analysis_intro","budget_setup","hub_to_goals","goals_setup"];if(!(_.value&&document.querySelector(".driver-popover"))&&(!l||l&&e.includes(l))){if(!l||l!=="goals_setup"){if(!l&&n)return;localStorage.setItem("tour_state","goals_setup")}const u=document.querySelector(".driver-popover"),b=document.querySelector(".driver-overlay");u&&u.remove(),b&&b.remove(),setTimeout(gt,800)}};return ft(()=>{st(),window.addEventListener("skip-tour",()=>{localStorage.removeItem("tour_state"),_.value&&_.value.destroy(),U.post("/user/complete-tour",{},{preserveScroll:!0,preserveState:!0})})}),vt(()=>{_.value&&_.value.destroy()}),wt(()=>E.url,()=>{st()}),(l,n)=>(d(),c(j,null,[i(o(kt),{title:s("goals_title")},null,8,["title"]),i(jt,null,{default:Ct(()=>[t("header",Vt,[t("div",Ft,[t("h1",Lt,a(s("goals_title")),1),t("p",Ot,a(s("goals_desc")),1)]),t("button",{id:"step-add-goal",onClick:Z,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2 group"},[i(o(rt),{class:"w-4 h-4 group-hover:rotate-90 transition-transform duration-300"}),t("span",null,a(s("add_goal")),1)])]),t("div",Pt,[t("div",At,[t("div",Gt,[i(o(L),{class:"w-32 h-32 text-white"})]),t("div",Nt,[t("div",qt,[t("div",Wt,[i(o(L),{class:"w-6 h-6 text-white"})]),t("h3",Yt,a(s("total_targets")),1)]),t("div",Zt,[t("h2",Ht,a(o(g)(G.value,"IDR").split(",")[0]),1),t("p",Xt,a(s("combined_goals")),1)])])]),t("div",Jt,[t("div",Kt,[i(o(Y),{class:"w-32 h-32 text-white"})]),t("div",Qt,[t("div",te,[t("div",ee,[i(o(Y),{class:"w-6 h-6 text-white"})]),t("h3",se,a(s("total_saved")),1)]),t("div",oe,[t("h2",ae,a(o(g)(J.value,"IDR").split(",")[0]),1),t("p",le,a(s("allocated_goals")),1)])])]),t("div",re,[t("div",ne,[i(o(O),{class:"w-32 h-32 text-white"})]),t("div",ie,[t("div",de,[t("div",ce,[i(o(O),{class:"w-6 h-6 text-white"})]),t("h3",ue,a(s("overall_health")),1)]),t("div",me,[t("h2",pe,a(Math.round(xt.value))+"%",1),t("p",xe,a(s("avg_completion")),1)])])])]),t("div",_e,[M.goals.length>0?(d(),c("div",he,[(d(!0),c(j,null,R(M.goals,e=>(d(),c("div",{key:e.id,onClick:u=>ht(e),class:"group bg-white border border-slate-100 rounded-[1.5rem] md:rounded-[2.5rem] p-6 md:p-8 hover:shadow-xl hover:shadow-slate-100 transition-all duration-500 relative overflow-hidden cursor-pointer md:cursor-default active:scale-[0.98] active:md:scale-100"},[t("div",be,[t("div",fe,[t("div",{class:k(["w-14 h-14 md:w-16 md:h-16 rounded-2xl md:rounded-3xl flex items-center justify-center bg-gradient-to-br text-white shadow-lg shrink-0",tt(e.type)])},[(d(),T(at(K(e.type)),{class:"w-6 h-6 md:w-8 md:h-8"}))],2),t("div",ve,[t("h3",we,a(e.name),1),t("div",ye,[t("span",ke,a(s(Q(e.type))),1),e.target_date?(d(),c("span",Ce,[i(o(nt),{class:"w-3.5 h-3.5"}),x(" "+a(new Date(e.target_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),1)])):p("",!0)])])]),t("div",Se,[t("button",{onClick:V(u=>H(e),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-indigo-600",title:s("edit")},[i(o(it),{class:"w-4 h-4"})],8,De),t("button",{onClick:V(u=>X(e),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-rose-600",title:s("delete")},[i(o(dt),{class:"w-4 h-4"})],8,Te),t("button",{onClick:V(u=>mt(e),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-indigo-600",title:s("view_details")},[i(o(Rt),{class:"w-4 h-4"})],8,je)])]),t("div",Ie,[t("div",Me,[t("div",Ee,[t("p",ze,a(s("progress")),1),t("div",$e,[t("span",Ue,a(o(g)(w(e),e.currency).split(",")[0]),1),t("span",Be,"/ "+a(o(g)(e.target_amount,e.currency).split(",")[0]),1)])]),t("div",Re,[t("span",Ve,a(Math.round(w(e)/e.target_amount*100))+"%",1)])]),t("div",Fe,[t("div",{class:k(["h-full rounded-full transition-all duration-1000 ease-out relative overflow-hidden",_t(w(e)/e.target_amount*100)]),style:St({width:`${Math.min(w(e)/e.target_amount*100,100)}%`})},[...n[11]||(n[11]=[t("div",{class:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite] skew-x-12"},null,-1)])],6)]),t("div",Le,[t("div",Oe,[t("div",Pe,[(d(!0),c(j,null,R(e.wallets.slice(0,3),u=>(d(),c("div",{key:u.id,class:k(["w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-white flex items-center justify-center text-[8px] md:text-[10px] font-bold text-white ring-2 ring-slate-50 transition-transform hover:scale-110 hover:z-10",N(u.type)]),title:u.name},a(u.name.charAt(0)),11,Ae))),128)),e.wallets.length>3?(d(),c("div",Ge," +"+a(e.wallets.length-3),1)):p("",!0)]),t("span",Ne,a(s("linked_wallets")),1)]),et(e)&&e.current_amount<e.target_amount?(d(),c("div",qe,[i(o(O),{class:"w-4 h-4"}),x(" "+a(s("requires_monthly").replace(":amount",o(g)(et(e),e.currency).split(",")[0])),1)])):e.current_amount>=e.target_amount?(d(),c("div",We,[i(o(ct),{class:"w-4 h-4"}),x(" "+a(s("goal_accomplished")),1)])):p("",!0)])])],8,ge))),128))])):(d(),c("div",Ye,[t("div",Ze,[n[12]||(n[12]=t("div",{class:"absolute inset-0 bg-indigo-100 rounded-full animate-ping opacity-20"},null,-1)),t("div",He,[i(o(L),{class:"w-12 h-12 text-indigo-400"})])]),t("div",Xe,[t("h2",Je,a(s("no_goals")),1),t("p",Ke,a(s("start_planning")),1)]),t("button",{onClick:Z,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3.5 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2 mx-auto"},[i(o(rt),{class:"w-4 h-4"}),t("span",null,a(s("create_first_goal")),1)])]))]),(d(),T(lt,{to:"body"},[$.value?(d(),c("div",Qe,[t("div",{onClick:D,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),t("div",ts,[t("div",es,[t("div",null,[t("h2",ss,a(v.value?s("update_goal"):s("new_goal")),1),t("p",os,a(v.value?s("update_goal_desc"):s("new_goal_desc")),1)]),t("button",{onClick:D,class:"p-2 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all"},[i(o(ut),{class:"w-6 h-6"})])]),t("div",as,[t("form",{onSubmit:V(pt,["prevent"]),class:"space-y-6"},[t("div",ls,[t("div",null,[t("label",rs,a(s("goal_name")),1),I(t("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>o(r).name=e),type:"text",placeholder:s("goal_name_placeholder"),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,8,ns),[[q,o(r).name]]),o(r).errors.name?(d(),c("p",is,[i(o(C),{class:"w-3.5 h-3.5"}),x(" "+a(o(r).errors.name),1)])):p("",!0)]),t("div",null,[t("label",ds,a(s("goal_type")),1),I(t("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>o(r).type=e),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm h-[46px]"},[t("option",cs,a(s("emergency_fund")),1),t("option",us,a(s("retirement")),1),t("option",ms,a(s("general_saving")),1),t("option",ps,a(s("custom")),1)],512),[[Dt,o(r).type]]),o(r).errors.type?(d(),c("p",xs,[i(o(C),{class:"w-3.5 h-3.5"}),x(" "+a(o(r).errors.type),1)])):p("",!0)]),t("div",null,[t("label",_s,a(s("target_amount")),1),i(Mt,{modelValue:o(r).target_amount,"onUpdate:modelValue":n[2]||(n[2]=e=>o(r).target_amount=e),currency:o(r).currency,placeholder:"0.00"},null,8,["modelValue","currency"]),o(r).errors.target_amount?(d(),c("p",hs,[i(o(C),{class:"w-3.5 h-3.5"}),x(" "+a(o(r).errors.target_amount),1)])):p("",!0)]),t("div",null,[t("label",gs,a(s("target_deadline")),1),I(t("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>o(r).target_date=e),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm",min:new Date().toISOString().split("T")[0]},null,8,bs),[[q,o(r).target_date]]),o(r).errors.target_date?(d(),c("p",fs,[i(o(C),{class:"w-3.5 h-3.5"}),x(" "+a(o(r).errors.target_date),1)])):p("",!0)])]),t("div",null,[t("div",vs,[t("label",ws,a(s("allocate_wallets")),1),t("span",ys,a(s("select_wallets_hint")),1)]),t("div",ks,[t("div",Cs,[(d(!0),c(j,null,R(M.wallets,e=>(d(),c("label",{key:e.id,class:k(["relative flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group hover:bg-slate-50",o(r).wallet_ids.includes(e.id)?"border-indigo-500 bg-indigo-50":"border-slate-100 bg-slate-50/30"])},[I(t("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":n[4]||(n[4]=u=>o(r).wallet_ids=u),class:"hidden"},null,8,Ss),[[Tt,o(r).wallet_ids]]),t("div",{class:k(["w-2 h-2 rounded-full flex-shrink-0",N(e.type)])},null,2),t("div",Ds,[t("span",Ts,a(e.name),1),t("span",js,a(o(g)(e.balance,e.currency).split(",")[0]),1)]),o(r).wallet_ids.includes(e.id)?(d(),T(o(ct),{key:0,class:"absolute top-1 right-1 w-3 h-3 text-indigo-600"})):p("",!0)],2))),128))])]),o(r).errors.wallet_ids?(d(),c("p",Is,[i(o(C),{class:"w-3.5 h-3.5"}),x(" "+a(o(r).errors.wallet_ids),1)])):p("",!0)]),t("div",null,[t("label",Ms,a(s("notes_optional")),1),I(t("textarea",{"onUpdate:modelValue":n[5]||(n[5]=e=>o(r).notes=e),rows:"2",placeholder:s("notes_placeholder"),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-medium text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all resize-none"},null,8,Es),[[q,o(r).notes]])]),t("div",zs,[t("button",{type:"button",onClick:D,class:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-700 px-6 py-4 rounded-xl font-bold text-sm transition-all"},a(s("cancel")),1),t("button",{type:"submit",disabled:o(r).processing,class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-4 rounded-xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl transition-all"},a(v.value?s("update_goal"):s("create_goal_btn")),9,$s)])],32)])])])):p("",!0)])),(d(),T(lt,{to:"body"},[f.value&&m.value?(d(),c("div",Us,[t("div",{onClick:n[6]||(n[6]=e=>f.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),t("div",Bs,[t("div",Rs,[t("div",Vs,[t("div",{class:k(["w-14 h-14 md:w-16 md:h-16 rounded-2xl md:rounded-3xl flex items-center justify-center bg-gradient-to-br text-white shadow-lg shrink-0",tt(m.value.type)])},[(d(),T(at(K(m.value.type)),{class:"w-7 h-7 md:w-8 md:h-8"}))],2),t("div",null,[t("h2",Fs,a(m.value.name),1),t("div",Ls,[t("span",Os,a(s(Q(m.value.type))),1),m.value.target_date?(d(),c("span",Ps,[i(o(nt),{class:"w-3.5 h-3.5"}),x(" "+a(new Date(m.value.target_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),1)])):p("",!0)])])]),t("button",{onClick:n[7]||(n[7]=e=>f.value=!1),class:"p-3 hover:bg-white rounded-2xl text-slate-400 hover:text-slate-900 transition-all border border-transparent hover:border-slate-100 shadow-sm hover:shadow-md"},[i(o(ut),{class:"w-6 h-6"})])]),t("div",As,[t("div",Gs,[t("div",Ns,[t("span",qs,a(s("total_saved")),1),t("h3",Ws,a(o(g)(w(m.value),m.value.currency).split(",")[0]),1)]),t("div",Ys,[t("span",Zs,a(s("target_remaining")),1),t("h3",Hs,a(o(g)(m.value.target_amount-w(m.value),m.value.currency).split(",")[0]),1)])]),t("div",Xs,[t("h3",Js,[i(o(Y),{class:"w-4 h-4 text-slate-400"}),x(" "+a(s("wallet_allocations")),1)]),t("div",Ks,[t("div",Qs,[(d(!0),c(j,null,R(m.value.wallets,e=>(d(),c("div",{key:e.id,class:"flex items-center gap-3 p-3 bg-slate-50 rounded-2xl border border-slate-100 transition-all hover:bg-white hover:shadow-sm"},[t("div",{class:k(["w-2 h-2 rounded-full flex-shrink-0",N(e.type)])},null,2),t("div",to,[t("span",eo,a(e.name),1),t("span",so,a(o(g)(e.balance,e.currency).split(",")[0]),1)])]))),128))])])]),m.value.notes?(d(),c("div",oo,[t("span",ao,[i(o(C),{class:"w-4 h-4"}),x(" "+a(s("notes")),1)]),t("p",lo,'"'+a(m.value.notes)+'"',1)])):p("",!0),t("div",ro,[t("button",{onClick:n[8]||(n[8]=e=>{H(m.value),f.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-xl font-bold text-sm transition-colors"},[i(o(it),{class:"w-4 h-4"}),x(" "+a(s("edit")),1)]),t("button",{onClick:n[9]||(n[9]=e=>{X(m.value),f.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 rounded-xl font-bold text-sm transition-colors"},[i(o(dt),{class:"w-4 h-4"}),x(" "+a(s("delete")),1)])])])])])):p("",!0)])),i(Et,{show:P.value,onClose:n[10]||(n[10]=e=>P.value=!1),title:s("upsell_goals_title"),description:s("upsell_goals_desc")},null,8,["show","title","description"])]),_:1})],64))}},$o=zt(no,[["__scopeId","data-v-77ce204d"]]);export{$o as default};
