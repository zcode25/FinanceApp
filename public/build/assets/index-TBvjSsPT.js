import{r as f,w as le,J as fe,a as we,f as B,i as ye,u as ke,j as u,k as i,l as a,m as Ce,p as Se,q as e,C as E,s as r,A as O,x as d,F as M,y as R,G as C,H as re,L as x,I as _,M as V,E as De,T as ne,v as z,N as q,z as Te,P as je}from"./vendor-fqKEAn5t.js";import{_ as Ie}from"./Layout-CmdMjNF8.js";import{t as F,P as ie,T as G,W,Z as L,C as de,O as ce,D as ue,ah as Ee,J as me,X as pe,G as T,a as Me,q as ze,l as $e}from"./ui-Dbn-GO4O.js";/* empty css               */import{f as b}from"./formatCurrency-CRcwQRlL.js";import{_ as Ue}from"./CurrencyInput-Cq56920C.js";import{s as J}from"./app-BrHA3n_S.js";import{U as Be}from"./UpgradeModal-DqiFMEF7.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const Re={class:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-6 relative z-30"},Ve={class:"space-y-1"},Fe={class:"text-2xl md:text-3xl font-bold text-slate-900 tracking-tight"},Ge={class:"text-sm md:text-base text-slate-500 font-medium"},Le={id:"step-goal-summary",class:"flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-3 gap-4 md:gap-6 mb-8 -mx-4 px-4 md:mx-0 md:px-0 no-scrollbar md:overflow-visible"},Ne={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-slate-800 to-slate-900 text-white shadow-lg shadow-slate-200"},Pe={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Ae={class:"relative z-10"},qe={class:"flex items-center gap-3 mb-6"},We={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},Je={class:"font-bold text-lg text-white/90 tracking-tight"},He={class:"space-y-1"},Ye={class:"text-3xl font-bold tracking-tight tabular-nums"},Ze={class:"text-slate-400 font-medium text-sm"},Xe={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-200"},Ke={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Qe={class:"relative z-10"},et={class:"flex items-center gap-3 mb-6"},tt={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},st={class:"font-bold text-lg text-white/90 tracking-tight"},ot={class:"space-y-1"},at={class:"text-3xl font-bold tracking-tight tabular-nums"},lt={class:"text-indigo-100 font-medium text-sm"},rt={class:"w-[90vw] md:w-auto shrink-0 snap-center relative overflow-hidden rounded-[2.5rem] p-8 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-200"},nt={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},it={class:"relative z-10"},dt={class:"flex items-center gap-3 mb-6"},ct={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},ut={class:"font-bold text-lg text-white/90 tracking-tight"},mt={class:"space-y-1"},pt={class:"text-3xl font-bold tracking-tight tabular-nums"},xt={class:"text-emerald-100 font-medium text-sm"},_t={id:"tour-goals-section"},ht={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-24"},gt=["onClick"],bt={class:"flex items-start justify-between relative z-10"},vt={class:"flex gap-4 md:gap-6"},ft={class:"space-y-1 md:space-y-2"},wt={class:"text-lg md:text-xl font-bold text-slate-900 group-hover:text-indigo-600 transition-colors line-clamp-1"},yt={class:"flex items-center gap-2 md:gap-3 flex-wrap"},kt={class:"px-2 md:px-3 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-bold capitalize tracking-wider"},Ct={key:0,class:"text-xs md:text-sm text-slate-400 flex items-center gap-1 font-medium"},St={class:"hidden md:flex items-center gap-2"},Dt=["onClick","title"],Tt=["onClick","title"],jt=["onClick","title"],It={class:"mt-8 md:mt-10 space-y-4 md:space-y-6 relative z-10"},Et={class:"flex justify-between items-end"},Mt={class:"space-y-1"},zt={class:"text-xs md:text-sm font-bold text-slate-400"},$t={class:"flex items-baseline gap-1 md:gap-1.5"},Ut={class:"text-xl md:text-2xl font-bold text-slate-800 tracking-tight leading-none"},Bt={class:"text-xs md:text-sm font-bold text-slate-400"},Ot={class:"text-right"},Rt={class:"text-sm md:text-base font-bold text-slate-900 leading-none"},Vt={class:"h-3 md:h-4 bg-slate-100 rounded-full overflow-hidden shadow-inner border border-slate-200/50"},Ft={class:"pt-4 md:pt-6 border-t border-slate-100 grid md:grid-cols-2 gap-4 md:gap-6"},Gt={class:"flex items-center justify-between"},Lt={class:"flex -space-x-2 md:-space-x-3"},Nt=["title"],Pt={key:0,class:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-slate-100 border-2 border-white flex items-center justify-center text-[8px] md:text-[10px] font-bold text-slate-500 ring-2 ring-slate-50"},At={class:"text-[10px] md:text-xs font-bold text-slate-400"},qt={key:0,class:"w-full px-4 py-3 md:py-4 bg-indigo-50/50 text-indigo-700 rounded-2xl text-[10px] md:text-[11px] font-bold flex items-center justify-center gap-2 border border-indigo-100/50"},Wt={key:1,class:"w-full px-4 py-3 md:py-4 bg-emerald-50 text-emerald-700 rounded-2xl text-[10px] md:text-[11px] font-bold flex items-center justify-center gap-2 border border-emerald-100"},Jt={key:1,class:"bg-white border border-slate-100 rounded-[2rem] p-12 text-center space-y-6 shadow-sm"},Ht={class:"relative w-32 h-32 mx-auto"},Yt={class:"relative bg-indigo-50 rounded-full w-32 h-32 flex items-center justify-center"},Zt={class:"space-y-1"},Xt={class:"text-base font-bold text-slate-900"},Kt={class:"text-slate-500 max-w-xs mx-auto font-medium text-sm"},Qt={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},es={class:"relative z-10 w-full max-w-4xl bg-white rounded-t-[2rem] sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-200 flex flex-col max-h-[90vh]"},ts={class:"p-6 md:p-8 border-b border-slate-200 flex items-center justify-between shrink-0"},ss={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},os={class:"text-xs md:text-sm text-slate-500 font-medium"},as={class:"p-6 md:p-8 overflow-y-auto custom-scrollbar"},ls={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rs={class:"block text-xs font-bold text-slate-700 mb-2"},ns=["placeholder"],is={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},ds={class:"block text-xs font-bold text-slate-700 mb-2"},cs={value:"emergency"},us={value:"retirement"},ms={value:"saving"},ps={value:"custom"},xs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},_s={class:"block text-xs font-bold text-slate-700 mb-2"},hs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},gs={class:"block text-xs font-bold text-slate-700 mb-2"},bs=["min"],vs={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},fs={class:"flex justify-between items-center mb-2"},ws={class:"text-xs font-bold text-slate-700"},ys={class:"text-[10px] text-indigo-600 font-bold"},ks={class:"max-h-[180px] overflow-y-auto pr-2 custom-scrollbar"},Cs={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},Ss=["value"],Ds={class:"flex flex-col min-w-0"},Ts={class:"text-xs font-bold text-slate-900 truncate"},js={class:"text-[9px] font-semibold text-slate-400"},Is={key:0,class:"mt-2 text-xs font-bold text-rose-600 flex items-center gap-1.5"},Es={class:"block text-xs font-bold text-slate-700 mb-2"},Ms=["placeholder"],zs={class:"flex gap-3 pt-2"},$s=["disabled"],Us={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},Bs={class:"relative z-10 w-full max-w-4xl bg-white rounded-t-[2rem] sm:rounded-[2.5rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-200 flex flex-col max-h-[90vh]"},Os={class:"p-8 md:p-10 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 shrink-0"},Rs={class:"flex items-center gap-4 md:gap-5"},Vs={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},Fs={class:"flex flex-col items-start gap-1 md:flex-row md:items-center md:gap-3"},Gs={class:"px-3 py-1 bg-white text-slate-500 rounded-lg text-[10px] font-bold capitalize tracking-wider border border-slate-100"},Ls={key:0,class:"text-xs md:text-sm text-slate-400 flex items-center gap-1.5 font-medium"},Ns={class:"p-8 md:p-10 space-y-8 md:space-y-10 overflow-y-auto custom-scrollbar"},Ps={class:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8"},As={class:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-2"},qs={class:"text-xs font-bold text-slate-400"},Ws={class:"text-xl font-bold text-emerald-600 tabular-nums"},Js={class:"p-6 bg-slate-50 rounded-3xl border border-slate-100 space-y-2"},Hs={class:"text-xs font-bold text-slate-400"},Ys={class:"text-xl font-bold tabular-nums"},Zs={class:"space-y-4"},Xs={class:"text-sm font-bold text-slate-900 flex items-center gap-2"},Ks={class:"max-h-[180px] overflow-y-auto pr-2 custom-scrollbar"},Qs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},eo={class:"flex flex-col min-w-0"},to={class:"text-xs font-bold text-slate-900 truncate"},so={class:"text-[10px] font-semibold text-slate-400 tabular-nums"},oo={key:0,class:"p-6 bg-amber-50/50 rounded-3xl border border-amber-100/50 space-y-2"},ao={class:"text-xs font-bold text-amber-600 flex items-center gap-2"},lo={class:"text-sm text-amber-900 font-medium leading-relaxed italic"},ro={class:"grid grid-cols-2 gap-3 pt-2"},no={__name:"index",props:{goals:Array,wallets:Array,currentExchangeRate:Number},setup(H){const $=ke(),s=o=>$.props.translations?.[o]||o,h=f(null),U=O(()=>`<div class="mt-4 flex justify-start">
    <button onclick="window.dispatchEvent(new CustomEvent('skip-tour'))" class="text-[11px] font-semibold text-slate-400 hover:text-rose-500 transition-colors">${s("skip_tutorial")}</button>
</div>`),g=H,p=f([...g.goals]);le(()=>g.goals,o=>{p.value=[...o]},{deep:!0});const S=f(!1),N=f(!1),w=f(!1),y=f(!1),D=f(null),m=f(null),l=fe({name:"",target_amount:"",type:"saving",target_date:"",start_date:new Date().toISOString().split("T")[0],notes:"",currency:"IDR",wallet_ids:[]}),j=F.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",F.stopTimer),o.addEventListener("mouseleave",F.resumeTimer)}}),Y=()=>{if(!$.props.auth.user.is_premium&&g.goals.length>=1){N.value=!0;return}y.value=!1,D.value=null,l.clearErrors(),l.name="",l.target_amount="",l.type="saving",l.target_date="",l.start_date=new Date().toISOString().split("T")[0],l.notes="",l.currency="IDR",l.wallet_ids=[],S.value=!0},Z=o=>{y.value=!0,D.value=o,l.name=o.name,l.target_amount=o.target_amount,l.type=o.type,l.target_date=o.target_date?new Date(o.target_date).toISOString().split("T")[0]:"",l.start_date=o.start_date?new Date(o.start_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],l.notes=o.notes,l.currency=o.currency,l.wallet_ids=o.wallets.map(n=>n.id),l.clearErrors(),S.value=!0},I=()=>{S.value=!1,y.value=!1,D.value=null,l.clearErrors(),l.name="",l.target_amount="",l.type="saving",l.target_date="",l.start_date=new Date().toISOString().split("T")[0],l.notes="",l.currency="IDR",l.wallet_ids=[]},xe=o=>{m.value=o,w.value=!0},_e=()=>{if(y.value&&D.value){const o=JSON.parse(JSON.stringify(p.value)),n=p.value.findIndex(c=>c?.id===D.value?.id);n!==-1&&(p.value[n]={...p.value[n],name:l.name,target_amount:l.target_amount,type:l.type,target_date:l.target_date,start_date:l.start_date,notes:l.notes,currency:l.currency,wallets:g.wallets.filter(c=>l.wallet_ids.includes(c.id))});const t=D.value.id;S.value=!1,l.put(J("goals.update",t),{onSuccess:()=>{I(),j.fire({icon:"success",title:s("goal_updated"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},onError:()=>{p.value=o,S.value=!0,j.fire({icon:"error",title:"Failed to update goal"})}})}else l.post(J("goals.store"),{onSuccess:()=>{I(),j.fire({icon:"success",title:s("goal_created"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}})},X=o=>{F.fire({title:s("delete_goal_title"),text:s("delete_goal_text"),icon:"warning",showCancelButton:!0,confirmButtonText:s("yes_delete"),cancelButtonText:s("cancel"),customClass:{popup:"!rounded-[2rem] !p-10 !bg-white !shadow-2xl !border !border-slate-100 !font-sans !antialiased",title:"!text-xl !font-bold !text-slate-900 !pt-4 !pb-2 !px-0 !m-0 !leading-tight",htmlContainer:"!text-sm !font-semibold !text-slate-500 !leading-relaxed !pb-6 !px-0 !m-0",actions:"!flex !items-center !justify-center !gap-3 !mt-4 !w-full !px-0",confirmButton:"!inline-flex !items-center !justify-center !bg-rose-600 !text-white !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm hover:!shadow-rose-600/20 hover:!bg-rose-700 active:!scale-95 !border-none !outline-none !m-0 !cursor-pointer",cancelButton:"!inline-flex !items-center !justify-center !bg-slate-100 !text-slate-700 hover:!bg-slate-200 !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm !border-none !outline-none !m-0 !cursor-pointer active:!scale-95",icon:"!border-4 !border-rose-100 !text-rose-600 !scale-110 !mb-6 !mt-2"},buttonsStyling:!1,backdrop:"rgba(15, 23, 42, 0.4)"}).then(n=>{if(n.isConfirmed){const t=[...p.value];p.value=p.value.filter(c=>c.id!==o.id),B.delete(J("goals.destroy",o.id),{onSuccess:()=>{j.fire({icon:"success",title:s("goal_deleted"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},onError:()=>{p.value=t,j.fire({icon:"error",title:"Failed to delete goal"})}})}})},P=O(()=>p.value.reduce((o,n)=>{let t=parseFloat(n.target_amount);return n.currency==="USD"&&g.currentExchangeRate&&(t=t*g.currentExchangeRate),o+t},0)),K=O(()=>p.value.reduce((o,n)=>{const t=n.wallets.reduce((c,v)=>{let ae=parseFloat(v.balance);return v.currency==="USD"&&g.currentExchangeRate?c+ae*g.currentExchangeRate:c+ae},0);return o+t},0)),he=O(()=>P.value>0?K.value/P.value*100:0),Q=o=>{switch(o){case"emergency":return ze;case"retirement":return L;case"saving":return Me;default:return G}},ee=o=>({emergency:"emergency_fund",retirement:"retirement",saving:"general_saving",custom:"custom"})[o]||o,te=o=>{switch(o){case"emergency":return"from-rose-500 to-pink-600 shadow-rose-200";case"retirement":return"from-purple-500 to-violet-600 shadow-purple-200";case"saving":return"from-emerald-500 to-teal-600 shadow-emerald-200";default:return"from-indigo-500 to-indigo-600 shadow-indigo-200"}},ge=o=>o>=100?"bg-emerald-500":o>=50?"bg-indigo-500":"bg-amber-500",A=o=>{switch(o){case"cash":return"bg-emerald-500";case"ewallet":return"bg-violet-500";case"bank":return"bg-orange-500";default:return"bg-slate-500"}},se=o=>{if(!o.target_date)return null;const n=new Date,t=new Date(o.target_date),c=(t.getFullYear()-n.getFullYear())*12+(t.getMonth()-n.getMonth());if(c<=0)return null;const v=o.target_amount-k(o);return v>0?v/c:0},k=o=>o.wallets.reduce((n,t)=>{let c=parseFloat(t.balance);return t.currency==="USD"&&g.currentExchangeRate?n+c*g.currentExchangeRate:n+c},0),be=o=>{window.innerWidth<768&&(m.value=o,w.value=!0)},ve=()=>{const o=window.innerWidth<768;h.value=$e({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,stagePadding:10,onNextClick:()=>{h.value.isLastStep()?(o?(localStorage.setItem("tour_state","hub_to_categories"),B.visit("/dashboard")):(localStorage.setItem("tour_state","categories_setup"),B.visit("/categories")),h.value.destroy()):h.value.moveNext()},steps:[{element:"#step-goal-summary",popover:{title:`<span class="text-xl font-bold">${s("tour_goal_summary_title")}</span>`,description:s("tour_goal_summary_desc")+U.value,side:"bottom",align:"start"}},{element:"#step-add-goal",popover:{title:`<span class="text-xl font-bold">${s("tour_add_goal_title")}</span>`,description:s("tour_add_goal_desc")+U.value,side:"bottom",align:"start"}},{element:"#tour-goals-section",popover:{title:`<span class="text-xl font-bold">${s("tour_goals_section_title")}</span>`,description:s("tour_goals_section_desc")+U.value,side:"bottom",align:"start"}},{element:o?"#mobile-nav-home":"#nav-categories",popover:{title:o?s("tour_return_hub"):`<span class="text-xl font-bold">${s("tour_return_categories_title")}</span>`,description:s(o?"tour_return_hub_desc":"tour_return_categories_desc")+U.value,side:"bottom",align:"start"}}]}),h.value.drive()},oe=()=>{const o=localStorage.getItem("tour_state"),n=$.props.auth.user.has_completed_tour,t=["welcome","wallet_setup","transaction_setup","dashboard_explanation","analysis_intro","budget_setup","hub_to_goals","goals_setup"];if(!(h.value&&document.querySelector(".driver-popover"))&&(!o||o&&t.includes(o))){if(!o||o!=="goals_setup"){if(!o&&n)return;localStorage.setItem("tour_state","goals_setup")}const c=document.querySelector(".driver-popover"),v=document.querySelector(".driver-overlay");c&&c.remove(),v&&v.remove(),setTimeout(ve,800)}};return we(()=>{oe(),window.addEventListener("skip-tour",()=>{localStorage.removeItem("tour_state"),h.value&&h.value.destroy(),B.post("/user/complete-tour",{},{preserveScroll:!0,preserveState:!0})})}),ye(()=>{h.value&&h.value.destroy()}),le(()=>$.url,()=>{oe()}),(o,n)=>(d(),u(M,null,[i(a(Ce),{title:s("goals_title")},null,8,["title"]),i(Ie,null,{default:Se(()=>[e("header",Re,[e("div",Ve,[e("h1",Fe,r(s("goals_title")),1),e("p",Ge,r(s("goals_desc")),1)]),e("button",{id:"step-add-goal",onClick:Y,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2 group"},[i(a(ie),{class:"w-4 h-4 group-hover:rotate-90 transition-transform duration-300"}),e("span",null,r(s("add_goal")),1)])]),e("div",Le,[e("div",Ne,[e("div",Pe,[i(a(G),{class:"w-32 h-32 text-white"})]),e("div",Ae,[e("div",qe,[e("div",We,[i(a(G),{class:"w-6 h-6 text-white"})]),e("h3",Je,r(s("total_targets")),1)]),e("div",He,[e("h2",Ye,r(a(b)(P.value,"IDR").split(",")[0]),1),e("p",Ze,r(s("combined_goals")),1)])])]),e("div",Xe,[e("div",Ke,[i(a(W),{class:"w-32 h-32 text-white"})]),e("div",Qe,[e("div",et,[e("div",tt,[i(a(W),{class:"w-6 h-6 text-white"})]),e("h3",st,r(s("total_saved")),1)]),e("div",ot,[e("h2",at,r(a(b)(K.value,"IDR").split(",")[0]),1),e("p",lt,r(s("allocated_goals")),1)])])]),e("div",rt,[e("div",nt,[i(a(L),{class:"w-32 h-32 text-white"})]),e("div",it,[e("div",dt,[e("div",ct,[i(a(L),{class:"w-6 h-6 text-white"})]),e("h3",ut,r(s("overall_health")),1)]),e("div",mt,[e("h2",pt,r(Math.round(he.value))+"%",1),e("p",xt,r(s("avg_completion")),1)])])])]),e("div",_t,[p.value.length>0?(d(),u("div",ht,[(d(!0),u(M,null,R(p.value,t=>(d(),u("div",{key:t.id,onClick:c=>be(t),class:"group bg-white border border-slate-100 rounded-[1.5rem] md:rounded-[2.5rem] p-6 md:p-8 hover:shadow-xl hover:shadow-slate-100 transition-all duration-500 relative overflow-hidden cursor-pointer md:cursor-default active:scale-[0.98] active:md:scale-100"},[e("div",bt,[e("div",vt,[e("div",{class:C(["w-14 h-14 md:w-16 md:h-16 rounded-2xl md:rounded-3xl flex items-center justify-center bg-gradient-to-br text-white shadow-lg shrink-0",te(t.type)])},[(d(),E(re(Q(t.type)),{class:"w-6 h-6 md:w-8 md:h-8"}))],2),e("div",ft,[e("h3",wt,r(t.name),1),e("div",yt,[e("span",kt,r(s(ee(t.type))),1),t.target_date?(d(),u("span",Ct,[i(a(de),{class:"w-3.5 h-3.5"}),_(" "+r(new Date(t.target_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),1)])):x("",!0)])])]),e("div",St,[e("button",{onClick:V(c=>Z(t),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-indigo-600",title:s("edit")},[i(a(ce),{class:"w-4 h-4"})],8,Dt),e("button",{onClick:V(c=>X(t),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-rose-600",title:s("delete")},[i(a(ue),{class:"w-4 h-4"})],8,Tt),e("button",{onClick:V(c=>xe(t),["stop"]),class:"p-2.5 rounded-xl bg-slate-50 hover:bg-white hover:shadow-md border border-slate-100 transition-all text-slate-400 hover:text-indigo-600",title:s("view_details")},[i(a(Ee),{class:"w-4 h-4"})],8,jt)])]),e("div",It,[e("div",Et,[e("div",Mt,[e("p",zt,r(s("progress")),1),e("div",$t,[e("span",Ut,r(a(b)(k(t),t.currency).split(",")[0]),1),e("span",Bt,"/ "+r(a(b)(t.target_amount,t.currency).split(",")[0]),1)])]),e("div",Ot,[e("span",Rt,r(Math.round(k(t)/t.target_amount*100))+"%",1)])]),e("div",Vt,[e("div",{class:C(["h-full rounded-full transition-all duration-1000 ease-out relative overflow-hidden",ge(k(t)/t.target_amount*100)]),style:De({width:`${Math.min(k(t)/t.target_amount*100,100)}%`})},[...n[11]||(n[11]=[e("div",{class:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite] skew-x-12"},null,-1)])],6)]),e("div",Ft,[e("div",Gt,[e("div",Lt,[(d(!0),u(M,null,R(t.wallets.slice(0,3),c=>(d(),u("div",{key:c.id,class:C(["w-6 h-6 md:w-8 md:h-8 rounded-full border-2 border-white flex items-center justify-center text-[8px] md:text-[10px] font-bold text-white ring-2 ring-slate-50 transition-transform hover:scale-110 hover:z-10",A(c.type)]),title:c.name},r(c.name.charAt(0)),11,Nt))),128)),t.wallets.length>3?(d(),u("div",Pt," +"+r(t.wallets.length-3),1)):x("",!0)]),e("span",At,r(s("linked_wallets")),1)]),se(t)&&t.current_amount<t.target_amount?(d(),u("div",qt,[i(a(L),{class:"w-4 h-4"}),_(" "+r(s("requires_monthly").replace(":amount",a(b)(se(t),t.currency).split(",")[0])),1)])):t.current_amount>=t.target_amount?(d(),u("div",Wt,[i(a(me),{class:"w-4 h-4"}),_(" "+r(s("goal_accomplished")),1)])):x("",!0)])])],8,gt))),128))])):(d(),u("div",Jt,[e("div",Ht,[n[12]||(n[12]=e("div",{class:"absolute inset-0 bg-indigo-100 rounded-full animate-ping opacity-20"},null,-1)),e("div",Yt,[i(a(G),{class:"w-12 h-12 text-indigo-400"})])]),e("div",Zt,[e("h2",Xt,r(s("no_goals")),1),e("p",Kt,r(s("start_planning")),1)]),e("button",{onClick:Y,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3.5 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2 mx-auto"},[i(a(ie),{class:"w-4 h-4"}),e("span",null,r(s("create_first_goal")),1)])]))]),(d(),E(ne,{to:"body"},[S.value?(d(),u("div",Qt,[e("div",{onClick:I,class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",es,[e("div",ts,[e("div",null,[e("h2",ss,r(y.value?s("update_goal"):s("new_goal")),1),e("p",os,r(y.value?s("update_goal_desc"):s("new_goal_desc")),1)]),e("button",{onClick:I,class:"p-2 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all"},[i(a(pe),{class:"w-6 h-6"})])]),e("div",as,[e("form",{onSubmit:V(_e,["prevent"]),class:"space-y-6"},[e("div",ls,[e("div",null,[e("label",rs,r(s("goal_name")),1),z(e("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>a(l).name=t),type:"text",placeholder:s("goal_name_placeholder"),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,8,ns),[[q,a(l).name]]),a(l).errors.name?(d(),u("p",is,[i(a(T),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.name),1)])):x("",!0)]),e("div",null,[e("label",ds,r(s("goal_type")),1),z(e("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>a(l).type=t),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm h-[46px]"},[e("option",cs,r(s("emergency_fund")),1),e("option",us,r(s("retirement")),1),e("option",ms,r(s("general_saving")),1),e("option",ps,r(s("custom")),1)],512),[[Te,a(l).type]]),a(l).errors.type?(d(),u("p",xs,[i(a(T),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.type),1)])):x("",!0)]),e("div",null,[e("label",_s,r(s("target_amount")),1),i(Ue,{modelValue:a(l).target_amount,"onUpdate:modelValue":n[2]||(n[2]=t=>a(l).target_amount=t),currency:a(l).currency,placeholder:"0.00"},null,8,["modelValue","currency"]),a(l).errors.target_amount?(d(),u("p",hs,[i(a(T),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.target_amount),1)])):x("",!0)]),e("div",null,[e("label",gs,r(s("target_deadline")),1),z(e("input",{"onUpdate:modelValue":n[3]||(n[3]=t=>a(l).target_date=t),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm",min:new Date().toISOString().split("T")[0]},null,8,bs),[[q,a(l).target_date]]),a(l).errors.target_date?(d(),u("p",vs,[i(a(T),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.target_date),1)])):x("",!0)])]),e("div",null,[e("div",fs,[e("label",ws,r(s("allocate_wallets")),1),e("span",ys,r(s("select_wallets_hint")),1)]),e("div",ks,[e("div",Cs,[(d(!0),u(M,null,R(H.wallets,t=>(d(),u("label",{key:t.id,class:C(["relative flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group hover:bg-slate-50",a(l).wallet_ids.includes(t.id)?"border-indigo-500 bg-indigo-50":"border-slate-100 bg-slate-50/30"])},[z(e("input",{type:"checkbox",value:t.id,"onUpdate:modelValue":n[4]||(n[4]=c=>a(l).wallet_ids=c),class:"hidden"},null,8,Ss),[[je,a(l).wallet_ids]]),e("div",{class:C(["w-2 h-2 rounded-full flex-shrink-0",A(t.type)])},null,2),e("div",Ds,[e("span",Ts,r(t.name),1),e("span",js,r(a(b)(t.balance,t.currency).split(",")[0]),1)]),a(l).wallet_ids.includes(t.id)?(d(),E(a(me),{key:0,class:"absolute top-1 right-1 w-3 h-3 text-indigo-600"})):x("",!0)],2))),128))])]),a(l).errors.wallet_ids?(d(),u("p",Is,[i(a(T),{class:"w-3.5 h-3.5"}),_(" "+r(a(l).errors.wallet_ids),1)])):x("",!0)]),e("div",null,[e("label",Es,r(s("notes_optional")),1),z(e("textarea",{"onUpdate:modelValue":n[5]||(n[5]=t=>a(l).notes=t),rows:"2",placeholder:s("notes_placeholder"),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-medium text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all resize-none"},null,8,Ms),[[q,a(l).notes]])]),e("div",zs,[e("button",{type:"button",onClick:I,class:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-700 px-6 py-4 rounded-xl font-bold text-sm transition-all"},r(s("cancel")),1),e("button",{type:"submit",disabled:a(l).processing,class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-4 rounded-xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl transition-all"},r(y.value?s("update_goal"):s("create_goal_btn")),9,$s)])],32)])])])):x("",!0)])),(d(),E(ne,{to:"body"},[w.value&&m.value?(d(),u("div",Us,[e("div",{onClick:n[6]||(n[6]=t=>w.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",Bs,[e("div",Os,[e("div",Rs,[e("div",{class:C(["w-14 h-14 md:w-16 md:h-16 rounded-2xl md:rounded-3xl flex items-center justify-center bg-gradient-to-br text-white shadow-lg shrink-0",te(m.value.type)])},[(d(),E(re(Q(m.value.type)),{class:"w-7 h-7 md:w-8 md:h-8"}))],2),e("div",null,[e("h2",Vs,r(m.value.name),1),e("div",Fs,[e("span",Gs,r(s(ee(m.value.type))),1),m.value.target_date?(d(),u("span",Ls,[i(a(de),{class:"w-3.5 h-3.5"}),_(" "+r(new Date(m.value.target_date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})),1)])):x("",!0)])])]),e("button",{onClick:n[7]||(n[7]=t=>w.value=!1),class:"p-3 hover:bg-white rounded-2xl text-slate-400 hover:text-slate-900 transition-all border border-transparent hover:border-slate-100 shadow-sm hover:shadow-md"},[i(a(pe),{class:"w-6 h-6"})])]),e("div",Ns,[e("div",Ps,[e("div",As,[e("span",qs,r(s("total_saved")),1),e("h3",Ws,r(a(b)(k(m.value),m.value.currency).split(",")[0]),1)]),e("div",Js,[e("span",Hs,r(s("target_remaining")),1),e("h3",Ys,r(a(b)(m.value.target_amount-k(m.value),m.value.currency).split(",")[0]),1)])]),e("div",Zs,[e("h3",Xs,[i(a(W),{class:"w-4 h-4 text-slate-400"}),_(" "+r(s("wallet_allocations")),1)]),e("div",Ks,[e("div",Qs,[(d(!0),u(M,null,R(m.value.wallets,t=>(d(),u("div",{key:t.id,class:"flex items-center gap-3 p-3 bg-slate-50 rounded-2xl border border-slate-100 transition-all hover:bg-white hover:shadow-sm"},[e("div",{class:C(["w-2 h-2 rounded-full flex-shrink-0",A(t.type)])},null,2),e("div",eo,[e("span",to,r(t.name),1),e("span",so,r(a(b)(t.balance,t.currency).split(",")[0]),1)])]))),128))])])]),m.value.notes?(d(),u("div",oo,[e("span",ao,[i(a(T),{class:"w-4 h-4"}),_(" "+r(s("notes")),1)]),e("p",lo,'"'+r(m.value.notes)+'"',1)])):x("",!0),e("div",ro,[e("button",{onClick:n[8]||(n[8]=t=>{Z(m.value),w.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-xl font-bold text-sm transition-colors"},[i(a(ce),{class:"w-4 h-4"}),_(" "+r(s("edit")),1)]),e("button",{onClick:n[9]||(n[9]=t=>{X(m.value),w.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 rounded-xl font-bold text-sm transition-colors"},[i(a(ue),{class:"w-4 h-4"}),_(" "+r(s("delete")),1)])])])])])):x("",!0)])),i(Be,{show:N.value,onClose:n[10]||(n[10]=t=>N.value=!1),title:s("upsell_goals_title"),description:s("upsell_goals_desc")},null,8,["show","title","description"])]),_:1})],64))}},vo=Oe(no,[["__scopeId","data-v-41c40c51"]]);export{vo as default};
