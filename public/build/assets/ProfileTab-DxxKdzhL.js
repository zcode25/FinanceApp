import{J as k,r as j,j as n,q as e,k as p,l as t,s as l,u as I,L as U,K as m,I as L,v as f,M as x,x as c}from"./vendor-COAloQYc.js";import{t as h,U as C,a7 as M,a8 as D,a9 as N,M as $,o as A}from"./ui-D5A2uRRy.js";const J={class:"grid grid-cols-1 xl:grid-cols-2 gap-8"},O={class:"w-full bg-white rounded-3xl p-6 pb-12 md:p-8 border border-slate-100 shadow-sm relative overflow-hidden h-fit"},R={class:"flex items-center gap-6 mb-10"},q={class:"p-3.5 rounded-2xl bg-indigo-50 text-indigo-600 border border-indigo-100 shadow-sm"},z={class:"text-xl font-bold text-slate-900 leading-none mb-1.5"},K={class:"text-sm font-semibold text-slate-400"},G={class:"flex items-center gap-6 p-6 bg-slate-50/50 rounded-2xl border border-slate-100"},H={class:"w-20 h-20 rounded-full overflow-hidden bg-slate-100 ring-4 ring-white shadow-xl shadow-slate-200/50 group-hover:ring-indigo-600 transition-all duration-300"},Q=["src"],W={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-tr from-indigo-500 to-indigo-700 text-2xl font-bold text-white"},X={class:"absolute inset-0 bg-indigo-900/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-sm"},Y={class:"text-[11px] text-slate-400 font-semibold mt-3 ml-1"},Z={key:0,class:"text-rose-500 text-[11px] font-bold mt-2 ml-1"},ee={class:"space-y-6"},te={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},se={class:"relative group"},oe={key:0,class:"text-rose-500 text-[11px] font-bold mt-2 ml-1"},ae={class:"flex items-center justify-between mb-2 ml-1"},le={class:"block text-xs font-bold text-slate-700"},re={key:0,class:"flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-lg border border-emerald-100 shadow-sm shadow-emerald-50/50 transition-all hover:scale-105"},ie={class:"text-[10px] font-black tracking-wider"},de={class:"relative group"},ne={key:0,class:"text-rose-500 text-[11px] font-bold mt-2 ml-1"},ce={class:"pt-8 border-t border-slate-50 flex justify-end"},ue=["disabled"],pe={class:"w-full bg-white rounded-3xl p-6 pb-12 md:p-8 border border-slate-100 shadow-sm relative overflow-hidden h-fit"},me={class:"flex items-center gap-6 mb-10"},be={class:"p-3.5 rounded-2xl bg-slate-50 text-slate-900 border border-slate-100 shadow-sm"},fe={class:"text-xl font-bold text-slate-900 leading-none mb-1.5"},xe={class:"text-sm font-semibold text-slate-400"},ge={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},ve={key:0,class:"text-rose-500 text-[11px] font-bold mt-2 ml-1"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},he={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},we={key:0,class:"text-rose-400 text-[11px] font-bold mt-2 ml-1"},ye={class:"block text-xs font-bold text-slate-700 mb-2 ml-1"},ke={class:"pt-8 border-t border-slate-50 flex justify-end"},je=["disabled"],Te={__name:"ProfileTab",props:{user:Object},setup(_){const T=I(),o=r=>T.props.translations?.[r]||r,V=h.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",h.stopTimer),r.addEventListener("mouseleave",h.resumeTimer)}}),g=(r,a="success")=>{V.fire({icon:a,title:r,background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})},u=_,s=k({name:u.user.name,email:u.user.email,avatar:null}),i=k({current_password:"",password:"",password_confirmation:""}),v=j(null),b=j(u.user.avatar?`/media/${u.user.avatar}`:null),w=()=>{v.value.click()},S=r=>{const a=r.target.files[0];if(a){if(a.size>1024*1024){s.setError("avatar",o("avatar_max")),s.avatar=null,v.value.value="",b.value=u.user.avatar?`/media/${u.user.avatar}`:null;return}if(!["image/jpeg","image/png","image/jpg"].includes(a.type)){s.setError("avatar",o("avatar_mimes")),s.avatar=null,v.value.value="",b.value=u.user.avatar?`/media/${u.user.avatar}`:null;return}s.clearErrors("avatar"),s.avatar=a;const y=new FileReader;y.onload=P=>{b.value=P.target.result},y.readAsDataURL(a)}},E=()=>{if(s.errors.avatar){g(s.errors.avatar,"error");return}s.post("/settings/profile",{preserveScroll:!0,onSuccess:()=>{g(o("profile_updated"))},onError:r=>{r.avatar&&g(r.avatar,"error")}})},B=()=>{i.put("/settings/password",{preserveScroll:!0,onSuccess:()=>{i.reset(),g(o("password_updated"))}})},F=r=>r?r.charAt(0).toUpperCase():"U";return(r,a)=>(c(),n("div",J,[e("div",O,[e("div",R,[e("div",q,[p(t(C),{class:"w-6 h-6"})]),e("div",null,[e("h3",z,l(o("profile_security")),1),e("p",K,l(o("public_profile_desc")),1)])]),e("form",{onSubmit:U(E,["prevent"]),class:"space-y-8"},[e("div",G,[e("div",{class:"relative group cursor-pointer",onClick:w},[e("div",H,[b.value?(c(),n("img",{key:0,src:b.value,class:"w-full h-full object-cover"},null,8,Q)):(c(),n("div",W,l(F(_.user.name)),1))]),e("div",X,[p(t(M),{class:"w-6 h-6 text-white"})]),e("input",{type:"file",ref_key:"fileInput",ref:v,class:"hidden",accept:"image/*",onChange:S},null,544)]),e("div",null,[e("button",{type:"button",onClick:w,class:"px-5 py-2.5 bg-white hover:bg-indigo-600 hover:text-white rounded-xl text-slate-900 font-bold transition-all flex items-center gap-2.5 border border-slate-100 shadow-sm active:scale-95 text-sm"},[p(t(D),{class:"w-4 h-4"}),a[5]||(a[5]=L()),e("span",null,l(o("change_avatar")),1)]),e("p",Y,l(o("avatar_help")),1),t(s).errors.avatar?(c(),n("div",Z,l(t(s).errors.avatar),1)):m("",!0)])]),e("div",ee,[e("div",null,[e("label",te,l(o("full_name")),1),e("div",se,[p(t(C),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-4.5 h-4.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),f(e("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>t(s).name=d),type:"text",class:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-12 pr-4 py-3 text-slate-900 placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm",placeholder:"John Doe"},null,512),[[x,t(s).name]])]),t(s).errors.name?(c(),n("div",oe,l(t(s).errors.name),1)):m("",!0)]),e("div",null,[e("div",ae,[e("label",le,l(o("email_address")),1),_.user.email_verified_at?(c(),n("div",re,[p(t(N),{class:"w-3.5 h-3.5 fill-emerald-50"}),e("span",ie,l(o("verified")),1)])):m("",!0)]),e("div",de,[p(t($),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-4.5 h-4.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),f(e("input",{"onUpdate:modelValue":a[1]||(a[1]=d=>t(s).email=d),type:"email",readonly:"",class:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-12 pr-4 py-3 text-slate-400 cursor-not-allowed font-semibold text-sm",placeholder:"john@example.com"},null,512),[[x,t(s).email]])]),t(s).errors.email?(c(),n("div",ne,l(t(s).errors.email),1)):m("",!0)])]),e("div",ce,[e("button",{type:"submit",disabled:t(s).processing,class:"w-full md:w-auto px-8 py-3.5 bg-indigo-600 text-white rounded-xl font-bold transition-all shadow-lg shadow-indigo-100 hover:bg-indigo-700 active:scale-95 disabled:opacity-50"},l(t(s).processing?o("saving"):o("save_changes")),9,ue)])],32)]),e("div",pe,[e("div",me,[e("div",be,[p(t(A),{class:"w-6 h-6"})]),e("div",null,[e("h3",fe,l(o("update_password")),1),e("p",xe,l(o("security_desc")),1)])]),e("form",{onSubmit:U(B,["prevent"]),class:"space-y-8"},[e("div",null,[e("label",ge,l(o("current_password")),1),f(e("input",{"onUpdate:modelValue":a[2]||(a[2]=d=>t(i).current_password=d),type:"password",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[x,t(i).current_password]]),t(i).errors.current_password?(c(),n("div",ve,l(t(i).errors.current_password),1)):m("",!0)]),e("div",_e,[e("div",null,[e("label",he,l(o("new_password")),1),f(e("input",{"onUpdate:modelValue":a[3]||(a[3]=d=>t(i).password=d),type:"password",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[x,t(i).password]]),t(i).errors.password?(c(),n("div",we,l(t(i).errors.password),1)):m("",!0)]),e("div",null,[e("label",ye,l(o("confirm_password")),1),f(e("input",{"onUpdate:modelValue":a[4]||(a[4]=d=>t(i).password_confirmation=d),type:"password",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[x,t(i).password_confirmation]])])]),e("div",ke,[e("button",{type:"submit",disabled:t(i).processing,class:"w-full md:w-auto px-8 py-3.5 bg-slate-900 text-white rounded-xl font-bold transition-all shadow-lg shadow-slate-200 hover:bg-slate-800 active:scale-95 disabled:opacity-50"},l(t(i).processing?o("updating"):o("update_password")),9,je)])],32)])]))}};export{Te as default};
