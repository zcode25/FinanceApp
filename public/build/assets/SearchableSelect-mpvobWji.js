import{j as o,q as i,K as u,v as w,M as C,r as p,G as c,A as f,s as v,k as V,l as h,I as S,F as N,y as $,C as z,x as a}from"./vendor-COAloQYc.js";import{af as B,r as L}from"./ui--a78tfA0.js";const O={class:"relative"},j=["placeholder"],D={key:0,class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},F={class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},q={key:0,class:"text-rose-500 text-xs mt-1 font-medium ml-1 flex items-center gap-1.5"},A={key:1,class:"absolute z-[100] w-full mt-2 max-h-60 overflow-auto bg-white border border-slate-200 rounded-2xl shadow-3xl py-2 transform transition-all animate-in fade-in slide-in-from-top-2 duration-200"},M=["onClick"],T={class:"text-sm"},U={key:0,class:"px-5 py-4 text-slate-400 text-xs font-semibold text-center"},K={__name:"SearchableSelect",props:{modelValue:[String,Number],options:{type:Array,required:!0},placeholder:{type:String,default:"Select option..."},theme:{type:String,default:"light"},error:{type:String,default:""}},emits:["update:modelValue"],setup(s,{emit:g}){const b=s,y=g,r=p(!1),n=p(""),m=f(()=>(b.options||[]).map(e=>typeof e=="object"&&e!==null?e:{label:e,value:e})),x=f(()=>n.value?m.value.filter(e=>e.label.toLowerCase().includes(n.value.toLowerCase())):m.value),d=f(()=>{const e=m.value.find(t=>t.value===b.modelValue);return e?e.label:""}),k=e=>{y("update:modelValue",e.value),r.value=!1,n.value=""};return(e,t)=>(a(),o("div",O,[i("div",{class:"w-full relative cursor-pointer",onClick:t[3]||(t[3]=l=>r.value=!0)},[w(i("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>n.value=l),class:c(["w-full px-4 py-3 pr-10 cursor-pointer overflow-hidden truncate",[s.theme==="dark"?"bg-white/5 border-white/10 text-white placeholder-indigo-300/50 rounded-2xl border backdrop-blur-md focus:ring-0 focus:border-white/20 transition-all font-semibold text-sm":"bg-slate-50 border border-slate-200 text-slate-900 placeholder-slate-400 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all font-semibold text-sm",s.error?"!border-rose-500 focus:!border-rose-500 focus:!ring-rose-500/20":""]]),placeholder:r.value&&!d.value?e.__("search_placeholder"):d.value?"":s.placeholder,onFocus:t[1]||(t[1]=l=>r.value=!0)},null,42,j),[[C,n.value]]),d.value&&!n.value&&!r.value?(a(),o("div",D,[i("span",{class:c([s.theme==="dark"?"text-white":"text-slate-900","font-semibold text-sm"])},v(d.value),3)])):u("",!0),d.value&&!n.value&&!r.value?(a(),o("div",{key:1,class:"absolute inset-0 bg-transparent",onClick:t[2]||(t[2]=l=>{r.value=!0,n.value=""})})):u("",!0),i("span",F,[V(h(B),{class:c([s.theme==="dark"?"text-indigo-400":"text-slate-400","w-5 h-5 transition-colors"])},null,8,["class"])])]),s.error?(a(),o("p",q,[t[5]||(t[5]=i("span",{class:"w-1.5 h-1.5 rounded-full bg-rose-500 inline-block"},null,-1)),S(" "+v(s.error),1)])):u("",!0),r.value?(a(),o("div",A,[(a(!0),o(N,null,$(x.value,l=>(a(),o("div",{key:l.value,onClick:E=>k(l),class:c(["px-5 py-3 hover:bg-slate-50 cursor-pointer flex items-center justify-between group transition-colors",{"bg-indigo-50 text-indigo-600 font-semibold":s.modelValue===l.value,"text-slate-900 font-medium":s.modelValue!==l.value}])},[i("span",T,v(l.label),1),s.modelValue===l.value?(a(),z(h(L),{key:0,class:"w-4 h-4"})):u("",!0)],10,M))),128)),x.value.length===0?(a(),o("div",U,v(e.__("no_results_found")),1)):u("",!0)])):u("",!0),r.value?(a(),o("div",{key:2,onClick:t[4]||(t[4]=l=>r.value=!1),class:"fixed inset-0 z-40 bg-transparent cursor-default"})):u("",!0)]))}};export{K as _};
