import{r as j,a as q,w as A,f as D,u as oe,i as re,j as n,k as u,l as c,m as ne,p as S,q as e,s,v as ie,z as de,C as B,B as ce,A as M,G as x,x as o,H as K,K as I,I as y,F as p,y as f,D as G,T as ue}from"./vendor-COAloQYc.js";import{_ as he}from"./Layout-C8IGggX3.js";import{C as be,W as U,a as Z,y as X,Z as W,j as J,k as Q,P as me,X as pe,l as ge}from"./ui--a78tfA0.js";/* empty css               */import{_ as xe}from"./PremiumUpsellModal-BcgFPKlL.js";import{f as k}from"./formatCurrency-CRcwQRlL.js";import{s as _e}from"./app-BPhUsr0D.js";/* empty css            */const ve={class:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-6 relative z-30"},fe={class:"space-y-1"},ye={class:"text-2xl md:text-3xl font-bold text-slate-900 tracking-tight"},ke={class:"text-base text-slate-500 font-medium"},we={class:"flex items-center gap-4"},je={id:"step-tracker-range",class:"w-full md:w-56 relative"},Ce={value:"3m"},ze={value:"6m"},Se={value:"1y"},Me={value:"all"},Ie={class:"max-w-[1600px] space-y-8"},Pe={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-8 md:mb-12"},$e={class:"bg-white rounded-2xl border border-slate-100 p-8 space-y-6"},De={class:"space-y-4"},Te={class:"flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-3 gap-4 md:gap-6 mb-8 md:mb-12 -mx-4 px-4 md:mx-0 md:px-0 no-scrollbar md:overflow-visible"},Fe={id:"step-tracker-total",class:"relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-200 min-w-[90vw] md:min-w-0 snap-center"},Ne={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Be={class:"relative z-10"},Ue={class:"flex items-center gap-3 mb-6"},We={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},Le={class:"font-bold text-lg text-white/90 tracking-tight"},Re={class:"space-y-1"},Ee={class:"text-3xl font-bold tracking-tight tabular-nums"},He={class:"text-indigo-100 font-medium text-sm"},Oe={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Ve={class:"relative z-10"},qe={class:"flex items-center gap-3 mb-6"},Ae={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},Ke={class:"font-bold text-lg text-white/90 tracking-tight"},Ge={class:"space-y-1"},Ze={class:"text-3xl font-bold tracking-tight tabular-nums"},Xe={class:"text-white/80 font-medium text-sm"},Je={class:"relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-purple-500 to-violet-600 text-white shadow-lg shadow-purple-200 min-w-[90vw] md:min-w-0 snap-center"},Qe={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Ye={class:"relative z-10"},et={class:"flex items-center gap-3 mb-6"},tt={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},st={class:"font-bold text-lg text-white/90 tracking-tight"},at={class:"space-y-1"},lt={class:"text-3xl font-bold tracking-tight tabular-nums"},ot={class:"text-purple-100 font-medium text-sm"},rt={key:0},nt={id:"step-tracker-matrix",class:"hidden md:flex bg-white overflow-hidden shadow-sm rounded-2xl border border-slate-100 flex-col mb-12 relative"},it={class:"p-6 border-b border-slate-100 flex justify-between items-center"},dt={class:"font-bold text-lg text-slate-800"},ct={key:0,class:"absolute inset-0 z-40 flex flex-col items-center justify-center text-center p-8 bg-white/40 backdrop-blur-[12px] rounded-2xl"},ut={class:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-xl shadow-indigo-100 mb-5 border border-indigo-50 animate-bounce-subtle"},ht={class:"text-slate-900 font-black text-xl mb-2 tracking-tight"},bt={class:"text-sm text-slate-600 mb-8 max-w-[340px] font-medium leading-relaxed"},mt={class:"w-full text-left text-sm whitespace-nowrap"},pt={class:"bg-slate-50/50 text-slate-500"},gt={scope:"col",class:"sticky left-0 z-20 bg-slate-50 px-6 py-4 font-bold border-b border-r border-slate-200 min-w-[200px] shadow-[4px_0_24px_-2px_rgba(0,0,0,0.05)]"},xt={class:"divide-y divide-slate-100 bg-white"},_t={class:"flex items-center gap-3"},vt={class:"block text-sm font-bold leading-tight"},ft={class:"flex flex-col items-end gap-1"},yt={class:"text-sm font-semibold tracking-tight text-slate-900"},kt={key:1,class:"text-[10px] font-medium text-slate-400"},wt={class:"bg-indigo-50/30 font-bold border-t-2 border-indigo-100"},jt={class:"sticky left-0 z-10 bg-indigo-50 px-6 py-4 text-slate-900 border-r border-indigo-100/50"},Ct={class:"text-sm font-bold ml-7"},zt={class:"bg-slate-50/50 border-t border-slate-100"},St={class:"sticky left-0 z-10 bg-slate-50 px-6 py-4 text-slate-900 font-medium border-r border-slate-100"},Mt={class:"text-sm font-semibold ml-7"},It={class:"bg-slate-50/50 border-t border-slate-100"},Pt={class:"sticky left-0 z-10 bg-slate-50 px-6 py-4 text-slate-900 font-medium border-r border-slate-100"},$t={class:"text-sm font-semibold ml-7"},Dt={class:"md:hidden space-y-4 mb-24 relative"},Tt={key:0,class:"absolute inset-0 z-40 flex flex-col items-center justify-center text-center p-6 bg-white/60 backdrop-blur-md rounded-[2rem] border-2 border-dashed border-indigo-100 min-h-[400px]"},Ft={class:"w-14 h-14 bg-white rounded-2xl flex items-center justify-center shadow-xl shadow-indigo-100 mb-4 border border-indigo-50 animate-bounce-subtle"},Nt={class:"text-slate-900 font-black text-lg mb-1"},Bt={class:"text-xs text-slate-600 mb-6 max-w-[240px] font-medium leading-relaxed"},Ut=["onClick"],Wt={class:"flex items-center gap-3"},Lt={class:"text-[14px] font-bold text-slate-900 leading-tight"},Rt={class:"text-xs font-semibold text-slate-400 mt-0.5 capitalize"},Et={class:"text-right"},Ht={class:"text-[14px] font-bold text-slate-900 tabular-nums"},Ot={class:"flex items-center justify-end gap-1 mt-0.5"},Vt={key:1,class:"text-[10px] font-bold px-1.5 py-0.5 text-slate-400"},qt={key:1,class:"bg-white border border-slate-100 rounded-[2rem] p-12 md:p-20 text-center space-y-6 shadow-sm animate-in fade-in zoom-in duration-500"},At={class:"w-16 h-16 bg-slate-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-100"},Kt={class:"space-y-1"},Gt={class:"text-base font-bold text-slate-900"},Zt={class:"text-slate-500 max-w-sm mx-auto font-medium text-sm"},Xt={class:"flex flex-col sm:flex-row gap-4 justify-center pt-2"},Jt={key:0,class:"fixed inset-0 z-[100] flex items-end justify-center sm:items-center p-0 sm:p-4"},Qt={class:"relative z-10 w-full max-w-lg bg-white rounded-t-[2.5rem] sm:rounded-3xl shadow-2xl animate-in slide-in-from-bottom duration-300 overflow-hidden flex flex-col max-h-[85vh]"},Yt={key:0},es={class:"p-6 md:p-8 border-b border-slate-100 flex items-center justify-between bg-white shrink-0 sticky top-0 z-20"},ts={class:"flex items-center gap-4"},ss={class:"w-12 h-12 flex items-center justify-center shrink-0"},as={class:"text-xl font-bold text-slate-900 leading-tight"},ls={class:"text-sm text-slate-500 font-medium capitalize"},os={class:"overflow-y-auto p-0 md:p-0 custom-scrollbar"},rs={class:"w-full text-left text-sm whitespace-nowrap"},ns={class:"bg-slate-50 text-slate-500 sticky top-0 z-10"},is={class:"px-6 py-3 font-bold border-b border-slate-200"},ds={class:"px-6 py-3 font-bold border-b border-slate-200 text-right"},cs={class:"px-6 py-3 font-bold border-b border-slate-200 text-right"},us={class:"divide-y divide-slate-100 bg-white"},hs={class:"px-6 py-4 font-bold text-slate-700"},bs={class:"px-6 py-4 text-right font-bold text-slate-900 tabular-nums"},ms={class:"px-6 py-4 text-right tabular-nums"},ps={class:"text-xs"},gs={key:1,class:"text-slate-400 text-xs"},z=`<div class="mt-4 flex justify-start">
    <button onclick="window.dispatchEvent(new CustomEvent('skip-tour'))" class="text-[11px] font-semibold text-slate-400 hover:text-rose-500 transition-colors">Skip Tutorial</button>
</div>`,Cs={__name:"Index",props:{periods:{type:Array,default:()=>[]},deferred_data:Object,filters:Object,is_premium:Boolean},setup(i){const v=j(null),T=oe(),l=(r,a={})=>{let t=T.props.translations?.[r]||r;return Object.keys(a).forEach(d=>{t=t.replace(`:${d}`,a[d])}),t},h=i,b=M(()=>({matrix:h.deferred_data?.matrix||[],totals:h.deferred_data?.totals||{}})),F=j(!1),L=j("Premium Feature"),R=j("Unlock this feature with the Professional Plan."),E=(r,a)=>{L.value=r,R.value=a,F.value=!0},w=j(h.filters.range||"6m");q(()=>{N()}),A(w,r=>{D.get(_e("tracker"),{range:r},{preserveState:!0,preserveScroll:!0,only:["periods","deferred_data","filters"]})});const H=(r,a)=>a==null?"text-slate-500":r>a?"text-emerald-600 font-bold":r<a?"text-rose-600 font-bold":"text-slate-500",Y=(r,a)=>a==null?"":r>a?"↑":r<a?"↓":"-",O=M(()=>{if(h.periods.length===0)return 0;const r=h.periods.length-1,a=h.periods[r].key;return b.value.totals[a]||0}),ee=M(()=>{if(h.periods.length===0)return 0;const r=h.periods[0].key;return b.value.totals[r]||0}),C=M(()=>O.value-ee.value),V=M(()=>h.periods.length<=1?0:C.value/(h.periods.length-1)),P=j(!1),m=j(null),te=r=>{window.innerWidth<768&&(m.value=r,P.value=!0)},se=r=>{if(!h.periods.length)return 0;const a=h.periods[h.periods.length-1].key;return r[a]||0},$=r=>{if(h.periods.length<2)return{value:0,percent:0};const a=h.periods[h.periods.length-1].key,t=h.periods[h.periods.length-2].key,d=r[a]||0,g=r[t]||0,_=d-g,le=g!==0?_/Math.abs(g)*100:0;return{value:_,percent:le,hasPrevious:g!==0}},ae=()=>{const r=window.innerWidth<768,a=[];a.push({element:"#step-tracker-range",popover:{title:`<span class="text-lg font-bold">${l("tour_tracker_range_title")}</span>`,description:l("tour_tracker_range_desc")+z,side:"bottom",align:"start"}}),a.push({element:"#step-tracker-total",popover:{title:`<span class="text-lg font-bold">${l("tour_tracker_total_title")}</span>`,description:l("tour_tracker_total_desc")+z,side:"bottom",align:"start"}}),a.push({element:r?"#step-tracker-mobile-list":"#step-tracker-matrix",popover:{title:`<span class="text-lg font-bold">${l("tour_tracker_matrix_title")}</span>`,description:r?l("tour_tracker_mobile_list_desc")+z:l("tour_tracker_matrix_desc")+z,side:"bottom",align:"start"}}),a.push({element:r?"#mobile-nav-home":"#nav-reports",popover:{title:r?l("tour_return_hub_title"):`<span class="text-lg font-bold">${l("tour_return_reports_title")}</span>`,description:r?l("tour_return_hub_desc")+z:l("tour_return_reports_desc")+z,side:"bottom",align:"start"}}),v.value=ge({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,stagePadding:10,onNextClick:()=>{v.value.isLastStep()?(r?(localStorage.setItem("tour_state","hub_to_reports"),D.visit("/dashboard")):(localStorage.setItem("tour_state","reports_intro"),D.visit("/reports")),v.value.destroy()):v.value.moveNext()},steps:a}),v.value.drive()},N=()=>{const r=localStorage.getItem("tour_state"),a=T.props.auth.user.has_completed_tour,t=["welcome","wallet_setup","transaction_setup","dashboard_explanation","analysis_intro","budget_setup","goals_setup","categories_setup","hub_to_tracker","tracker_intro"];if(!(v.value&&document.querySelector(".driver-popover"))&&(!r||r&&t.includes(r))){if(!r||r!=="tracker_intro"){if(!r&&a)return;localStorage.setItem("tour_state","tracker_intro")}const d=document.querySelector(".driver-popover"),g=document.querySelector(".driver-overlay");d&&d.remove(),g&&g.remove(),setTimeout(ae,800)}};return q(()=>{N(),window.addEventListener("skip-tour",()=>{localStorage.removeItem("tour_state"),v.value&&v.value.destroy(),D.post("/user/complete-tour",{},{preserveScroll:!0,preserveState:!0})})}),re(()=>{v.value&&v.value.destroy()}),A(()=>T.url,()=>{N()}),(r,a)=>(o(),n(p,null,[u(c(ne),{title:l("tracker_title")},null,8,["title"]),u(he,null,{default:S(()=>[e("header",ve,[e("div",fe,[e("h1",ye,s(l("tracker_title")),1),e("p",ke,s(l("tracker_desc")),1)]),e("div",we,[e("div",je,[ie(e("select",{"onUpdate:modelValue":a[0]||(a[0]=t=>w.value=t),class:"appearance-none bg-white border border-slate-200 text-slate-900 rounded-xl px-6 py-3 pr-12 font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer hover:bg-slate-50 transition-all shadow-sm w-full"},[e("option",Ce,s(l("time_range_3m")),1),e("option",ze,s(l("time_range_6m"))+s(i.is_premium?"":" (Pro)"),1),e("option",Se,s(l("time_range_1y"))+s(i.is_premium?"":" (Pro)"),1),e("option",Me,s(l("time_range_all"))+s(i.is_premium?"":" (Pro)"),1)],512),[[de,w.value]]),u(c(be),{class:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})])])]),e("div",Ie,[u(c(ce),{data:"deferred_data"},{fallback:S(()=>[e("div",Pe,[(o(),n(p,null,f(3,t=>e("div",{key:t,class:"h-40 bg-slate-50 rounded-[2rem] animate-pulse border border-slate-100 flex flex-col justify-between p-8"},[...a[6]||(a[6]=[e("div",{class:"w-12 h-12 bg-slate-100 rounded-2xl"},null,-1),e("div",{class:"space-y-3"},[e("div",{class:"w-24 h-4 bg-slate-100 rounded-lg"}),e("div",{class:"w-40 h-8 bg-slate-200 rounded-lg"})],-1)])])),64))]),e("div",$e,[a[9]||(a[9]=e("div",{class:"flex items-center justify-between"},[e("div",{class:"h-8 w-48 bg-slate-50 rounded-lg animate-pulse"}),e("div",{class:"h-8 w-8 bg-slate-50 rounded-lg animate-pulse"})],-1)),e("div",De,[a[8]||(a[8]=e("div",{class:"flex gap-4 pb-4 border-b border-slate-50"},[e("div",{class:"w-1/4 h-6 bg-slate-50 rounded animate-pulse"}),e("div",{class:"w-1/4 h-6 bg-slate-50 rounded animate-pulse"}),e("div",{class:"w-1/4 h-6 bg-slate-50 rounded animate-pulse"}),e("div",{class:"w-1/4 h-6 bg-slate-50 rounded animate-pulse"})],-1)),(o(),n(p,null,f(5,t=>e("div",{key:t,class:"flex gap-4 py-2"},[...a[7]||(a[7]=[e("div",{class:"w-1/4 flex items-center gap-3"},[e("div",{class:"w-8 h-8 rounded-full bg-slate-50 animate-pulse"}),e("div",{class:"w-24 h-4 bg-slate-50 rounded animate-pulse"})],-1),e("div",{class:"w-1/4 h-6 bg-slate-50 rounded animate-pulse"},null,-1),e("div",{class:"w-1/4 h-6 bg-slate-50 rounded animate-pulse"},null,-1),e("div",{class:"w-1/4 h-6 bg-slate-50 rounded animate-pulse"},null,-1)])])),64))])])]),default:S(()=>[e("div",Te,[e("div",Fe,[e("div",Ne,[u(c(U),{class:"w-32 h-32 text-white"})]),e("div",Be,[e("div",Ue,[e("div",We,[u(c(U),{class:"w-6 h-6 text-white"})]),e("h3",Le,s(l("current_net_worth")),1)]),e("div",Re,[e("h2",Ee,s(c(k)(O.value,"IDR").split(",")[0]),1),e("p",He,s(l("aggregated_balance")),1)])])]),e("div",{class:x(["relative overflow-hidden rounded-[2rem] p-8 text-white shadow-lg transition-all duration-300 min-w-[90vw] md:min-w-0 snap-center",C.value>=0?"bg-gradient-to-br from-emerald-500 to-teal-600 shadow-emerald-200":"bg-gradient-to-br from-rose-500 to-pink-600 shadow-rose-200"])},[e("div",Oe,[(o(),B(K(C.value>=0?c(Z):c(X)),{class:"w-32 h-32 text-white"}))]),e("div",Ve,[e("div",qe,[e("div",Ae,[(o(),B(K(C.value>=0?c(Z):c(X)),{class:"w-6 h-6 text-white"}))]),e("h3",Ke,s(l("period_progress")),1)]),e("div",Ge,[e("h2",Ze,s(C.value>=0?"+":"")+s(c(k)(C.value,"IDR").split(",")[0]),1),e("p",Xe,s(l("period_change_desc")),1)])])],2),e("div",Je,[e("div",Qe,[u(c(W),{class:"w-32 h-32 text-white"})]),e("div",Ye,[e("div",et,[e("div",tt,[u(c(W),{class:"w-6 h-6 text-white"})]),e("h3",st,s(l("avg_monthly_growth")),1)]),e("div",at,[e("h2",lt,s(V.value>=0?"+":"")+s(c(k)(V.value,"IDR").split(",")[0]),1),e("p",ot,s(l("monthly_performance")),1)])])])]),b.value.matrix.length>0?(o(),n("div",rt,[e("div",nt,[e("div",it,[e("h3",dt,s(l("historical_matrix")),1)]),!i.is_premium&&w.value!=="3m"?(o(),n("div",ct,[e("div",ut,[u(c(J),{class:"w-8 h-8 text-amber-500"})]),e("h4",ht,s(l("unlock_history_title")),1),e("p",bt,s(l("unlock_history_desc")),1),e("button",{onClick:a[1]||(a[1]=t=>E(l("unlock_history_title"),l("unlock_history_desc"))),class:"px-8 py-4 bg-emerald-600 text-white rounded-2xl text-sm font-black shadow-xl shadow-emerald-200 hover:bg-emerald-700 transition-all active:scale-95 flex items-center gap-2 group"},[u(c(Q),{class:"w-4 h-4 group-hover:rotate-12 transition-transform"}),y(" "+s(l("unlock_history_btn")),1)])])):I("",!0),e("div",{class:x(["relative overflow-x-auto",{"blur-[8px] select-none pointer-events-none":!i.is_premium&&w.value!=="3m"}])},[e("table",mt,[e("thead",pt,[e("tr",null,[e("th",gt,s(l("asset_wallet")),1),(o(!0),n(p,null,f(i.periods,t=>(o(),n("th",{key:t.key,scope:"col",class:"px-8 py-4 font-semibold border-b border-slate-100 text-right min-w-[160px]"},s(t.label),1))),128))])]),e("tbody",xt,[(o(!0),n(p,null,f(b.value.matrix,(t,d)=>(o(),n("tr",{key:t.id,class:x(["group transition-all duration-200",d%2===0?"bg-white":"bg-slate-50/30"])},[e("td",{class:x(["sticky left-0 z-10 px-6 py-5 font-bold text-slate-700 border-r border-slate-100 transition-colors duration-200",d%2===0?"bg-white group-hover:bg-slate-50":"bg-slate-50 group-hover:bg-slate-100"])},[e("div",_t,[e("div",{class:x(["w-2 h-2 rounded-full",t.type==="bank"?"bg-orange-400":t.type==="ewallet"?"bg-purple-400":"bg-emerald-400"])},null,2),e("div",null,[e("span",vt,s(t.name),1)])])],2),(o(!0),n(p,null,f(i.periods,(g,_)=>(o(),n("td",{key:g.key,class:x(["px-8 py-5 text-right tabular-nums transition-colors duration-200",d%2===0?"group-hover:bg-slate-50/50":"group-hover:bg-slate-100/50"])},[e("div",ft,[e("span",yt,s(c(k)(t.balances[g.key],t.currency||"IDR").split(",")[0]),1),_>0&&t.balances[i.periods[_-1].key]!==0?(o(),n("span",{key:0,class:x(["text-[10px] font-medium",H(t.balances[g.key],t.balances[i.periods[_-1].key])])},s(t.balances[g.key]>t.balances[i.periods[_-1].key]?"▲":t.balances[g.key]<t.balances[i.periods[_-1].key]?"▼":"")+" "+s(Math.abs((t.balances[g.key]-t.balances[i.periods[_-1].key])/Math.abs(t.balances[i.periods[_-1].key])*100).toFixed(1))+"% ",3)):_>0&&t.balances[g.key]!==0?(o(),n("span",kt," - ")):I("",!0)])],2))),128))],2))),128)),e("tr",wt,[e("td",jt,[e("span",Ct,s(l("total_net_worth")),1)]),(o(!0),n(p,null,f(i.periods,(t,d)=>(o(),n("td",{key:t.key,class:"px-8 py-4 text-right text-slate-900 text-sm tabular-nums"},s(c(k)(b.value.totals[t.key],"IDR").split(",")[0]),1))),128))]),e("tr",zt,[e("td",St,[e("span",Mt,s(l("monthly_change")),1)]),(o(!0),n(p,null,f(i.periods,(t,d)=>(o(),n("td",{key:t.key,class:"px-8 py-4 text-right tabular-nums font-bold text-sm text-slate-900"},[d>0?(o(),n(p,{key:0},[y(s(b.value.totals[t.key]-b.value.totals[i.periods[d-1].key]>=0?"+":"")+s(c(k)(b.value.totals[t.key]-b.value.totals[i.periods[d-1].key],"IDR").split(",")[0]),1)],64)):(o(),n(p,{key:1},[y("-")],64))]))),128))]),e("tr",It,[e("td",Pt,[e("span",$t,s(l("growth_pct")),1)]),(o(!0),n(p,null,f(i.periods,(t,d)=>(o(),n("td",{key:t.key,class:x(["px-8 py-4 text-right tabular-nums font-bold text-sm",d>0?b.value.totals[t.key]-b.value.totals[i.periods[d-1].key]>=0?"text-emerald-500":"text-rose-500":"text-slate-400"])},[d>0&&b.value.totals[i.periods[d-1].key]!==0?(o(),n(p,{key:0},[y(s(b.value.totals[t.key]-b.value.totals[i.periods[d-1].key]>=0?"▲":"▼")+" "+s(Math.abs((b.value.totals[t.key]-b.value.totals[i.periods[d-1].key])/Math.abs(b.value.totals[i.periods[d-1].key])*100).toFixed(1))+"% ",1)],64)):d>0?(o(),n(p,{key:1},[y("-")],64)):(o(),n(p,{key:2},[y("-")],64))],2))),128))])])])],2)]),e("div",Dt,[!i.is_premium&&w.value!=="3m"?(o(),n("div",Tt,[e("div",Ft,[u(c(J),{class:"w-7 h-7 text-amber-500"})]),e("h4",Nt,s(l("professional_history")),1),e("p",Bt,s(l("professional_history_desc")),1),e("button",{onClick:a[2]||(a[2]=t=>E(l("professional_history"),l("professional_history_desc"))),class:"px-6 py-3.5 bg-emerald-600 text-white rounded-xl text-xs font-black shadow-lg shadow-emerald-200 active:scale-95 transition-all flex items-center gap-2"},[u(c(Q),{class:"w-4 h-4"}),y(" "+s(l("upgrade_now")),1)])])):I("",!0),e("div",{id:"step-tracker-mobile-list",class:x({"blur-md opacity-50 pointer-events-none select-none":!i.is_premium&&w.value!=="3m"})},[(o(!0),n(p,null,f(b.value.matrix,t=>(o(),n("div",{key:t.id,onClick:d=>te(t),class:"bg-white rounded-[1.5rem] p-5 shadow-sm border border-slate-200 active:scale-[0.98] transition-all cursor-pointer flex items-center justify-between group mb-4"},[e("div",Wt,[e("div",{class:x(["w-2.5 h-2.5 rounded-full shrink-0",t.type==="bank"?"bg-orange-400":t.type==="ewallet"?"bg-purple-400":"bg-emerald-400"])},null,2),e("div",null,[e("h3",Lt,s(t.name),1),e("p",Rt,s(t.type),1)])]),e("div",Et,[e("p",Ht,s(c(k)(se(t.balances),t.currency).split(",")[0]),1),e("div",Ot,[$(t.balances).hasPrevious?(o(),n("span",{key:0,class:x(["text-[10px] font-bold px-1.5 py-0.5 rounded-md flex items-center gap-0.5",$(t.balances).value>=0?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"])},s($(t.balances).value>=0?"▲":"▼")+" "+s(Math.abs($(t.balances).percent).toFixed(1))+"% ",3)):(o(),n("span",Vt," - "))])])],8,Ut))),128))],2)])])):(o(),n("div",qt,[e("div",At,[u(c(W),{class:"w-8 h-8 text-slate-300"})]),e("div",Kt,[e("h2",Gt,s(l("no_tracking_data")),1),e("p",Zt,s(l("no_tracking_desc")),1)]),e("div",Xt,[u(c(G),{href:"/transactions",class:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3.5 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2"},{default:S(()=>[u(c(me),{class:"w-4 h-4"}),e("span",null,s(l("add_transactions")),1)]),_:1}),u(c(G),{href:"/wallets",class:"bg-white hover:bg-slate-50 text-slate-600 px-8 py-3.5 rounded-2xl font-bold text-sm border border-slate-200 shadow-sm active:scale-95 transition-all flex items-center justify-center gap-2"},{default:S(()=>[u(c(U),{class:"w-4 h-4"}),e("span",null,s(l("manage_wallets")),1)]),_:1})])]))]),_:1}),(o(),B(ue,{to:"body"},[P.value?(o(),n("div",Jt,[e("div",{onClick:a[3]||(a[3]=t=>P.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",Qt,[m.value?(o(),n("div",Yt,[e("div",es,[e("div",ts,[e("div",ss,[e("div",{class:x(["w-3 h-3 rounded-full",m.value.type==="bank"?"bg-orange-400":m.value.type==="ewallet"?"bg-purple-400":"bg-emerald-400"])},null,2)]),e("div",null,[e("h2",as,s(m.value.name),1),e("p",ls,s(l("history_modal_title",{type:m.value.type})),1)])]),e("button",{onClick:a[4]||(a[4]=t=>P.value=!1),class:"p-2 bg-slate-50 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all border border-slate-100"},[u(c(pe),{class:"w-6 h-6"})])]),e("div",os,[e("table",rs,[e("thead",ns,[e("tr",null,[e("th",is,s(l("period")),1),e("th",ds,s(l("balance")),1),e("th",cs,s(l("change")),1)])]),e("tbody",us,[(o(!0),n(p,null,f([...i.periods].reverse(),(t,d)=>(o(),n("tr",{key:t.key},[e("td",hs,s(t.label),1),e("td",bs,s(c(k)(m.value.balances[t.key],m.value.currency).split(",")[0]),1),e("td",ms,[d<i.periods.length-1?(o(),n("div",{key:0,class:x(["flex items-center justify-end gap-1",H(m.value.balances[t.key],m.value.balances[[...i.periods].reverse()[d+1].key])])},[y(s(Y(m.value.balances[t.key],m.value.balances[[...i.periods].reverse()[d+1].key]))+" ",1),e("span",ps,s(m.value.balances[[...i.periods].reverse()[d+1].key]!==0?Math.abs((m.value.balances[t.key]-m.value.balances[[...i.periods].reverse()[d+1].key])/Math.abs(m.value.balances[[...i.periods].reverse()[d+1].key])*100).toFixed(1)+"%":"-"),1)],2)):(o(),n("span",gs,"-"))])]))),128))])])])])):I("",!0)])])):I("",!0)]))]),u(xe,{show:F.value,onClose:a[5]||(a[5]=t=>F.value=!1),title:L.value,description:R.value},null,8,["show","title","description"])]),_:1})],64))}};export{Cs as default};
