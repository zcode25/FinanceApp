const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-Bmz1MiBV.js","assets/vendor-COAloQYc.js","assets/app-DwMN8-H6.js","assets/app-STX5VHOd.css","assets/ui--a78tfA0.js"])))=>i.map(i=>d[i]);
import{a as de,f as V,j as k,q as a,K as $,k as E,p as U,l as v,D as S,v as ue,L as fe,r as he,s as w,A as T,u as pe,G as D,C as O,H as q,I as Y,F as X,y as N,x as p,Q as ge}from"./vendor-COAloQYc.js";import{a as me,s as z}from"./app-DwMN8-H6.js";import{a9 as ee,a3 as be,Y as ve,k as we,s as xe,e as ye,j as F,Z as _e,R as ke,ah as te,w as M,W as Le,b as se,T as Ce,Q as Pe,a as Ee,V as $e}from"./ui--a78tfA0.js";var A;(function(s){s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE"})(A||(A={}));class K extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const Oe=s=>{var e,t;return s?.androidBridge?"android":!((t=(e=s?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},je=s=>{const e=s.CapacitorCustomPlatform||null,t=s.Capacitor||{},r=t.Plugins=t.Plugins||{},n=()=>e!==null?e.name:Oe(s),i=()=>n()!=="web",u=d=>{const f=x.get(d);return!!(f?.platforms.has(n())||h(d))},h=d=>{var f;return(f=t.PluginHeaders)===null||f===void 0?void 0:f.find(o=>o.name===d)},g=d=>s.console.error(d),x=new Map,j=(d,f={})=>{const o=x.get(d);if(o)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),o.proxy;const c=n(),l=h(d);let L;const oe=async()=>(!L&&c in f?L=typeof f[c]=="function"?L=await f[c]():L=f[c]:e!==null&&!L&&"web"in f&&(L=typeof f.web=="function"?L=await f.web():L=f.web),L),le=(m,b)=>{var _,C;if(l){const P=l?.methods.find(y=>b===y.name);if(P)return P.rtype==="promise"?y=>t.nativePromise(d,b.toString(),y):(y,B)=>t.nativeCallback(d,b.toString(),y,B);if(m)return(_=m[b])===null||_===void 0?void 0:_.bind(m)}else{if(m)return(C=m[b])===null||C===void 0?void 0:C.bind(m);throw new K(`"${d}" plugin is not implemented on ${c}`,A.Unimplemented)}},H=m=>{let b;const _=(...C)=>{const P=oe().then(y=>{const B=le(y,m);if(B){const W=B(...C);return b=W?.remove,W}else throw new K(`"${d}.${m}()" is not implemented on ${c}`,A.Unimplemented)});return m==="addListener"&&(P.remove=async()=>b()),P};return _.toString=()=>`${m.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:m,writable:!1,configurable:!1}),_},Q=H("addListener"),Z=H("removeListener"),ce=(m,b)=>{const _=Q({eventName:m},b),C=async()=>{const y=await _;Z({eventName:m,callbackId:y},b)},P=new Promise(y=>_.then(()=>y({remove:C})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await C()},P},I=new Proxy({},{get(m,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return l?ce:Q;case"removeListener":return Z;default:return H(b)}}});return r[d]=I,x.set(d,{name:d,proxy:I,platforms:new Set([...Object.keys(f),...l?[c]:[]])}),I};return t.convertFileSrc||(t.convertFileSrc=d=>d),t.getPlatform=n,t.handleError=g,t.isNativePlatform=i,t.isPluginAvailable=u,t.registerPlugin=j,t.Exception=K,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},Ae=s=>s.Capacitor=je(s),G=Ae(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),R=G.registerPlugin;class J{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const u=async()=>this.removeListener(e,t);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const n=this.listeners[e];if(!n){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}return}n.forEach(i=>i(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new G.Exception(e,A.Unimplemented)}unavailable(e="not available"){return new G.Exception(e,A.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const n=r.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const re=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ae=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ue extends J{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[n,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=ae(n).trim(),i=ae(i).trim(),t[n]=i}),t}async setCookie(e){try{const t=re(e.key),r=re(e.value),n=e.expires?`; expires=${e.expires.replace("expires=","")}`:"",i=(e.path||"/").replace("path=",""),u=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${n}; path=${i}; ${u};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}R("CapacitorCookies",{web:()=>new Ue});const Se=async s=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const n=r.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},r.onerror=n=>t(n),r.readAsDataURL(s)}),Te=(s={})=>{const e=Object.keys(s);return Object.keys(s).map(n=>n.toLocaleLowerCase()).reduce((n,i,u)=>(n[i]=s[e[u]],n),{})},De=(s,e=!0)=>s?Object.entries(s).reduce((r,n)=>{const[i,u]=n;let h,g;return Array.isArray(u)?(g="",u.forEach(x=>{h=e?encodeURIComponent(x):x,g+=`${i}=${h}&`}),g.slice(0,-1)):(h=e?encodeURIComponent(u):u,g=`${i}=${h}`),`${r}&${g}`},"").substr(1):null,Be=(s,e={})=>{const t=Object.assign({method:s.method||"GET",headers:s.headers},e),n=Te(s.headers)["content-type"]||"";if(typeof s.data=="string")t.body=s.data;else if(n.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[u,h]of Object.entries(s.data||{}))i.set(u,h);t.body=i.toString()}else if(n.includes("multipart/form-data")||s.data instanceof FormData){const i=new FormData;if(s.data instanceof FormData)s.data.forEach((h,g)=>{i.append(g,h)});else for(const h of Object.keys(s.data))i.append(h,s.data[h]);t.body=i;const u=new Headers(t.headers);u.delete("content-type"),t.headers=u}else(n.includes("application/json")||typeof s.data=="object")&&(t.body=JSON.stringify(s.data));return t};class We extends J{async request(e){const t=Be(e,e.webFetchExtra),r=De(e.params,e.shouldEncodeUrlParams),n=r?`${e.url}?${r}`:e.url,i=await fetch(n,t),u=i.headers.get("content-type")||"";let{responseType:h="text"}=i.ok?e:{};u.includes("application/json")&&(h="json");let g,x;switch(h){case"arraybuffer":case"blob":x=await i.blob(),g=await Se(x);break;case"json":g=await i.json();break;default:g=await i.text()}const j={};return i.headers.forEach((d,f)=>{j[f]=d}),{data:g,headers:j,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}R("CapacitorHttp",{web:()=>new We});var ne;(function(s){s.Dark="DARK",s.Light="LIGHT",s.Default="DEFAULT"})(ne||(ne={}));var ie;(function(s){s.StatusBar="StatusBar",s.NavigationBar="NavigationBar"})(ie||(ie={}));class Fe extends J{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}R("SystemBars",{web:()=>new Fe});const Re=R("App",{web:()=>me(()=>import("./web-Bmz1MiBV.js"),__vite__mapDeps([0,1,2,3,4])).then(s=>new s.AppWeb)}),He={class:"min-h-screen bg-slate-50 text-slate-900 font-sans flex flex-col relative overflow-x-hidden"},Ie={class:"sticky top-0 z-50 bg-white/70 backdrop-blur-xl border-b border-slate-100 px-6 py-4"},Ve={class:"max-w-[1600px] mx-auto flex items-center justify-between gap-8"},qe={class:"flex items-center gap-6"},ze={class:"flex items-center gap-4"},Me={class:"relative"},Ke={class:"text-right hidden lg:block"},Ge={class:"flex items-center justify-end gap-1.5 pb-0.5"},Je={class:"text-sm font-bold text-slate-900 group-hover:text-indigo-600 transition-colors"},Qe={class:"flex items-center justify-end gap-1"},Ze={class:"text-[10px] font-semibold text-slate-400"},Ye={class:"w-10 h-10 rounded-xl overflow-hidden ring-2 ring-transparent group-hover:ring-indigo-100 transition-all shadow-sm"},Xe=["src","alt"],Ne={key:1,class:"w-full h-full bg-slate-100 flex items-center justify-center text-slate-400 font-bold"},et={key:0,class:"absolute right-0 mt-3 w-64 bg-white rounded-2xl shadow-2xl border border-slate-100 py-2 z-[60] animate-in fade-in slide-in-from-top-2 duration-200"},tt={class:"px-4 py-3 border-b border-slate-50 mb-2"},st={class:"flex items-center gap-1.5 mb-1"},rt={class:"text-sm font-bold text-slate-900 leading-none"},at={class:"flex items-center gap-1 min-w-0"},nt={class:"text-xs font-medium text-slate-400 truncate"},it={key:0,class:"bg-slate-900 border-b border-white/10 px-6 py-2.5 animate-in slide-in-from-top duration-500 relative z-[45]"},ot={class:"max-w-[1600px] mx-auto flex items-center justify-between gap-4"},lt={class:"flex items-center gap-4"},ct={class:"w-9 h-9 rounded-xl bg-white/10 backdrop-blur-md flex items-center justify-center shrink-0 border border-white/10"},dt={class:"space-y-0.5"},ut={class:"text-xs font-bold text-white leading-none"},ft={class:"text-[10px] font-medium text-slate-400"},ht={class:"hidden lg:flex bg-white/70 backdrop-blur-xl border-b border-slate-100 px-6 sticky top-[73px] z-40 overflow-x-auto no-scrollbar"},pt={class:"max-w-[1600px] w-full mx-auto flex items-center gap-8 pl-0"},gt={key:0,class:"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-full"},mt={class:"flex-1 max-w-[1600px] mx-auto w-full px-4 lg:px-6 py-8 relative z-10"},bt={class:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-slate-100 px-6 py-4 pb-[calc(2rem + env(safe-area-inset-bottom))] shadow-[0_-8px_30_rgba(0,0,0,0.08)] rounded-t-[2.5rem]"},vt={class:"flex items-center justify-around"},wt={class:"text-[10px] font-bold tracking-tight"},kt={__name:"Layout",setup(s){const e=pe(),t=o=>e.props.translations?.[o]||o,r=T(()=>e.props.auth.user),n=he(!1),i=T(()=>{if(!r.value?.is_premium)return F;switch(r.value.current_plan_id){case 2:return ke;case 3:return F;case 4:return _e;default:return F}}),u=T(()=>{if(!r.value?.is_premium)return"bg-slate-50 text-slate-400 border-slate-100";switch(r.value.current_plan_id){case 2:return"bg-indigo-50 text-indigo-600 border-indigo-100";case 3:return"bg-emerald-50 text-emerald-600 border-emerald-100";case 4:return"bg-purple-50 text-purple-600 border-purple-100";default:return"bg-indigo-50 text-indigo-600 border-indigo-100"}}),h=T(()=>[{id:"dashboard",name:t("dashboard"),href:"/dashboard",icon:te},{id:"transactions",name:t("transactions"),href:"/transactions",icon:M},{id:"wallets",name:t("wallets"),href:"/wallets",icon:Le},{id:"analysis",name:t("analysis"),href:"/analysis",icon:se},{id:"budget",name:t("budget"),href:"/budget",icon:M},{id:"goals",name:t("goals"),href:"/goals",icon:Ce},{id:"categories",name:t("categories"),href:"/categories",icon:Pe},{id:"tracker",name:t("tracker"),href:"/tracker",icon:Ee},{id:"reports",name:t("reports"),href:"/reports",icon:$e},{id:"subscription",name:t("subscription"),href:"/subscription",icon:F}]),g=T(()=>[{id:"home",name:t("home"),href:"/dashboard",icon:te},{id:"transactions",name:t("transactions"),href:"/transactions",icon:M},{id:"analysis",name:t("analysis"),href:"/analysis",icon:se}]),x=()=>{V.post(z("logout"))},j=()=>{localStorage.removeItem("tour_state"),n.value=!1,V.visit("/dashboard?restart_tour=true")},d={mounted(o,c){o.clickOutsideEvent=l=>{o===l.target||o.contains(l.target)||c.value(l)},document.addEventListener("click",o.clickOutsideEvent)},unmounted(o){document.removeEventListener("click",o.clickOutsideEvent)}},f=o=>o?o.startsWith("http")?o:o.startsWith("avatars/")?`/media/${o}`:`/media/avatars/${o}`:null;return de(()=>{Re.addListener("appUrlOpen",o=>{const c=o.url.split(".id").pop();c&&V.visit(c)})}),(o,c)=>(p(),k("div",He,[a("header",Ie,[a("div",Ve,[a("div",qe,[E(v(S),{href:"/dashboard",class:"flex items-center gap-2"},{default:U(()=>[...c[2]||(c[2]=[a("div",{class:"flex items-center justify-center transition-all hover:scale-110"},[a("img",{src:"/img/logo_vibefinance.png",class:"h-7 w-auto object-contain",alt:"VibeFinance Logo"})],-1),a("div",{class:"flex flex-col leading-tight"},[a("span",{class:"text-xl tracking-tight text-slate-900",style:{"font-family":"'Outfit', sans-serif"}},[a("span",{class:"font-semibold"},"Vibe"),a("span",{class:"font-light text-indigo-600"},"Finance")]),a("span",{class:"text-[9px] font-medium text-slate-400"},"Powered by terasweb.id")],-1)])]),_:1})]),a("div",ze,[c[4]||(c[4]=a("div",{class:"w-px h-6 bg-slate-100 mx-2 hidden sm:block"},null,-1)),a("div",Me,[a("div",{onClick:c[0]||(c[0]=fe(l=>n.value=!n.value,["stop"])),class:"flex items-center gap-3 pl-2 group cursor-pointer"},[a("div",Ke,[a("div",Ge,[a("p",Je,w(r.value?.name||t("user")),1),r.value?.is_premium?(p(),k("div",{key:0,class:D([u.value,"w-6 h-6 rounded-lg flex items-center justify-center border shadow-sm"])},[(p(),O(q(i.value),{class:"w-3.5 h-3.5 fill-current opacity-80"}))],2)):$("",!0)]),a("div",Qe,[r.value?.email_verified_at?(p(),O(v(ee),{key:0,class:"w-2.5 h-2.5 text-emerald-500 fill-emerald-50"})):$("",!0),a("p",Ze,w(r.value?.email),1)])]),a("div",Ye,[r.value?.avatar?(p(),k("img",{key:0,src:f(r.value.avatar),class:"w-full h-full object-cover",alt:r.value.name},null,8,Xe)):(p(),k("div",Ne,w(r.value?.name?r.value.name.charAt(0).toUpperCase():"U"),1))]),E(v(be),{class:D(["w-4 h-4 text-slate-400 transition-transform duration-200",{"rotate-180":n.value}])},null,8,["class"])]),n.value?ue((p(),k("div",et,[a("div",tt,[a("div",st,[a("p",rt,w(r.value?.name),1),r.value?.is_premium?(p(),k("div",{key:0,class:D([u.value,"w-5 h-5 rounded-md flex items-center justify-center border shadow-sm"])},[(p(),O(q(i.value),{class:"w-3 h-3 fill-current opacity-80"}))],2)):$("",!0)]),a("div",at,[r.value?.email_verified_at?(p(),O(v(ee),{key:0,class:"w-3 h-3 text-emerald-500 fill-emerald-50 shrink-0"})):$("",!0),a("p",nt,w(r.value?.email),1)])]),E(v(S),{href:v(z)("settings.index"),class:"flex items-center gap-3 px-4 py-2.5 text-sm font-semibold text-slate-600 hover:bg-slate-50 hover:text-indigo-600 transition-all",onClick:c[1]||(c[1]=l=>n.value=!1)},{default:U(()=>[E(v(ve),{class:"w-4 h-4"}),a("span",null,w(t("settings")),1)]),_:1},8,["href"]),a("button",{onClick:j,class:"w-full flex items-center gap-3 px-4 py-2.5 text-sm font-semibold text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all text-left"},[E(v(we),{class:"w-4 h-4"}),a("span",null,w(t("restart_product_tour")),1)]),c[3]||(c[3]=a("div",{class:"my-2 border-t border-slate-50"},null,-1)),a("button",{onClick:x,class:"w-full flex items-center gap-3 px-4 py-2.5 text-sm font-bold text-rose-600 hover:bg-rose-50 transition-all"},[E(v(xe),{class:"w-4 h-4"}),a("span",null,w(t("logout")),1)])])),[[d,()=>n.value=!1]]):$("",!0)])])])]),r.value&&!r.value.email_verified_at?(p(),k("div",it,[a("div",ot,[a("div",lt,[a("div",ct,[E(v(ye),{class:"w-5 h-5 text-amber-400"})]),a("div",dt,[a("p",ut,w(t("security_check_required")),1),a("p",ft,w(t("verify_email_desc")),1)])]),E(v(S),{href:v(z)("verification.notice"),class:"px-5 py-2 bg-white hover:bg-slate-50 text-slate-900 text-[10px] font-bold rounded-xl transition-all active:scale-95 shadow-lg shadow-black/20"},{default:U(()=>[Y(w(t("verify_now")),1)]),_:1},8,["href"])])])):$("",!0),a("nav",ht,[a("div",pt,[(p(!0),k(X,null,N(h.value,l=>(p(),O(v(S),{key:l.name,href:l.href,prefetch:"",id:`nav-${l.id}`,class:D(["relative py-4 text-sm font-semibold transition-all whitespace-nowrap",o.$page.url.split("?")[0]===l.href?"text-indigo-600":"text-slate-400 hover:text-slate-600"])},{default:U(()=>[Y(w(l.name)+" ",1),o.$page.url.split("?")[0]===l.href?(p(),k("div",gt)):$("",!0)]),_:2},1032,["href","id","class"]))),128))])]),a("main",mt,[c[5]||(c[5]=a("div",{class:"absolute -top-40 -left-40 w-96 h-96 bg-indigo-50 rounded-full blur-[100px] pointer-events-none opacity-50"},null,-1)),ge(o.$slots,"default")]),a("div",bt,[a("nav",vt,[(p(!0),k(X,null,N(g.value,l=>(p(),O(v(S),{key:l.name,href:l.href,prefetch:"",id:`mobile-nav-${l.id}`,class:D(["flex flex-col items-center gap-1.5 transition-all active:scale-95",o.$page.url.split("?")[0]===l.href?"text-indigo-600":"text-slate-400"])},{default:U(()=>[(p(),O(q(l.icon),{class:"w-6 h-6","stroke-width":o.$page.url.split("?")[0]===l.href?2.5:2},null,8,["stroke-width"])),a("span",wt,w(l.name),1)]),_:2},1032,["href","id","class"]))),128))])])]))}};export{J as W,kt as _};
