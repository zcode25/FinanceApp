import{c as x,f as h,F as Y,g as ne,s as ee,i as S,u as l,x as nt,o as m,S as oe,U as rt,r as R,w as X,j as Z,A as lt,l as it,m as dt,k as ct,a as b,h as ut,b as mt,d as e,t,q,e as B,v as J,p as je,z,y as pt,C as xt,T as Ie,R as ft}from"./app-aa3v-XVd.js";import{_ as bt}from"./Layout-Is_FaQT2.js";import{A as Ce}from"./driver-B4w0q6_T.js";import{_ as _t}from"./CurrencyInput-WCuQLyLj.js";import{_ as gt}from"./CategoryCombobox-BlZsF2AM.js";import{S as De,_ as ht}from"./SearchableSelect-BDf-A5KI.js";import{_ as vt}from"./PremiumUpsellModal-DapA4M29.js";import{S as L}from"./sweetalert2.esm.all-BQxta0Da.js";import{P as Re}from"./plus-oOxaFN-o.js";import{a as ae}from"./wallet--qZt9krU.js";import{T as ie}from"./trending-down-Dp1XIdkX.js";import{c as yt}from"./createLucideIcon-Dr50qJAF.js";import{F as Oe}from"./funnel-D0o0CpRo.js";import{X as de}from"./x-B1qAroA-.js";import{P as $e}from"./pencil-Dh_fF80p.js";import{T as qe}from"./trash-2-xtKfbWC0.js";import{C as wt}from"./chevron-down-CDeS_W2K.js";import{A as kt}from"./activity-YTIwG8dm.js";/* empty css            */import"./badge-check-CrNdBgu7.js";import"./zap-B2Yra1kU.js";import"./log-out-P_Zk0Qrl.js";import"./chevrons-up-down-B9Hmjdgt.js";import"./check-EyqMZQXq.js";const Le=yt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Tt={key:0,class:"flex items-center gap-1.5"},St=["innerHTML"],jt={__name:"Pagination",props:{links:Array},setup(u){const d=p=>p.includes("Previous")?"Prev":p.includes("Next")?"Next":p;return(p,c)=>u.links.length>3?(m(),x("div",Tt,[(m(!0),x(Y,null,ne(u.links,(f,w)=>(m(),x(Y,{key:w},[f.url===null?(m(),x("div",{key:0,class:"px-3 py-2 text-xs font-bold text-slate-300 select-none",innerHTML:d(f.label)},null,8,St)):(m(),ee(l(nt),{key:1,href:f.url,innerHTML:d(f.label),"preserve-scroll":"",class:S(["min-w-[38px] h-[38px] flex items-center justify-center px-3 py-2 text-xs font-bold rounded-xl border transition-all duration-300",[f.active?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100 ring-2 ring-indigo-600/10":"bg-white text-slate-500 border-slate-200 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100 hover:shadow-sm"]])},null,8,["href","innerHTML","class"]))],64))),128))])):h("",!0)}};var ce,Ee;function Ye(){if(Ee)return ce;Ee=1;function u(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}return ce=u,ce}var ue,Ne;function It(){if(Ne)return ue;Ne=1;var u=typeof oe=="object"&&oe&&oe.Object===Object&&oe;return ue=u,ue}var me,Ue;function Ke(){if(Ue)return me;Ue=1;var u=It(),d=typeof self=="object"&&self&&self.Object===Object&&self,p=u||d||Function("return this")();return me=p,me}var pe,Fe;function Ct(){if(Fe)return pe;Fe=1;var u=Ke(),d=function(){return u.Date.now()};return pe=d,pe}var xe,Me;function Dt(){if(Me)return xe;Me=1;var u=/\s/;function d(p){for(var c=p.length;c--&&u.test(p.charAt(c)););return c}return xe=d,xe}var fe,Pe;function Rt(){if(Pe)return fe;Pe=1;var u=Dt(),d=/^\s+/;function p(c){return c&&c.slice(0,u(c)+1).replace(d,"")}return fe=p,fe}var be,Be;function Qe(){if(Be)return be;Be=1;var u=Ke(),d=u.Symbol;return be=d,be}var _e,Ve;function Ot(){if(Ve)return _e;Ve=1;var u=Qe(),d=Object.prototype,p=d.hasOwnProperty,c=d.toString,f=u?u.toStringTag:void 0;function w(k){var y=p.call(k,f),v=k[f];try{k[f]=void 0;var i=!0}catch{}var j=c.call(k);return i&&(y?k[f]=v:delete k[f]),j}return _e=w,_e}var ge,Ae;function $t(){if(Ae)return ge;Ae=1;var u=Object.prototype,d=u.toString;function p(c){return d.call(c)}return ge=p,ge}var he,ze;function qt(){if(ze)return he;ze=1;var u=Qe(),d=Ot(),p=$t(),c="[object Null]",f="[object Undefined]",w=u?u.toStringTag:void 0;function k(y){return y==null?y===void 0?f:c:w&&w in Object(y)?d(y):p(y)}return he=k,he}var ve,Ge;function Lt(){if(Ge)return ve;Ge=1;function u(d){return d!=null&&typeof d=="object"}return ve=u,ve}var ye,He;function Et(){if(He)return ye;He=1;var u=qt(),d=Lt(),p="[object Symbol]";function c(f){return typeof f=="symbol"||d(f)&&u(f)==p}return ye=c,ye}var we,We;function Nt(){if(We)return we;We=1;var u=Rt(),d=Ye(),p=Et(),c=NaN,f=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,k=/^0o[0-7]+$/i,y=parseInt;function v(i){if(typeof i=="number")return i;if(p(i))return c;if(d(i)){var j=typeof i.valueOf=="function"?i.valueOf():i;i=d(j)?j+"":j}if(typeof i!="string")return i===0?i:+i;i=u(i);var C=w.test(i);return C||k.test(i)?y(i.slice(2),C?2:8):f.test(i)?c:+i}return we=v,we}var ke,Xe;function Ut(){if(Xe)return ke;Xe=1;var u=Ye(),d=Ct(),p=Nt(),c="Expected a function",f=Math.max,w=Math.min;function k(y,v,i){var j,C,G,F,I,D,O=0,E=!1,V=!1,s=!0;if(typeof y!="function")throw new TypeError(c);v=p(v)||0,u(i)&&(E=!!i.leading,V="maxWait"in i,G=V?f(p(i.maxWait)||0,v):G,s="trailing"in i?!!i.trailing:s);function M(g){var $=j,U=C;return j=C=void 0,O=g,F=y.apply(U,$),F}function _(g){return O=g,I=setTimeout(r,v),E?M(g):F}function H(g){var $=g-D,U=g-O,Q=v-$;return V?w(Q,G-U):Q}function te(g){var $=g-D,U=g-O;return D===void 0||$>=v||$<0||V&&U>=G}function r(){var g=d();if(te(g))return K(g);I=setTimeout(r,H(g))}function K(g){return I=void 0,s&&j?M(g):(j=C=void 0,F)}function se(){I!==void 0&&clearTimeout(I),O=0,j=D=C=I=void 0}function re(){return I===void 0?F:K(d())}function N(){var g=d(),$=te(g);if(j=arguments,C=this,D=g,$){if(I===void 0)return _(D);if(V)return clearTimeout(I),I=setTimeout(r,v),M(D)}return I===void 0&&(I=setTimeout(r,v)),F}return N.cancel=se,N.flush=re,N}return ke=k,ke}var Ft=Ut();const Je=rt(Ft),Mt={class:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-6 relative z-30"},Pt={class:"space-y-1"},Bt={class:"text-2xl md:text-3xl font-bold text-slate-900 tracking-tight"},Vt={class:"text-sm md:text-base text-slate-500 font-medium"},At={class:"overflow-x-auto lg:overflow-visible no-scrollbar -mx-4 px-4 lg:mx-0 lg:px-0 flex lg:grid lg:grid-cols-3 flex-nowrap gap-6 mb-8 lg:mb-10 scroll-smooth py-4 lg:py-0 -my-4 lg:my-0"},zt={class:"min-w-[85vw] lg:min-w-0 relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-emerald-500 to-teal-600 text-white shadow-lg shadow-emerald-200"},Gt={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},Ht={class:"relative z-10"},Wt={class:"flex items-center gap-3 mb-6"},Xt={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},Jt={class:"font-bold text-lg text-white/90 tracking-tight"},Yt={class:"space-y-1"},Kt={class:"text-3xl font-bold tracking-tight tabular-nums"},Qt={class:"flex items-center gap-2 text-emerald-100 font-medium text-sm"},Zt={class:"bg-white/20 px-2 py-0.5 rounded-lg text-white text-xs font-bold backdrop-blur-sm border border-white/10"},es={class:"min-w-[85vw] lg:min-w-0 relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-rose-500 to-pink-600 text-white shadow-lg shadow-rose-200"},ts={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},ss={class:"relative z-10"},os={class:"flex items-center gap-3 mb-6"},as={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},ns={class:"font-bold text-lg text-white/90 tracking-tight"},rs={class:"space-y-1"},ls={class:"text-3xl font-bold tracking-tight tabular-nums"},is={class:"flex items-center gap-2 text-rose-100 font-medium text-sm"},ds={class:"bg-white/20 px-2 py-0.5 rounded-lg text-white text-xs font-bold backdrop-blur-sm border border-white/10"},cs={class:"min-w-[85vw] lg:min-w-0 relative overflow-hidden rounded-[2rem] p-8 bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-200"},us={class:"absolute right-0 top-0 p-8 opacity-10 transform translate-x-1/4 -translate-y-1/4"},ms={class:"relative z-10"},ps={class:"flex items-center gap-3 mb-6"},xs={class:"p-3 bg-white/20 backdrop-blur-md rounded-2xl border border-white/20 shadow-inner"},fs={class:"font-bold text-lg text-white/90 tracking-tight"},bs={class:"space-y-1"},_s={class:"text-3xl font-bold tracking-tight tabular-nums"},gs={class:"flex items-center gap-2 text-indigo-100 font-medium text-sm"},hs={class:"bg-white/20 px-2 py-0.5 rounded-lg text-white text-xs font-bold backdrop-blur-sm border border-white/10"},vs={class:"mb-8 lg:mb-8 flex items-center justify-between gap-6"},ys={class:"relative flex-1 max-w-xl group"},ws=["placeholder"],ks={key:0,class:"glass-card mb-8 lg:mb-8 p-8 bg-white border border-slate-200 rounded-3xl shadow-xl shadow-slate-200/40 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 animate-in slide-in-from-top-4 duration-300"},Ts={class:"space-y-2"},Ss={class:"block text-xs font-bold text-slate-500 ml-1"},js={class:"relative group"},Is={value:""},Cs=["value"],Ds={class:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400 group-hover:text-slate-600 transition-colors"},Rs={class:"space-y-2"},Os={class:"block text-xs font-bold text-slate-500 ml-1"},$s={class:"flex p-1.5 bg-slate-50 rounded-xl border border-slate-200 h-[50px]"},qs={class:"space-y-2"},Ls={class:"block text-xs font-bold text-slate-500 ml-1"},Es={class:"space-y-2"},Ns={class:"block text-xs font-bold text-slate-500 ml-1"},Us={class:"sm:col-span-2 lg:col-span-4 flex justify-end pt-2"},Fs={id:"tour-transaction-list",class:""},Ms={key:0},Ps={class:"hidden md:block bg-white border border-slate-100 rounded-3xl shadow-sm mb-12 overflow-hidden"},Bs={class:"overflow-x-auto"},Vs={class:"w-full text-left"},As={class:"bg-slate-50/50 border-b border-slate-100"},zs={class:"text-xs font-bold text-slate-500 tracking-tight"},Gs={class:"px-6 py-4"},Hs={class:"px-6 py-4"},Ws={class:"px-6 py-4"},Xs={class:"px-6 py-4"},Js={class:"px-6 py-4 text-right px-8"},Ys={class:"px-6 py-4 text-right"},Ks={class:"divide-y divide-slate-50"},Qs={class:"px-6 py-4"},Zs={class:"text-sm font-semibold text-slate-700 whitespace-nowrap"},eo={class:"px-6 py-4"},to={class:"text-sm font-normal text-slate-900 group-hover:text-indigo-900 transition-colors"},so={class:"px-6 py-4"},oo={class:"flex items-center gap-2"},ao={class:"text-sm font-semibold text-slate-600"},no={class:"px-6 py-4"},ro={class:"px-6 py-4 text-right px-8"},lo={class:"space-y-1"},io={key:0,class:"text-[10px] text-slate-400 font-bold block"},co={class:"px-6 py-4 text-right"},uo={class:"flex items-center justify-end gap-2"},mo=["onClick"],po=["onClick"],xo={class:"px-8 py-5 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between"},fo={class:"flex items-center gap-4"},bo={class:"flex items-center gap-2"},_o={class:"text-xs font-bold text-slate-500"},go={value:10},ho={value:25},vo={value:50},yo={value:100},wo={class:"text-xs font-semibold text-slate-400"},ko={class:"md:hidden space-y-4 mb-4"},To=["onClick"],So={class:"flex justify-between items-start"},jo={class:"flex flex-col gap-1"},Io={class:"text-[10px] font-bold text-slate-400 tracking-wider"},Co={class:"text-[14px] font-bold text-slate-900 line-clamp-1 leading-tight mb-1.5"},Do={class:"flex items-center gap-2"},Ro={class:"text-[10px] font-semibold text-slate-400 flex items-center gap-1.5 whitespace-nowrap"},Oo={class:"text-right ml-4"},$o={key:0,class:"text-[9px] text-slate-400 font-bold block mt-0.5"},qo={class:"pb-24 flex items-center justify-center"},Lo={class:"md:hidden w-full px-4"},Eo=["disabled"],No={class:"flex items-center gap-3"},Uo={key:0,class:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"},Fo={key:1,class:"text-xs font-bold text-slate-400 py-2"},Mo={key:1,class:"bg-white border border-slate-100 rounded-[2rem] shadow-sm flex flex-col items-center justify-center py-20 text-center"},Po={class:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-100"},Bo={class:"text-slate-900 font-bold text-base mb-1"},Vo={class:"text-slate-500 text-sm mb-4"},Ao={key:0,class:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-4 overflow-y-auto"},zo={class:"relative z-10 w-full max-w-2xl max-h-[92vh] flex flex-col bg-white rounded-t-[2rem] sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 sm:zoom-in-95 duration-300"},Go={class:"p-6 md:p-8 border-b border-slate-200 flex items-center justify-between shrink-0"},Ho={class:"text-xl md:text-2xl font-bold text-slate-900 mb-1"},Wo={class:"text-xs md:text-sm text-slate-500 font-medium"},Xo={class:"p-6 md:p-8 overflow-y-auto flex-1"},Jo={class:"flex p-1.5 bg-slate-100 rounded-2xl border border-slate-200"},Yo={key:0,class:"mt-1 text-[11px] font-bold text-rose-500 ml-1"},Ko={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Qo={class:"block text-xs font-bold text-slate-700 mb-2"},Zo={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},ea={class:"block text-xs font-bold text-slate-700 mb-2"},ta={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},sa={class:"block text-xs font-bold text-slate-700 mb-2"},oa={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},aa={key:1,class:"p-5 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl border border-indigo-200 space-y-3"},na={class:"flex items-center justify-between"},ra={class:"block text-xs font-bold text-indigo-900"},la={class:"flex items-center gap-1.5 px-3 py-1 bg-indigo-500 text-xs font-bold text-white rounded-full shadow-sm"},ia=["placeholder"],da={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},ca={key:1,class:"flex items-center gap-2 text-sm font-bold text-indigo-700"},ua={class:"block text-xs font-bold text-slate-700 mb-2"},ma={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},pa={class:"block text-xs font-bold text-slate-700 mb-2"},xa={class:"text-slate-400 font-medium"},fa=["placeholder"],ba={key:0,class:"mt-2 text-[11px] font-bold text-rose-500 ml-1"},_a={class:"flex gap-3 pt-2"},ga={type:"submit",class:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-4 rounded-xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl transition-all"},ha={key:0,class:"fixed inset-0 z-[100] flex items-end justify-center sm:items-center p-0 sm:p-6"},va={class:"relative z-10 w-full max-w-full sm:max-w-sm bg-white rounded-t-[2.5rem] sm:rounded-3xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300"},ya={key:0,class:"p-6 space-y-6"},wa={class:"flex items-start justify-between"},ka={class:"space-y-1"},Ta={class:"text-xs font-bold text-slate-400"},Sa={class:"text-xs font-semibold text-slate-500"},ja={class:"text-center py-4"},Ia={key:0,class:"text-xs text-slate-400 font-bold mt-1 block"},Ca={class:"grid grid-cols-2 gap-4"},Da={class:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1"},Ra={class:"text-[10px] font-bold text-slate-400"},Oa={class:"flex items-center gap-2"},$a={class:"text-sm font-bold text-slate-700 truncate"},qa={class:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-1"},La={class:"text-[10px] font-bold text-slate-400"},Ea={class:"p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-2"},Na={class:"text-[10px] font-bold text-slate-400"},Ua={class:"text-sm font-medium text-slate-700 leading-relaxed break-words"},Fa={class:"grid grid-cols-2 gap-3 pt-2"},Te=`<div class="mt-4 flex justify-start">
    <button onclick="window.dispatchEvent(new CustomEvent('skip-tour'))" class="text-[11px] font-semibold text-slate-400 hover:text-rose-500 transition-colors">Skip Tutorial</button>
</div>`,cn={__name:"Index",props:{transactions:Object,categories:Array,wallets:Array,filters:Object,currentExchangeRate:Number,summary:Object},setup(u){const d=R(null),p=ct(),c=u,f=R(!1),w=R(!1),k=R(null),y=R(c.filters.search||""),v=R(!1),i=R(null),j=n=>{i.value=n,v.value=!0},C=R(!1),G=q(()=>!!p.props.auth.user.is_premium),F=q(()=>c.categories.filter(n=>n.user_id!==null).length),I=q(()=>G.value||F.value<3),D=R(c.transactions.data),O=R(c.transactions.next_page_url),E=R(!1);X(()=>c.transactions,n=>{D.value=n.data,O.value=n.next_page_url},{deep:!0});const V=async()=>{if(!(!O.value||E.value)){E.value=!0;try{const n=await ft.get(O.value,{headers:{"X-Inertia":"true","X-Inertia-Version":p.version,Accept:"application/json"}});let a=[],o=null;if(n.data.props&&n.data.props.transactions)a=n.data.props.transactions.data,o=n.data.props.transactions.next_page_url;else if(n.data.transactions)a=n.data.transactions.data,o=n.data.transactions.next_page_url;else if(n.data.data)a=n.data.data,o=n.data.next_page_url;else if(typeof n.data=="string")try{const T=n.data.match(/data-page="([^"]+)"/);if(T&&T[1]){const A=T[1].replace(/&quot;/g,'"').replace(/&amp;/g,"&"),P=JSON.parse(A);P.props&&P.props.transactions&&(a=P.props.transactions.data,o=P.props.transactions.next_page_url)}}catch(T){console.error("Failed to parse Inertia HTML response",T)}else a=Array.isArray(n.data)?n.data:[];if(Array.isArray(a)&&a.length>0){const T=new Set(D.value.map(P=>P.id)),A=a.filter(P=>!T.has(P.id));A.length>0&&(D.value=[...D.value,...A]),O.value=o}else console.warn("Load More: No valid transaction array found in response",n.data),o||(O.value=null)}catch(n){console.error("Failed to load more transactions",n),L.fire({toast:!0,position:"top-end",icon:"error",title:"Failed to load more transactions",showConfirmButton:!1,timer:3e3})}finally{E.value=!1}}},s=n=>p.props.translations?.[n]||n;X(y,Je(n=>{Z.get("/transactions",{search:n,wallet_id:_.value.wallet_id,type:_.value.type,start_date:_.value.start_date,end_date:_.value.end_date},{preserveState:!0,replace:!0,preserveScroll:!0})},300));const M=R(!1),_=R({wallet_id:c.filters.wallet_id||"",type:c.filters.type||"",start_date:c.filters.start_date||"",end_date:c.filters.end_date||"",per_page:c.filters.per_page||10}),H=q(()=>!!(y.value||_.value.wallet_id||_.value.type||_.value.start_date||_.value.end_date));X(_,Je(n=>{Z.get("/transactions",{search:y.value,...n},{preserveState:!0,replace:!0,preserveScroll:!0})},300),{deep:!0});const te=()=>{_.value={wallet_id:"",type:"",start_date:"",end_date:"",per_page:10}},r=lt({amount:"",category:"",type:"expense",date:new Date().toISOString().substr(0,10),description:"",wallet_id:"",exchange_rate:""}),K=()=>{w.value=!1,k.value=null,r.reset(),r.clearErrors(),r.date=new Date().toISOString().substr(0,10),r.type="expense",f.value=!0},se=n=>{w.value=!0,k.value=n.id,r.clearErrors(),r.amount=n.amount,r.category=n.category&&typeof n.category=="object"?n.category.name:n.category,r.type=n.type,r.date=n.date,r.description=n.description||"",r.wallet_id=n.wallet_id,f.value=!0},re=q(()=>c.wallets.map(n=>({value:n.id,label:n.name}))),N=q(()=>{if(!r.wallet_id)return"IDR";const n=c.wallets.find(a=>a.id===r.wallet_id);return n?n.currency:"IDR"}),g=q(()=>N.value!=="IDR"),$=q(()=>{if(!g.value||!r.amount)return"";const n=r.exchange_rate||c.currentExchangeRate||0,a=r.amount*n;return`≈ ${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a)}`});X(()=>r.wallet_id,n=>{if(n){const a=c.wallets.find(o=>o.id===n);a&&a.currency!=="IDR"?r.exchange_rate=c.currentExchangeRate||"":r.exchange_rate=""}});const U=n=>{switch(n){case"cash":return"bg-emerald-500";case"ewallet":return"bg-purple-500";case"bank":return"bg-orange-500";default:return"bg-indigo-500"}},Q=new Date;Q.toLocaleString("default",{month:"long",year:"numeric"}),Q.getDate();const Ze=q(()=>{if(!c.summary.total_income||c.summary.total_income<=0)return 0;const n=(c.summary.total_income-c.summary.total_expense)/c.summary.total_income*100;return Math.max(0,n)}),et=q(()=>c.summary.total_income_count||0),tt=q(()=>c.summary.total_expense_count||0),Se=n=>{L.fire({title:s("delete_transaction_title"),text:s("delete_transaction_text"),icon:"warning",showCancelButton:!0,confirmButtonText:s("yes_delete"),cancelButtonText:s("cancel"),customClass:{popup:"!rounded-[2rem] !p-10 !bg-white !shadow-2xl !border !border-slate-100 !font-sans !antialiased",title:"!text-xl !font-bold !text-slate-900 !pt-4 !pb-2 !px-0 !m-0 !leading-tight",htmlContainer:"!text-sm !font-semibold !text-slate-500 !leading-relaxed !pb-6 !px-0 !m-0",actions:"!flex !items-center !justify-center !gap-3 !mt-4 !w-full !px-0",confirmButton:"!inline-flex !items-center !justify-center !bg-rose-600 !text-white !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm hover:!shadow-rose-600/20 hover:!bg-rose-700 active:!scale-95 !border-none !outline-none !m-0 !cursor-pointer",cancelButton:"!inline-flex !items-center !justify-center !bg-slate-100 !text-slate-700 hover:!bg-slate-200 !font-bold !text-sm !rounded-xl !px-8 !py-3 !transition-all !shadow-sm !border-none !outline-none !m-0 !cursor-pointer active:!scale-95",icon:"!border-4 !border-rose-100 !text-rose-600 !scale-110 !mb-6 !mt-2"},buttonsStyling:!1,backdrop:"rgba(15, 23, 42, 0.4)"}).then(a=>{a.isConfirmed&&Z.delete(`/transactions/${n.id}`,{onSuccess:()=>{L.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:T=>{T.addEventListener("mouseenter",L.stopTimer),T.addEventListener("mouseleave",L.resumeTimer)}}).fire({icon:"success",title:s("deleted_title"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}})})},W=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n),st=()=>{w.value?r.put(`/transactions/${k.value}`,{onSuccess:()=>{r.reset(),f.value=!1,L.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",L.stopTimer),a.addEventListener("mouseleave",L.resumeTimer)}}).fire({icon:"success",title:s("successfully_updated"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}}):r.post("/transactions",{onSuccess:()=>{r.reset(),f.value=!1,L.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",L.stopTimer),a.addEventListener("mouseleave",L.resumeTimer)}}).fire({icon:"success",title:s("successfully_saved"),background:"#ffffff",color:"#1e293b",customClass:{popup:"swal2-toast !rounded-2xl !p-4 shadow-xl border border-slate-100",title:"!text-sm !font-bold !text-slate-900"}})}})},le=()=>{const n=localStorage.getItem("tour_state"),a=p.props.auth.user.has_completed_tour,o=["welcome","wallet_setup","transaction_setup"];if(!(d.value&&document.querySelector(".driver-popover"))&&(!n||n&&o.includes(n))){if(!n||n!=="transaction_setup"){if(!n&&a)return;localStorage.setItem("tour_state","transaction_setup")}const T=document.querySelector(".driver-popover"),A=document.querySelector(".driver-overlay");T&&T.remove(),A&&A.remove(),c.transactions.total===0?setTimeout(()=>{ot()},800):setTimeout(()=>{at()},800)}};it(()=>{le(),window.addEventListener("skip-tour",()=>{localStorage.removeItem("tour_state"),d.value&&d.value.destroy(),Z.post("/user/complete-tour",{},{preserveScroll:!0,preserveState:!0})})}),dt(()=>{d.value&&d.value.destroy()}),X(()=>p.url,()=>{le()}),X(()=>c.transactions.total,(n,a)=>{localStorage.getItem("tour_state")==="transaction_setup"&&n>0&&(a===0||!a)&&le()});const ot=()=>{d.value=Ce({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,steps:[{element:"#tour-transaction-add",popover:{title:s("tour_tx_add_title"),description:s("tour_tx_add_desc")+Te,position:"bottom"}}]}),d.value.drive()},at=()=>{const n=window.innerWidth<768;d.value=Ce({showProgress:!0,animate:!0,allowClose:!0,overlayOpacity:.85,onNextClick:()=>{d.value.isLastStep()?(localStorage.setItem("tour_state","dashboard_explanation"),Z.visit("/dashboard"),d.value.destroy()):d.value.moveNext()},steps:[{element:"#tour-transaction-list",popover:{title:s("tour_tx_list_title"),description:s("tour_tx_list_desc")+Te,position:n?"top":"bottom"}},{element:n?"#mobile-nav-home":"#nav-dashboard",popover:{title:s("tour_tx_full_picture_title"),description:s("tour_tx_full_picture_desc")+Te,position:n?"top":"bottom"}}]}),d.value.drive()};return(n,a)=>(m(),x(Y,null,[b(l(ut),{title:s("transactions")},null,8,["title"]),b(bt,null,{default:mt(()=>[e("header",Mt,[e("div",Pt,[e("h1",Bt,t(s("transactions")),1),e("p",Vt,t(s("manage_and_monitor")),1)]),e("button",{id:"tour-transaction-add",onClick:K,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-200 hover:shadow-xl hover:shadow-indigo-300 active:scale-95 transition-all flex items-center justify-center gap-2"},[b(l(Re),{class:"w-4 h-4"}),e("span",null,t(s("add_transaction")),1)])]),e("div",At,[e("div",zt,[e("div",Gt,[b(l(ae),{class:"w-32 h-32 text-white"})]),e("div",Ht,[e("div",Wt,[e("div",Xt,[b(l(ae),{class:"w-6 h-6 text-white"})]),e("h3",Jt,t(s("total_income")),1)]),e("div",Yt,[e("h2",Kt,t(W(u.summary.total_income)),1),e("div",Qt,[e("span",null,t(s("income_records")),1),e("span",Zt,t(et.value)+" "+t(s("items")),1)])])])]),e("div",es,[e("div",ts,[b(l(ie),{class:"w-32 h-32 text-white"})]),e("div",ss,[e("div",os,[e("div",as,[b(l(ie),{class:"w-6 h-6 text-white"})]),e("h3",ns,t(s("total_expense")),1)]),e("div",rs,[e("h2",ls,t(W(u.summary.total_expense)),1),e("div",is,[e("span",null,t(s("expense_records")),1),e("span",ds,t(tt.value)+" "+t(s("items")),1)])])])]),e("div",cs,[e("div",us,[b(l(De),{class:"w-32 h-32 text-white"})]),e("div",ms,[e("div",ps,[e("div",xs,[b(l(De),{class:"w-6 h-6 text-white"})]),e("h3",fs,t(s("net_balance")),1)]),e("div",bs,[e("h2",_s,t(W(u.summary.net_balance)),1),e("div",gs,[e("span",null,t(s("savings_efficiency")),1),e("span",hs,t(Ze.value.toFixed(1))+"%",1)])])])])]),e("div",vs,[e("div",ys,[b(l(Le),{class:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),B(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>y.value=o),type:"text",placeholder:s("search_transactions"),class:"w-full bg-white border-none rounded-2xl pl-12 pr-10 py-4 text-slate-900 placeholder-slate-400 shadow-sm focus:ring-2 focus:ring-indigo-600/10 transition-all font-semibold"},null,8,ws),[[J,y.value]])]),e("button",{onClick:a[1]||(a[1]=o=>M.value=!M.value),class:S(["hidden md:flex items-center gap-3 px-6 py-4 bg-white border border-slate-100 rounded-2xl text-slate-600 hover:bg-slate-50 transition-all font-bold text-sm shadow-sm",{"bg-slate-50 ring-2 ring-indigo-600/10":M.value}])},[b(l(Oe),{class:"w-5 h-5 text-slate-400"}),e("span",null,t(s("filter")),1)],2)]),M.value?(m(),x("div",ks,[e("div",Ts,[e("label",Ss,t(s("wallet_source")),1),e("div",js,[B(e("select",{"onUpdate:modelValue":a[2]||(a[2]=o=>_.value.wallet_id=o),class:"w-full bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm py-3.5 px-4 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 appearance-none font-semibold transition-all"},[e("option",Is,t(s("all_wallets")),1),(m(!0),x(Y,null,ne(u.wallets,o=>(m(),x("option",{key:o.id,value:o.id},t(o.name),9,Cs))),128))],512),[[je,_.value.wallet_id]]),e("div",Ds,[b(l(Oe),{class:"w-4 h-4"})])])]),e("div",Rs,[e("label",Os,t(s("transaction_type")),1),e("div",$s,[e("button",{onClick:a[3]||(a[3]=o=>_.value.type=""),class:S(["flex-1 text-xs rounded-lg font-bold transition-all",_.value.type===""?"bg-white text-slate-900 shadow-sm ring-1 ring-slate-200/50":"text-slate-500 hover:text-slate-900"])},t(s("all")),3),e("button",{onClick:a[4]||(a[4]=o=>_.value.type="income"),class:S(["flex-1 text-xs rounded-lg font-bold transition-all",_.value.type==="income"?"bg-emerald-500 text-white shadow-md":"text-slate-500 hover:text-slate-900"])},t(s("income")),3),e("button",{onClick:a[5]||(a[5]=o=>_.value.type="expense"),class:S(["flex-1 text-xs rounded-lg font-bold transition-all",_.value.type==="expense"?"bg-rose-500 text-white shadow-md":"text-slate-500 hover:text-slate-900"])},t(s("expense")),3)])]),e("div",qs,[e("label",Ls,t(s("from_date")),1),B(e("input",{"onUpdate:modelValue":a[6]||(a[6]=o=>_.value.start_date=o),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm py-3 px-4 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 font-semibold transition-all"},null,512),[[J,_.value.start_date]])]),e("div",Es,[e("label",Ns,t(s("to_date")),1),B(e("input",{"onUpdate:modelValue":a[7]||(a[7]=o=>_.value.end_date=o),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl text-slate-900 text-sm py-3 px-4 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 font-semibold transition-all"},null,512),[[J,_.value.end_date]])]),e("div",Us,[e("button",{onClick:te,class:"text-xs font-bold text-slate-400 hover:text-indigo-600 transition-all flex items-center gap-2 px-4 py-2 hover:bg-indigo-50 rounded-xl border border-transparent hover:border-indigo-100"},[b(l(de),{class:"w-3.5 h-3.5"}),e("span",null,t(s("reset_all_filters")),1)])])])):h("",!0),e("div",Fs,[u.transactions.data.length>0?(m(),x("div",Ms,[e("div",Ps,[e("div",Bs,[e("table",Vs,[e("thead",As,[e("tr",zs,[e("th",Gs,t(s("date")),1),e("th",Hs,t(s("description")),1),e("th",Ws,t(s("wallet")),1),e("th",Xs,t(s("category")),1),e("th",Js,t(s("amount")),1),e("th",Ys,t(s("actions")),1)])]),e("tbody",Ks,[(m(!0),x(Y,null,ne(u.transactions.data,o=>(m(),x("tr",{key:o.id,class:"group hover:bg-slate-50/80 transition-colors"},[e("td",Qs,[e("div",Zs,t(new Date(o.date).toLocaleDateString(n.$page.props.locale==="id"?"id-ID":"en-GB",{day:"numeric",month:"short",year:"numeric"})),1)]),e("td",eo,[e("div",to,t(o.description||(o.category?o.category.name:s("unknown"))),1)]),e("td",so,[e("div",oo,[e("div",{class:S(["w-2 h-2 rounded-full",U(o.wallet?.type)])},null,2),e("span",ao,t(o.wallet?o.wallet.name:s("unknown")),1)])]),e("td",no,[e("span",{class:S(["inline-flex items-center px-3 py-1 rounded-full text-xs font-bold text-white border border-white/20",o.category?.color||"bg-slate-500"])},t(o.category?o.category.name:"Uncategorized"),3)]),e("td",ro,[e("div",lo,[e("span",{class:S(["text-sm font-bold tabular-nums block",o.type==="expense"?"text-slate-900":"text-emerald-600"])},t(o.type==="expense"?"-":"+")+" "+t(new Intl.NumberFormat(o.currency==="USD"?"en-US":"id-ID",{style:"currency",currency:o.currency||"IDR",maximumFractionDigits:0}).format(o.amount)),3),o.currency!=="IDR"&&o.amount_in_base_currency?(m(),x("span",io," ≈ "+t(W(o.amount_in_base_currency)),1)):h("",!0)])]),e("td",co,[e("div",uo,[e("button",{onClick:T=>se(o),class:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 border border-transparent hover:border-indigo-100 rounded-lg transition-all"},[b(l($e),{class:"w-4 h-4"})],8,mo),e("button",{onClick:T=>Se(o),class:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 border border-transparent hover:border-rose-100 rounded-lg transition-all"},[b(l(qe),{class:"w-4 h-4"})],8,po)])])]))),128))])])]),e("div",xo,[e("div",fo,[e("div",bo,[e("span",_o,t(s("show")),1),B(e("select",{"onUpdate:modelValue":a[8]||(a[8]=o=>_.value.per_page=o),class:"appearance-none bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 py-2 px-4 pr-10 focus:ring-2 focus:ring-indigo-600/10 focus:border-indigo-600 transition-all outline-none cursor-pointer shadow-sm"},[e("option",go,"10 "+t(s("entries")),1),e("option",ho,"25 "+t(s("entries")),1),e("option",vo,"50 "+t(s("entries")),1),e("option",yo,"100 "+t(s("entries")),1)],512),[[je,_.value.per_page]])]),e("span",wo,t(s("showing"))+" "+t(u.transactions.from||0)+" "+t(s("to"))+" "+t(u.transactions.to||0)+" "+t(s("of_paging"))+" "+t(u.transactions.total)+" "+t(s("entries")),1)]),b(jt,{links:u.transactions.links},null,8,["links"])])]),e("div",ko,[(m(!0),x(Y,null,ne(D.value,o=>(m(),x("div",{key:o.id,onClick:T=>j(o),class:"p-4 bg-white rounded-2xl border border-slate-100 shadow-sm transition-all animate-in fade-in slide-in-from-bottom-2 duration-300 cursor-pointer active:bg-slate-50"},[e("div",So,[e("div",jo,[e("p",Io,t(new Date(o.date).getDate())+" "+t(new Date(o.date).toLocaleDateString(l(p).props.locale||"id-ID",{month:"short"}))+" "+t(new Date(o.date).getFullYear()),1),e("div",null,[e("h4",Co,t(o.description||(o.category?o.category.name:s("unknown"))),1),e("div",Do,[e("span",{class:S(["inline-flex px-2 py-0.5 rounded-full text-[9px] font-bold text-white border border-white/20 whitespace-nowrap",o.category?.color||"bg-slate-500"])},t(o.category?o.category.name:s("uncategorized")),3),e("span",Ro,[e("div",{class:S(["w-1.5 h-1.5 rounded-full",U(o.wallet?.type)])},null,2),z(" "+t(o.wallet?o.wallet.name:s("unknown")),1)])])])]),e("div",Oo,[e("span",{class:S(["text-[14px] font-bold tabular-nums tracking-tight block",o.type==="expense"?"text-slate-900":"text-emerald-600"])},t(o.type==="expense"?"-":"+")+" "+t(new Intl.NumberFormat(o.currency==="USD"?"en-US":"id-ID",{style:"currency",currency:o.currency||"IDR",maximumFractionDigits:0}).format(o.amount)),3),o.currency!=="IDR"&&o.amount_in_base_currency?(m(),x("span",$o," ≈ "+t(W(o.amount_in_base_currency)),1)):h("",!0)])])],8,To))),128))]),e("div",qo,[e("div",Lo,[O.value?(m(),x("button",{key:0,onClick:V,disabled:E.value,class:"w-full bg-white border border-slate-200 text-slate-600 font-bold text-sm py-4 px-6 rounded-2xl shadow-sm active:scale-95 transition-all flex items-center justify-between"},[e("div",No,[E.value?(m(),x("span",Uo)):h("",!0),e("span",null,t(E.value?s("loading"):s("read_more")),1)]),E.value?h("",!0):(m(),ee(l(wt),{key:0,class:"w-5 h-5 text-slate-400"}))],8,Eo)):(m(),x("span",Fo,t(s("no_more_transactions")),1))])])])):(m(),x("div",Mo,[e("div",Po,[(m(),ee(pt(H.value?l(Le):l(ae)),{class:"w-8 h-8 text-slate-300"}))]),e("h4",Bo,t(H.value?s("no_results"):s("no_activity_detected")),1),e("p",Vo,t(H.value?s("no_results_desc"):s("start_tracking_finances")),1),H.value?h("",!0):(m(),x("button",{key:0,onClick:K,class:"inline-flex items-center gap-2 px-5 py-2.5 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 rounded-xl text-sm font-bold transition-all active:scale-95 mx-auto"},[b(l(Re),{class:"w-4 h-4"}),e("span",null,t(s("add_first_transaction")),1)]))]))])]),_:1}),(m(),ee(Ie,{to:"body"},[f.value?(m(),x("div",Ao,[e("div",{onClick:a[9]||(a[9]=o=>f.value=!1),class:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",zo,[e("div",Go,[e("div",null,[e("h2",Ho,t(w.value?s("edit_transaction"):s("add_transaction")),1),e("p",Wo,t(w.value?s("edit_transaction_details"):s("fill_transaction_info")),1)]),e("button",{onClick:a[10]||(a[10]=o=>f.value=!1),class:"p-2 hover:bg-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all"},[b(l(de),{class:"w-6 h-6"})])]),e("div",Xo,[e("form",{onSubmit:xt(st,["prevent"]),class:"space-y-6"},[e("div",Jo,[e("button",{type:"button",onClick:a[11]||(a[11]=o=>l(r).type="income"),class:S([l(r).type==="income"?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"text-slate-500 hover:text-slate-900","flex-1 py-3 rounded-xl transition-all font-bold text-sm flex items-center justify-center gap-2"])},[b(l(ae),{class:"w-4 h-4"}),z(" "+t(s("income")),1)],2),e("button",{type:"button",onClick:a[12]||(a[12]=o=>l(r).type="expense"),class:S([l(r).type==="expense"?"bg-rose-500 text-white shadow-lg shadow-rose-200":"text-slate-500 hover:text-slate-900","flex-1 py-3 rounded-xl transition-all font-bold text-sm flex items-center justify-center gap-2"])},[b(l(ie),{class:"w-4 h-4"}),z(" "+t(s("expense")),1)],2)]),l(r).errors.type?(m(),x("div",Yo,t(l(r).errors.type),1)):h("",!0),e("div",Ko,[e("div",null,[e("label",Qo,t(s("wallet")),1),b(ht,{modelValue:l(r).wallet_id,"onUpdate:modelValue":a[13]||(a[13]=o=>l(r).wallet_id=o),options:re.value,placeholder:s("select_wallet")},null,8,["modelValue","options","placeholder"]),l(r).errors.wallet_id?(m(),x("div",Zo,t(l(r).errors.wallet_id),1)):h("",!0)]),e("div",null,[e("label",ea,t(s("date")),1),B(e("input",{"onUpdate:modelValue":a[14]||(a[14]=o=>l(r).date=o),type:"date",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-semibold text-sm"},null,512),[[J,l(r).date]]),l(r).errors.date?(m(),x("div",ta,t(l(r).errors.date),1)):h("",!0)])]),e("div",null,[e("label",sa,t(s("amount")),1),b(_t,{modelValue:l(r).amount,"onUpdate:modelValue":a[15]||(a[15]=o=>l(r).amount=o),currency:N.value,placeholder:N.value==="USD"?"$ 0":"Rp 0"},null,8,["modelValue","currency","placeholder"]),l(r).errors.amount?(m(),x("div",oa,t(l(r).errors.amount),1)):h("",!0)]),g.value?(m(),x("div",aa,[e("div",na,[e("label",ra,t(s("exchange_rate"))+" ("+t(N.value)+" to IDR)",1),e("div",la,[b(l(kt),{class:"w-3 h-3"}),z(" "+t(s("auto")),1)])]),B(e("input",{"onUpdate:modelValue":a[16]||(a[16]=o=>l(r).exchange_rate=o),type:"number",step:"0.01",class:"w-full bg-white border border-indigo-200 rounded-xl px-4 py-3 font-mono text-indigo-900 focus:ring-2 focus:ring-indigo-500 transition-all font-semibold",placeholder:`1 ${N.value} = ... IDR`},null,8,ia),[[J,l(r).exchange_rate]]),l(r).errors.exchange_rate?(m(),x("div",da,t(l(r).errors.exchange_rate),1)):h("",!0),$.value?(m(),x("div",ca,[e("span",null,t(s("conversion"))+":",1),e("span",null,t($.value),1)])):h("",!0)])):h("",!0),e("div",null,[e("label",ua,t(s("category")),1),b(gt,{modelValue:l(r).category,"onUpdate:modelValue":a[17]||(a[17]=o=>l(r).category=o),categories:u.categories,type:l(r).type,placeholder:s("select_or_type_category"),"can-create":I.value,onLimitReached:a[18]||(a[18]=o=>C.value=!0)},null,8,["modelValue","categories","type","placeholder","can-create"]),l(r).errors.category?(m(),x("div",ma,t(l(r).errors.category),1)):h("",!0)]),e("div",null,[e("label",pa,[z(t(s("description"))+" ",1),e("span",xa,"("+t(s("optional"))+")",1)]),B(e("textarea",{"onUpdate:modelValue":a[19]||(a[19]=o=>l(r).description=o),class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 min-h-[100px] text-sm font-medium text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all resize-none",placeholder:s("details_placeholder")},null,8,fa),[[J,l(r).description]]),l(r).errors.description?(m(),x("div",ba,t(l(r).errors.description),1)):h("",!0)]),e("div",_a,[e("button",{type:"button",onClick:a[20]||(a[20]=o=>f.value=!1),class:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-700 px-6 py-4 rounded-xl font-bold text-sm transition-all"},t(s("cancel")),1),e("button",ga,t(w.value?s("update_transaction"):s("save_transaction")),1)])],32)])])])):h("",!0)])),(m(),ee(Ie,{to:"body"},[v.value?(m(),x("div",ha,[e("div",{onClick:a[21]||(a[21]=o=>v.value=!1),class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity"}),e("div",va,[i.value?(m(),x("div",ya,[e("div",wa,[e("div",ka,[e("h3",Ta,t(s("transaction_details")),1),e("p",Sa,t(new Date(i.value.date).toLocaleDateString(n.$page.props.locale==="id"?"id-ID":"en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),1)]),e("button",{onClick:a[22]||(a[22]=o=>v.value=!1),class:"p-2 -mr-2 -mt-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors"},[b(l(de),{class:"w-5 h-5"})])]),e("div",ja,[e("span",{class:S(["text-2xl font-bold tracking-tight tabular-nums block",i.value.type==="expense"?"text-slate-900":"text-emerald-500"])},t(i.value.type==="expense"?"-":"+")+" "+t(new Intl.NumberFormat(i.value.currency==="USD"?"en-US":"id-ID",{style:"currency",currency:i.value.currency||"IDR",maximumFractionDigits:0}).format(i.value.amount)),3),i.value.currency!=="IDR"&&i.value.amount_in_base_currency?(m(),x("span",Ia," ≈ "+t(W(i.value.amount_in_base_currency)),1)):h("",!0)]),e("div",Ca,[e("div",Da,[e("p",Ra,t(s("wallet")),1),e("div",Oa,[e("div",{class:S(["w-2 h-2 rounded-full",U(i.value.wallet?.type)])},null,2),e("p",$a,t(i.value.wallet?.name),1)])]),e("div",qa,[e("p",La,t(s("category")),1),e("span",{class:S(["inline-flex items-center px-2 py-0.5 rounded-md text-[10px] font-bold text-white mt-0.5",i.value.category?.color||"bg-slate-500"])},t(i.value.category?i.value.category.name:s("uncategorized")),3)])]),e("div",Ea,[e("p",Na,t(s("description")),1),e("p",Ua,t(i.value.description||s("no_description_provided")),1)]),e("div",Fa,[e("button",{onClick:a[23]||(a[23]=o=>{se(i.value),v.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-xl font-bold text-sm transition-colors"},[b(l($e),{class:"w-4 h-4"}),z(" "+t(s("edit")),1)]),e("button",{onClick:a[24]||(a[24]=o=>{Se(i.value),v.value=!1}),class:"flex items-center justify-center gap-2 py-3 bg-rose-50 hover:bg-rose-100 text-rose-600 rounded-xl font-bold text-sm transition-colors"},[b(l(qe),{class:"w-4 h-4"}),z(" "+t(s("delete")),1)])])])):h("",!0)])])):h("",!0)])),b(vt,{show:C.value,title:s("category_limit_reached"),description:s("unlock_unlimited_categories"),onClose:a[25]||(a[25]=o=>C.value=!1)},null,8,["show","title","description"])],64))}};export{cn as default};
